var VL=Object.defineProperty;var FL=(t,e,r)=>e in t?VL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var xu=(t,e,r)=>FL(t,typeof e!="symbol"?e+"":e,r);function BL(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fk={exports:{}},dm={},hk={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=Symbol.for("react.element"),UL=Symbol.for("react.portal"),zL=Symbol.for("react.fragment"),WL=Symbol.for("react.strict_mode"),GL=Symbol.for("react.profiler"),qL=Symbol.for("react.provider"),HL=Symbol.for("react.context"),KL=Symbol.for("react.forward_ref"),YL=Symbol.for("react.suspense"),XL=Symbol.for("react.memo"),QL=Symbol.for("react.lazy"),SS=Symbol.iterator;function JL(t){return t===null||typeof t!="object"?null:(t=SS&&t[SS]||t["@@iterator"],typeof t=="function"?t:null)}var pk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mk=Object.assign,gk={};function Cl(t,e,r){this.props=t,this.context=e,this.refs=gk,this.updater=r||pk}Cl.prototype.isReactComponent={};Cl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yk(){}yk.prototype=Cl.prototype;function xx(t,e,r){this.props=t,this.context=e,this.refs=gk,this.updater=r||pk}var wx=xx.prototype=new yk;wx.constructor=xx;mk(wx,Cl.prototype);wx.isPureReactComponent=!0;var ES=Array.isArray,vk=Object.prototype.hasOwnProperty,_x={current:null},bk={key:!0,ref:!0,__self:!0,__source:!0};function xk(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)vk.call(e,n)&&!bk.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Od,type:t,key:o,ref:a,props:i,_owner:_x.current}}function ZL(t,e){return{$$typeof:Od,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Od}function e4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var AS=/\/+/g;function uy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e4(""+t.key):e.toString(36)}function Zf(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Od:case UL:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+uy(a,0):n,ES(i)?(r="",t!=null&&(r=t.replace(AS,"$&/")+"/"),Zf(i,e,r,"",function(u){return u})):i!=null&&(Sx(i)&&(i=ZL(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(AS,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",ES(t))for(var s=0;s<t.length;s++){o=t[s];var l=n+uy(o,s);a+=Zf(o,e,r,l,i)}else if(l=JL(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=n+uy(o,s++),a+=Zf(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function gf(t,e,r){if(t==null)return t;var n=[],i=0;return Zf(t,n,"","",function(o){return e.call(r,o,i++)}),n}function t4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hr={current:null},eh={transition:null},r4={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:eh,ReactCurrentOwner:_x};function wk(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:gf,forEach:function(t,e,r){gf(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return gf(t,function(){e++}),e},toArray:function(t){return gf(t,function(e){return e})||[]},only:function(t){if(!Sx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Cl;we.Fragment=zL;we.Profiler=GL;we.PureComponent=xx;we.StrictMode=WL;we.Suspense=YL;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r4;we.act=wk;we.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=mk({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=_x.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)vk.call(e,l)&&!bk.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Od,type:t.type,key:i,ref:o,props:n,_owner:a}};we.createContext=function(t){return t={$$typeof:HL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qL,_context:t},t.Consumer=t};we.createElement=xk;we.createFactory=function(t){var e=xk.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:KL,render:t}};we.isValidElement=Sx;we.lazy=function(t){return{$$typeof:QL,_payload:{_status:-1,_result:t},_init:t4}};we.memo=function(t,e){return{$$typeof:XL,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=eh.transition;eh.transition={};try{t()}finally{eh.transition=e}};we.unstable_act=wk;we.useCallback=function(t,e){return hr.current.useCallback(t,e)};we.useContext=function(t){return hr.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return hr.current.useDeferredValue(t)};we.useEffect=function(t,e){return hr.current.useEffect(t,e)};we.useId=function(){return hr.current.useId()};we.useImperativeHandle=function(t,e,r){return hr.current.useImperativeHandle(t,e,r)};we.useInsertionEffect=function(t,e){return hr.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return hr.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return hr.current.useMemo(t,e)};we.useReducer=function(t,e,r){return hr.current.useReducer(t,e,r)};we.useRef=function(t){return hr.current.useRef(t)};we.useState=function(t){return hr.current.useState(t)};we.useSyncExternalStore=function(t,e,r){return hr.current.useSyncExternalStore(t,e,r)};we.useTransition=function(){return hr.current.useTransition()};we.version="18.3.1";hk.exports=we;var D=hk.exports;const M=De(D),n4=BL({__proto__:null,default:M},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4=D,o4=Symbol.for("react.element"),a4=Symbol.for("react.fragment"),s4=Object.prototype.hasOwnProperty,l4=i4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u4={key:!0,ref:!0,__self:!0,__source:!0};function _k(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)s4.call(e,n)&&!u4.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:o4,type:t,key:o,ref:a,props:i,_owner:l4.current}}dm.Fragment=a4;dm.jsx=_k;dm.jsxs=_k;fk.exports=dm;var f=fk.exports,Ev={},Sk={exports:{}},Vr={},Ek={exports:{}},Ak={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,W){var Y=V.length;V.push(W);e:for(;0<Y;){var ee=Y-1>>>1,X=V[ee];if(0<i(X,W))V[ee]=W,V[Y]=X,Y=ee;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var W=V[0],Y=V.pop();if(Y!==W){V[0]=Y;e:for(var ee=0,X=V.length,re=X>>>1;ee<re;){var Se=2*(ee+1)-1,Ne=V[Se],rt=Se+1,Dt=V[rt];if(0>i(Ne,Y))rt<X&&0>i(Dt,Ne)?(V[ee]=Dt,V[rt]=Y,ee=rt):(V[ee]=Ne,V[Se]=Y,ee=Se);else if(rt<X&&0>i(Dt,Y))V[ee]=Dt,V[rt]=Y,ee=rt;else break e}}return W}function i(V,W){var Y=V.sortIndex-W.sortIndex;return Y!==0?Y:V.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,p=3,m=!1,w=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=V)n(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=r(u)}}function I(V){if(g=!1,_(V),!w)if(r(l)!==null)w=!0,B(b);else{var W=r(u);W!==null&&G(I,W.startTime-V)}}function b(V,W){w=!1,g&&(g=!1,x(S),S=-1),m=!0;var Y=p;try{for(_(W),d=r(l);d!==null&&(!(d.expirationTime>W)||V&&!O());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var X=ee(d.expirationTime<=W);W=t.unstable_now(),typeof X=="function"?d.callback=X:d===r(l)&&n(l),_(W)}else n(l);d=r(l)}if(d!==null)var re=!0;else{var Se=r(u);Se!==null&&G(I,Se.startTime-W),re=!1}return re}finally{d=null,p=Y,m=!1}}var T=!1,A=null,S=-1,P=5,N=-1;function O(){return!(t.unstable_now()-N<P)}function C(){if(A!==null){var V=t.unstable_now();N=V;var W=!0;try{W=A(!0,V)}finally{W?j():(T=!1,A=null)}}else T=!1}var j;if(typeof v=="function")j=function(){v(C)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,F=L.port2;L.port1.onmessage=C,j=function(){F.postMessage(null)}}else j=function(){y(C,0)};function B(V){A=V,T||(T=!0,j())}function G(V,W){S=y(function(){V(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,B(b))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var Y=p;p=W;try{return V()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=p;p=V;try{return W()}finally{p=Y}},t.unstable_scheduleCallback=function(V,W,Y){var ee=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ee+Y:ee):Y=ee,V){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,V={id:c++,callback:W,priorityLevel:V,startTime:Y,expirationTime:X,sortIndex:-1},Y>ee?(V.sortIndex=Y,e(u,V),r(l)===null&&V===r(u)&&(g?(x(S),S=-1):g=!0,G(I,Y-ee))):(V.sortIndex=X,e(l,V),w||m||(w=!0,B(b))),V},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(V){var W=p;return function(){var Y=p;p=W;try{return V.apply(this,arguments)}finally{p=Y}}}})(Ak);Ek.exports=Ak;var c4=Ek.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4=D,Lr=c4;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tk=new Set,bc={};function Ba(t,e){Ws(t,e),Ws(t+"Capture",e)}function Ws(t,e){for(bc[t]=e,t=0;t<e.length;t++)Tk.add(e[t])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Av=Object.prototype.hasOwnProperty,f4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TS={},PS={};function h4(t){return Av.call(PS,t)?!0:Av.call(TS,t)?!1:f4.test(t)?PS[t]=!0:(TS[t]=!0,!1)}function p4(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m4(t,e,r,n){if(e===null||typeof e>"u"||p4(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pr(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ex=/[\-:]([a-z])/g;function Ax(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ex,Ax);zt[e]=new pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ex,Ax);zt[e]=new pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ex,Ax);zt[e]=new pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new pr(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tx(t,e,r,n){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m4(e,r,i,n)&&(r=null),n||i===null?h4(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ki=d4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yf=Symbol.for("react.element"),ds=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),Px=Symbol.for("react.strict_mode"),Tv=Symbol.for("react.profiler"),Pk=Symbol.for("react.provider"),Ik=Symbol.for("react.context"),Ix=Symbol.for("react.forward_ref"),Pv=Symbol.for("react.suspense"),Iv=Symbol.for("react.suspense_list"),Ox=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),Ok=Symbol.for("react.offscreen"),IS=Symbol.iterator;function wu(t){return t===null||typeof t!="object"?null:(t=IS&&t[IS]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,cy;function Bu(t){if(cy===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);cy=e&&e[1]||""}return`
`+cy+t}var dy=!1;function fy(t,e){if(!t||dy)return"";dy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{dy=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Bu(t):""}function g4(t){switch(t.tag){case 5:return Bu(t.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return t=fy(t.type,!1),t;case 11:return t=fy(t.type.render,!1),t;case 1:return t=fy(t.type,!0),t;default:return""}}function Ov(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fs:return"Fragment";case ds:return"Portal";case Tv:return"Profiler";case Px:return"StrictMode";case Pv:return"Suspense";case Iv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ik:return(t.displayName||"Context")+".Consumer";case Pk:return(t._context.displayName||"Context")+".Provider";case Ix:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ox:return e=t.displayName||null,e!==null?e:Ov(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return Ov(t(e))}catch{}}return null}function y4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ov(e);case 8:return e===Px?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v4(t){var e=kk(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vf(t){t._valueTracker||(t._valueTracker=v4(t))}function Nk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=kk(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function _h(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kv(t,e){var r=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function OS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=wo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jk(t,e){e=e.checked,e!=null&&Tx(t,"checked",e,!1)}function Nv(t,e){jk(t,e);var r=wo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jv(t,e.type,r):e.hasOwnProperty("defaultValue")&&jv(t,e.type,wo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function jv(t,e,r){(e!=="number"||_h(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Uu=Array.isArray;function Os(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+wo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function NS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(J(92));if(Uu(r)){if(1<r.length)throw Error(J(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:wo(r)}}function Ck(t,e){var r=wo(e.value),n=wo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function jS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bf,Dk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bf=bf||document.createElement("div"),bf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b4=["Webkit","ms","Moz","O"];Object.keys(Ju).forEach(function(t){b4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ju[e]=Ju[t]})});function Mk(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ju.hasOwnProperty(t)&&Ju[t]?(""+e).trim():e+"px"}function $k(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Mk(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var x4=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dv(t,e){if(e){if(x4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Mv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $v=null;function kx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lv=null,ks=null,Ns=null;function CS(t){if(t=jd(t)){if(typeof Lv!="function")throw Error(J(280));var e=t.stateNode;e&&(e=gm(e),Lv(t.stateNode,t.type,e))}}function Lk(t){ks?Ns?Ns.push(t):Ns=[t]:ks=t}function Vk(){if(ks){var t=ks,e=Ns;if(Ns=ks=null,CS(t),e)for(t=0;t<e.length;t++)CS(e[t])}}function Fk(t,e){return t(e)}function Bk(){}var hy=!1;function Uk(t,e,r){if(hy)return t(e,r);hy=!0;try{return Fk(t,e,r)}finally{hy=!1,(ks!==null||Ns!==null)&&(Bk(),Vk())}}function wc(t,e){var r=t.stateNode;if(r===null)return null;var n=gm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(J(231,e,typeof r));return r}var Vv=!1;if(vi)try{var _u={};Object.defineProperty(_u,"passive",{get:function(){Vv=!0}}),window.addEventListener("test",_u,_u),window.removeEventListener("test",_u,_u)}catch{Vv=!1}function w4(t,e,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Zu=!1,Sh=null,Eh=!1,Fv=null,_4={onError:function(t){Zu=!0,Sh=t}};function S4(t,e,r,n,i,o,a,s,l){Zu=!1,Sh=null,w4.apply(_4,arguments)}function E4(t,e,r,n,i,o,a,s,l){if(S4.apply(this,arguments),Zu){if(Zu){var u=Sh;Zu=!1,Sh=null}else throw Error(J(198));Eh||(Eh=!0,Fv=u)}}function Ua(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function zk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function RS(t){if(Ua(t)!==t)throw Error(J(188))}function A4(t){var e=t.alternate;if(!e){if(e=Ua(t),e===null)throw Error(J(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return RS(i),t;if(o===n)return RS(i),e;o=o.sibling}throw Error(J(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?t:e}function Wk(t){return t=A4(t),t!==null?Gk(t):null}function Gk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gk(t);if(e!==null)return e;t=t.sibling}return null}var qk=Lr.unstable_scheduleCallback,DS=Lr.unstable_cancelCallback,T4=Lr.unstable_shouldYield,P4=Lr.unstable_requestPaint,pt=Lr.unstable_now,I4=Lr.unstable_getCurrentPriorityLevel,Nx=Lr.unstable_ImmediatePriority,Hk=Lr.unstable_UserBlockingPriority,Ah=Lr.unstable_NormalPriority,O4=Lr.unstable_LowPriority,Kk=Lr.unstable_IdlePriority,fm=null,Rn=null;function k4(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(fm,t,void 0,(t.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:C4,N4=Math.log,j4=Math.LN2;function C4(t){return t>>>=0,t===0?32:31-(N4(t)/j4|0)|0}var xf=64,wf=4194304;function zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Th(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=zu(s):(o&=a,o!==0&&(n=zu(o)))}else a=r&~i,a!==0?n=zu(a):o!==0&&(n=zu(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-mn(e),i=1<<r,n|=t[r],e&=~i;return n}function R4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D4(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-mn(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=R4(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Bv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yk(){var t=xf;return xf<<=1,!(xf&4194240)&&(xf=64),t}function py(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function kd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mn(e),t[e]=r}function M4(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-mn(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function jx(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-mn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ce=0;function Xk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qk,Cx,Jk,Zk,e2,Uv=!1,_f=[],ao=null,so=null,lo=null,_c=new Map,Sc=new Map,Ki=[],$4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MS(t,e){switch(t){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":_c.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(e.pointerId)}}function Su(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=jd(e),e!==null&&Cx(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function L4(t,e,r,n,i){switch(e){case"focusin":return ao=Su(ao,t,e,r,n,i),!0;case"dragenter":return so=Su(so,t,e,r,n,i),!0;case"mouseover":return lo=Su(lo,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return _c.set(o,Su(_c.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Sc.set(o,Su(Sc.get(o)||null,t,e,r,n,i)),!0}return!1}function t2(t){var e=ia(t.target);if(e!==null){var r=Ua(e);if(r!==null){if(e=r.tag,e===13){if(e=zk(r),e!==null){t.blockedOn=e,e2(t.priority,function(){Jk(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function th(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=zv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);$v=n,r.target.dispatchEvent(n),$v=null}else return e=jd(r),e!==null&&Cx(e),t.blockedOn=r,!1;e.shift()}return!0}function $S(t,e,r){th(t)&&r.delete(e)}function V4(){Uv=!1,ao!==null&&th(ao)&&(ao=null),so!==null&&th(so)&&(so=null),lo!==null&&th(lo)&&(lo=null),_c.forEach($S),Sc.forEach($S)}function Eu(t,e){t.blockedOn===e&&(t.blockedOn=null,Uv||(Uv=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,V4)))}function Ec(t){function e(i){return Eu(i,t)}if(0<_f.length){Eu(_f[0],t);for(var r=1;r<_f.length;r++){var n=_f[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ao!==null&&Eu(ao,t),so!==null&&Eu(so,t),lo!==null&&Eu(lo,t),_c.forEach(e),Sc.forEach(e),r=0;r<Ki.length;r++)n=Ki[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ki.length&&(r=Ki[0],r.blockedOn===null);)t2(r),r.blockedOn===null&&Ki.shift()}var js=ki.ReactCurrentBatchConfig,Ph=!0;function F4(t,e,r,n){var i=Ce,o=js.transition;js.transition=null;try{Ce=1,Rx(t,e,r,n)}finally{Ce=i,js.transition=o}}function B4(t,e,r,n){var i=Ce,o=js.transition;js.transition=null;try{Ce=4,Rx(t,e,r,n)}finally{Ce=i,js.transition=o}}function Rx(t,e,r,n){if(Ph){var i=zv(t,e,r,n);if(i===null)Ey(t,e,n,Ih,r),MS(t,n);else if(L4(i,t,e,r,n))n.stopPropagation();else if(MS(t,n),e&4&&-1<$4.indexOf(t)){for(;i!==null;){var o=jd(i);if(o!==null&&Qk(o),o=zv(t,e,r,n),o===null&&Ey(t,e,n,Ih,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Ey(t,e,n,null,r)}}var Ih=null;function zv(t,e,r,n){if(Ih=null,t=kx(n),t=ia(t),t!==null)if(e=Ua(t),e===null)t=null;else if(r=e.tag,r===13){if(t=zk(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ih=t,null}function r2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I4()){case Nx:return 1;case Hk:return 4;case Ah:case O4:return 16;case Kk:return 536870912;default:return 16}default:return 16}}var eo=null,Dx=null,rh=null;function n2(){if(rh)return rh;var t,e=Dx,r=e.length,n,i="value"in eo?eo.value:eo.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return rh=i.slice(t,1<n?1-n:void 0)}function nh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sf(){return!0}function LS(){return!1}function Fr(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sf:LS,this.isPropagationStopped=LS,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sf)},persist:function(){},isPersistent:Sf}),e}var Rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mx=Fr(Rl),Nd=st({},Rl,{view:0,detail:0}),U4=Fr(Nd),my,gy,Au,hm=st({},Nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$x,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Au&&(Au&&t.type==="mousemove"?(my=t.screenX-Au.screenX,gy=t.screenY-Au.screenY):gy=my=0,Au=t),my)},movementY:function(t){return"movementY"in t?t.movementY:gy}}),VS=Fr(hm),z4=st({},hm,{dataTransfer:0}),W4=Fr(z4),G4=st({},Nd,{relatedTarget:0}),yy=Fr(G4),q4=st({},Rl,{animationName:0,elapsedTime:0,pseudoElement:0}),H4=Fr(q4),K4=st({},Rl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Y4=Fr(K4),X4=st({},Rl,{data:0}),FS=Fr(X4),Q4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z4[t])?!!e[t]:!1}function $x(){return e3}var t3=st({},Nd,{key:function(t){if(t.key){var e=Q4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$x,charCode:function(t){return t.type==="keypress"?nh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),r3=Fr(t3),n3=st({},hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BS=Fr(n3),i3=st({},Nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$x}),o3=Fr(i3),a3=st({},Rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),s3=Fr(a3),l3=st({},hm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u3=Fr(l3),c3=[9,13,27,32],Lx=vi&&"CompositionEvent"in window,ec=null;vi&&"documentMode"in document&&(ec=document.documentMode);var d3=vi&&"TextEvent"in window&&!ec,i2=vi&&(!Lx||ec&&8<ec&&11>=ec),US=" ",zS=!1;function o2(t,e){switch(t){case"keyup":return c3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function f3(t,e){switch(t){case"compositionend":return a2(e);case"keypress":return e.which!==32?null:(zS=!0,US);case"textInput":return t=e.data,t===US&&zS?null:t;default:return null}}function h3(t,e){if(hs)return t==="compositionend"||!Lx&&o2(t,e)?(t=n2(),rh=Dx=eo=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return i2&&e.locale!=="ko"?null:e.data;default:return null}}var p3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p3[t.type]:e==="textarea"}function s2(t,e,r,n){Lk(n),e=Oh(e,"onChange"),0<e.length&&(r=new Mx("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var tc=null,Ac=null;function m3(t){v2(t,0)}function pm(t){var e=gs(t);if(Nk(e))return t}function g3(t,e){if(t==="change")return e}var l2=!1;if(vi){var vy;if(vi){var by="oninput"in document;if(!by){var GS=document.createElement("div");GS.setAttribute("oninput","return;"),by=typeof GS.oninput=="function"}vy=by}else vy=!1;l2=vy&&(!document.documentMode||9<document.documentMode)}function qS(){tc&&(tc.detachEvent("onpropertychange",u2),Ac=tc=null)}function u2(t){if(t.propertyName==="value"&&pm(Ac)){var e=[];s2(e,Ac,t,kx(t)),Uk(m3,e)}}function y3(t,e,r){t==="focusin"?(qS(),tc=e,Ac=r,tc.attachEvent("onpropertychange",u2)):t==="focusout"&&qS()}function v3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pm(Ac)}function b3(t,e){if(t==="click")return pm(e)}function x3(t,e){if(t==="input"||t==="change")return pm(e)}function w3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:w3;function Tc(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Av.call(e,i)||!wn(t[i],e[i]))return!1}return!0}function HS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KS(t,e){var r=HS(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=HS(r)}}function c2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?c2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d2(){for(var t=window,e=_h();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=_h(t.document)}return e}function Vx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _3(t){var e=d2(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&c2(r.ownerDocument.documentElement,r)){if(n!==null&&Vx(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=KS(r,o);var a=KS(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S3=vi&&"documentMode"in document&&11>=document.documentMode,ps=null,Wv=null,rc=null,Gv=!1;function YS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gv||ps==null||ps!==_h(n)||(n=ps,"selectionStart"in n&&Vx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rc&&Tc(rc,n)||(rc=n,n=Oh(Wv,"onSelect"),0<n.length&&(e=new Mx("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ps)))}function Ef(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ms={animationend:Ef("Animation","AnimationEnd"),animationiteration:Ef("Animation","AnimationIteration"),animationstart:Ef("Animation","AnimationStart"),transitionend:Ef("Transition","TransitionEnd")},xy={},f2={};vi&&(f2=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function mm(t){if(xy[t])return xy[t];if(!ms[t])return t;var e=ms[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in f2)return xy[t]=e[r];return t}var h2=mm("animationend"),p2=mm("animationiteration"),m2=mm("animationstart"),g2=mm("transitionend"),y2=new Map,XS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(t,e){y2.set(t,e),Ba(e,[t])}for(var wy=0;wy<XS.length;wy++){var _y=XS[wy],E3=_y.toLowerCase(),A3=_y[0].toUpperCase()+_y.slice(1);Po(E3,"on"+A3)}Po(h2,"onAnimationEnd");Po(p2,"onAnimationIteration");Po(m2,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(g2,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function QS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,E4(n,e,void 0,t),t.currentTarget=null}function v2(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;QS(i,s,u),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;QS(i,s,u),o=l}}}if(Eh)throw t=Fv,Eh=!1,Fv=null,t}function Ke(t,e){var r=e[Xv];r===void 0&&(r=e[Xv]=new Set);var n=t+"__bubble";r.has(n)||(b2(e,t,2,!1),r.add(n))}function Sy(t,e,r){var n=0;e&&(n|=4),b2(r,t,n,e)}var Af="_reactListening"+Math.random().toString(36).slice(2);function Pc(t){if(!t[Af]){t[Af]=!0,Tk.forEach(function(r){r!=="selectionchange"&&(T3.has(r)||Sy(r,!1,t),Sy(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Af]||(e[Af]=!0,Sy("selectionchange",!1,e))}}function b2(t,e,r,n){switch(r2(e)){case 1:var i=F4;break;case 4:i=B4;break;default:i=Rx}r=i.bind(null,e,r,t),i=void 0,!Vv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Ey(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ia(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}Uk(function(){var u=o,c=kx(r),d=[];e:{var p=y2.get(t);if(p!==void 0){var m=Mx,w=t;switch(t){case"keypress":if(nh(r)===0)break e;case"keydown":case"keyup":m=r3;break;case"focusin":w="focus",m=yy;break;case"focusout":w="blur",m=yy;break;case"beforeblur":case"afterblur":m=yy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=VS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=W4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=o3;break;case h2:case p2:case m2:m=H4;break;case g2:m=s3;break;case"scroll":m=U4;break;case"wheel":m=u3;break;case"copy":case"cut":case"paste":m=Y4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=BS}var g=(e&4)!==0,y=!g&&t==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var v=u,_;v!==null;){_=v;var I=_.stateNode;if(_.tag===5&&I!==null&&(_=I,x!==null&&(I=wc(v,x),I!=null&&g.push(Ic(v,I,_)))),y)break;v=v.return}0<g.length&&(p=new m(p,w,null,r,c),d.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&r!==$v&&(w=r.relatedTarget||r.fromElement)&&(ia(w)||w[bi]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=r.relatedTarget||r.toElement,m=u,w=w?ia(w):null,w!==null&&(y=Ua(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(g=VS,I="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=BS,I="onPointerLeave",x="onPointerEnter",v="pointer"),y=m==null?p:gs(m),_=w==null?p:gs(w),p=new g(I,v+"leave",m,r,c),p.target=y,p.relatedTarget=_,I=null,ia(c)===u&&(g=new g(x,v+"enter",w,r,c),g.target=_,g.relatedTarget=y,I=g),y=I,m&&w)t:{for(g=m,x=w,v=0,_=g;_;_=is(_))v++;for(_=0,I=x;I;I=is(I))_++;for(;0<v-_;)g=is(g),v--;for(;0<_-v;)x=is(x),_--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=is(g),x=is(x)}g=null}else g=null;m!==null&&JS(d,p,m,g,!1),w!==null&&y!==null&&JS(d,y,w,g,!0)}}e:{if(p=u?gs(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var b=g3;else if(WS(p))if(l2)b=x3;else{b=v3;var T=y3}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=b3);if(b&&(b=b(t,u))){s2(d,b,r,c);break e}T&&T(t,p,u),t==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&jv(p,"number",p.value)}switch(T=u?gs(u):window,t){case"focusin":(WS(T)||T.contentEditable==="true")&&(ps=T,Wv=u,rc=null);break;case"focusout":rc=Wv=ps=null;break;case"mousedown":Gv=!0;break;case"contextmenu":case"mouseup":case"dragend":Gv=!1,YS(d,r,c);break;case"selectionchange":if(S3)break;case"keydown":case"keyup":YS(d,r,c)}var A;if(Lx)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else hs?o2(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(i2&&r.locale!=="ko"&&(hs||S!=="onCompositionStart"?S==="onCompositionEnd"&&hs&&(A=n2()):(eo=c,Dx="value"in eo?eo.value:eo.textContent,hs=!0)),T=Oh(u,S),0<T.length&&(S=new FS(S,t,null,r,c),d.push({event:S,listeners:T}),A?S.data=A:(A=a2(r),A!==null&&(S.data=A)))),(A=d3?f3(t,r):h3(t,r))&&(u=Oh(u,"onBeforeInput"),0<u.length&&(c=new FS("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=A))}v2(d,e)})}function Ic(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Oh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=wc(t,r),o!=null&&n.unshift(Ic(t,o,i)),o=wc(t,e),o!=null&&n.push(Ic(t,o,i))),t=t.return}return n}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function JS(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=wc(r,o),l!=null&&a.unshift(Ic(r,l,s))):i||(l=wc(r,o),l!=null&&a.push(Ic(r,l,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var P3=/\r\n?/g,I3=/\u0000|\uFFFD/g;function ZS(t){return(typeof t=="string"?t:""+t).replace(P3,`
`).replace(I3,"")}function Tf(t,e,r){if(e=ZS(e),ZS(t)!==e&&r)throw Error(J(425))}function kh(){}var qv=null,Hv=null;function Kv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yv=typeof setTimeout=="function"?setTimeout:void 0,O3=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,k3=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(t){return eE.resolve(null).then(t).catch(N3)}:Yv;function N3(t){setTimeout(function(){throw t})}function Ay(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ec(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ec(e)}function uo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Dl=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Dl,Oc="__reactProps$"+Dl,bi="__reactContainer$"+Dl,Xv="__reactEvents$"+Dl,j3="__reactListeners$"+Dl,C3="__reactHandles$"+Dl;function ia(t){var e=t[Nn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[bi]||r[Nn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=tE(t);t!==null;){if(r=t[Nn])return r;t=tE(t)}return e}t=r,r=t.parentNode}return null}function jd(t){return t=t[Nn]||t[bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function gm(t){return t[Oc]||null}var Qv=[],ys=-1;function Io(t){return{current:t}}function Je(t){0>ys||(t.current=Qv[ys],Qv[ys]=null,ys--)}function Ge(t,e){ys++,Qv[ys]=t.current,t.current=e}var _o={},ir=Io(_o),xr=Io(!1),_a=_o;function Gs(t,e){var r=t.type.contextTypes;if(!r)return _o;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wr(t){return t=t.childContextTypes,t!=null}function Nh(){Je(xr),Je(ir)}function rE(t,e,r){if(ir.current!==_o)throw Error(J(168));Ge(ir,e),Ge(xr,r)}function x2(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(J(108,y4(t)||"Unknown",i));return st({},r,n)}function jh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_o,_a=ir.current,Ge(ir,t),Ge(xr,xr.current),!0}function nE(t,e,r){var n=t.stateNode;if(!n)throw Error(J(169));r?(t=x2(t,e,_a),n.__reactInternalMemoizedMergedChildContext=t,Je(xr),Je(ir),Ge(ir,t)):Je(xr),Ge(xr,r)}var ri=null,ym=!1,Ty=!1;function w2(t){ri===null?ri=[t]:ri.push(t)}function R3(t){ym=!0,w2(t)}function Oo(){if(!Ty&&ri!==null){Ty=!0;var t=0,e=Ce;try{var r=ri;for(Ce=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ri=null,ym=!1}catch(i){throw ri!==null&&(ri=ri.slice(t+1)),qk(Nx,Oo),i}finally{Ce=e,Ty=!1}}return null}var vs=[],bs=0,Ch=null,Rh=0,Wr=[],Gr=0,Sa=null,ii=1,oi="";function Xo(t,e){vs[bs++]=Rh,vs[bs++]=Ch,Ch=t,Rh=e}function _2(t,e,r){Wr[Gr++]=ii,Wr[Gr++]=oi,Wr[Gr++]=Sa,Sa=t;var n=ii;t=oi;var i=32-mn(n)-1;n&=~(1<<i),r+=1;var o=32-mn(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ii=1<<32-mn(e)+i|r<<i|n,oi=o+t}else ii=1<<o|r<<i|n,oi=t}function Fx(t){t.return!==null&&(Xo(t,1),_2(t,1,0))}function Bx(t){for(;t===Ch;)Ch=vs[--bs],vs[bs]=null,Rh=vs[--bs],vs[bs]=null;for(;t===Sa;)Sa=Wr[--Gr],Wr[Gr]=null,oi=Wr[--Gr],Wr[Gr]=null,ii=Wr[--Gr],Wr[Gr]=null}var Rr=null,jr=null,Ze=!1,fn=null;function S2(t,e){var r=Hr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function iE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rr=t,jr=uo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rr=t,jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Sa!==null?{id:ii,overflow:oi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Hr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Rr=t,jr=null,!0):!1;default:return!1}}function Jv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zv(t){if(Ze){var e=jr;if(e){var r=e;if(!iE(t,e)){if(Jv(t))throw Error(J(418));e=uo(r.nextSibling);var n=Rr;e&&iE(t,e)?S2(n,r):(t.flags=t.flags&-4097|2,Ze=!1,Rr=t)}}else{if(Jv(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ze=!1,Rr=t}}}function oE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rr=t}function Pf(t){if(t!==Rr)return!1;if(!Ze)return oE(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kv(t.type,t.memoizedProps)),e&&(e=jr)){if(Jv(t))throw E2(),Error(J(418));for(;e;)S2(t,e),e=uo(e.nextSibling)}if(oE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){jr=uo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}jr=null}}else jr=Rr?uo(t.stateNode.nextSibling):null;return!0}function E2(){for(var t=jr;t;)t=uo(t.nextSibling)}function qs(){jr=Rr=null,Ze=!1}function Ux(t){fn===null?fn=[t]:fn.push(t)}var D3=ki.ReactCurrentBatchConfig;function Tu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,t))}return t}function If(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function aE(t){var e=t._init;return e(t._payload)}function A2(t){function e(x,v){if(t){var _=x.deletions;_===null?(x.deletions=[v],x.flags|=16):_.push(v)}}function r(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function n(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=po(x,v),x.index=0,x.sibling=null,x}function o(x,v,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<v?(x.flags|=2,v):_):(x.flags|=2,v)):(x.flags|=1048576,v)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,v,_,I){return v===null||v.tag!==6?(v=Cy(_,x.mode,I),v.return=x,v):(v=i(v,_),v.return=x,v)}function l(x,v,_,I){var b=_.type;return b===fs?c(x,v,_.props.children,I,_.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Wi&&aE(b)===v.type)?(I=i(v,_.props),I.ref=Tu(x,v,_),I.return=x,I):(I=ch(_.type,_.key,_.props,null,x.mode,I),I.ref=Tu(x,v,_),I.return=x,I)}function u(x,v,_,I){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Ry(_,x.mode,I),v.return=x,v):(v=i(v,_.children||[]),v.return=x,v)}function c(x,v,_,I,b){return v===null||v.tag!==7?(v=ga(_,x.mode,I,b),v.return=x,v):(v=i(v,_),v.return=x,v)}function d(x,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Cy(""+v,x.mode,_),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yf:return _=ch(v.type,v.key,v.props,null,x.mode,_),_.ref=Tu(x,null,v),_.return=x,_;case ds:return v=Ry(v,x.mode,_),v.return=x,v;case Wi:var I=v._init;return d(x,I(v._payload),_)}if(Uu(v)||wu(v))return v=ga(v,x.mode,_,null),v.return=x,v;If(x,v)}return null}function p(x,v,_,I){var b=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:s(x,v,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yf:return _.key===b?l(x,v,_,I):null;case ds:return _.key===b?u(x,v,_,I):null;case Wi:return b=_._init,p(x,v,b(_._payload),I)}if(Uu(_)||wu(_))return b!==null?null:c(x,v,_,I,null);If(x,_)}return null}function m(x,v,_,I,b){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(_)||null,s(v,x,""+I,b);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case yf:return x=x.get(I.key===null?_:I.key)||null,l(v,x,I,b);case ds:return x=x.get(I.key===null?_:I.key)||null,u(v,x,I,b);case Wi:var T=I._init;return m(x,v,_,T(I._payload),b)}if(Uu(I)||wu(I))return x=x.get(_)||null,c(v,x,I,b,null);If(v,I)}return null}function w(x,v,_,I){for(var b=null,T=null,A=v,S=v=0,P=null;A!==null&&S<_.length;S++){A.index>S?(P=A,A=null):P=A.sibling;var N=p(x,A,_[S],I);if(N===null){A===null&&(A=P);break}t&&A&&N.alternate===null&&e(x,A),v=o(N,v,S),T===null?b=N:T.sibling=N,T=N,A=P}if(S===_.length)return r(x,A),Ze&&Xo(x,S),b;if(A===null){for(;S<_.length;S++)A=d(x,_[S],I),A!==null&&(v=o(A,v,S),T===null?b=A:T.sibling=A,T=A);return Ze&&Xo(x,S),b}for(A=n(x,A);S<_.length;S++)P=m(A,x,S,_[S],I),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?S:P.key),v=o(P,v,S),T===null?b=P:T.sibling=P,T=P);return t&&A.forEach(function(O){return e(x,O)}),Ze&&Xo(x,S),b}function g(x,v,_,I){var b=wu(_);if(typeof b!="function")throw Error(J(150));if(_=b.call(_),_==null)throw Error(J(151));for(var T=b=null,A=v,S=v=0,P=null,N=_.next();A!==null&&!N.done;S++,N=_.next()){A.index>S?(P=A,A=null):P=A.sibling;var O=p(x,A,N.value,I);if(O===null){A===null&&(A=P);break}t&&A&&O.alternate===null&&e(x,A),v=o(O,v,S),T===null?b=O:T.sibling=O,T=O,A=P}if(N.done)return r(x,A),Ze&&Xo(x,S),b;if(A===null){for(;!N.done;S++,N=_.next())N=d(x,N.value,I),N!==null&&(v=o(N,v,S),T===null?b=N:T.sibling=N,T=N);return Ze&&Xo(x,S),b}for(A=n(x,A);!N.done;S++,N=_.next())N=m(A,x,S,N.value,I),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?S:N.key),v=o(N,v,S),T===null?b=N:T.sibling=N,T=N);return t&&A.forEach(function(C){return e(x,C)}),Ze&&Xo(x,S),b}function y(x,v,_,I){if(typeof _=="object"&&_!==null&&_.type===fs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case yf:e:{for(var b=_.key,T=v;T!==null;){if(T.key===b){if(b=_.type,b===fs){if(T.tag===7){r(x,T.sibling),v=i(T,_.props.children),v.return=x,x=v;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Wi&&aE(b)===T.type){r(x,T.sibling),v=i(T,_.props),v.ref=Tu(x,T,_),v.return=x,x=v;break e}r(x,T);break}else e(x,T);T=T.sibling}_.type===fs?(v=ga(_.props.children,x.mode,I,_.key),v.return=x,x=v):(I=ch(_.type,_.key,_.props,null,x.mode,I),I.ref=Tu(x,v,_),I.return=x,x=I)}return a(x);case ds:e:{for(T=_.key;v!==null;){if(v.key===T)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){r(x,v.sibling),v=i(v,_.children||[]),v.return=x,x=v;break e}else{r(x,v);break}else e(x,v);v=v.sibling}v=Ry(_,x.mode,I),v.return=x,x=v}return a(x);case Wi:return T=_._init,y(x,v,T(_._payload),I)}if(Uu(_))return w(x,v,_,I);if(wu(_))return g(x,v,_,I);If(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(r(x,v.sibling),v=i(v,_),v.return=x,x=v):(r(x,v),v=Cy(_,x.mode,I),v.return=x,x=v),a(x)):r(x,v)}return y}var Hs=A2(!0),T2=A2(!1),Dh=Io(null),Mh=null,xs=null,zx=null;function Wx(){zx=xs=Mh=null}function Gx(t){var e=Dh.current;Je(Dh),t._currentValue=e}function e0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Cs(t,e){Mh=t,zx=xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vr=!0),t.firstContext=null)}function Jr(t){var e=t._currentValue;if(zx!==t)if(t={context:t,memoizedValue:e,next:null},xs===null){if(Mh===null)throw Error(J(308));xs=t,Mh.dependencies={lanes:0,firstContext:t}}else xs=xs.next=t;return e}var oa=null;function qx(t){oa===null?oa=[t]:oa.push(t)}function P2(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,qx(e)):(r.next=i.next,i.next=r),e.interleaved=r,xi(t,n)}function xi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Gi=!1;function Hx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function co(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Pe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,xi(t,r)}return i=n.interleaved,i===null?(e.next=e,qx(n)):(e.next=i.next,i.next=e),n.interleaved=e,xi(t,r)}function ih(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jx(t,r)}}function sE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function $h(t,e,r,n){var i=t.updateQueue;Gi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var p=s.lane,m=s.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var w=t,g=s;switch(p=e,m=r,g.tag){case 1:if(w=g.payload,typeof w=="function"){d=w.call(m,d,p);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,p=typeof w=="function"?w.call(m,d,p):w,p==null)break e;d=st({},d,p);break e;case 2:Gi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Aa|=a,t.lanes=a,t.memoizedState=d}}function lE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(J(191,i));i.call(n)}}}var Cd={},Dn=Io(Cd),kc=Io(Cd),Nc=Io(Cd);function aa(t){if(t===Cd)throw Error(J(174));return t}function Kx(t,e){switch(Ge(Nc,e),Ge(kc,t),Ge(Dn,Cd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rv(e,t)}Je(Dn),Ge(Dn,e)}function Ks(){Je(Dn),Je(kc),Je(Nc)}function O2(t){aa(Nc.current);var e=aa(Dn.current),r=Rv(e,t.type);e!==r&&(Ge(kc,t),Ge(Dn,r))}function Yx(t){kc.current===t&&(Je(Dn),Je(kc))}var it=Io(0);function Lh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Py=[];function Xx(){for(var t=0;t<Py.length;t++)Py[t]._workInProgressVersionPrimary=null;Py.length=0}var oh=ki.ReactCurrentDispatcher,Iy=ki.ReactCurrentBatchConfig,Ea=0,at=null,Et=null,Nt=null,Vh=!1,nc=!1,jc=0,M3=0;function Xt(){throw Error(J(321))}function Qx(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!wn(t[r],e[r]))return!1;return!0}function Jx(t,e,r,n,i,o){if(Ea=o,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oh.current=t===null||t.memoizedState===null?F3:B3,t=r(n,i),nc){o=0;do{if(nc=!1,jc=0,25<=o)throw Error(J(301));o+=1,Nt=Et=null,e.updateQueue=null,oh.current=U3,t=r(n,i)}while(nc)}if(oh.current=Fh,e=Et!==null&&Et.next!==null,Ea=0,Nt=Et=at=null,Vh=!1,e)throw Error(J(300));return t}function Zx(){var t=jc!==0;return jc=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?at.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Zr(){if(Et===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=Nt===null?at.memoizedState:Nt.next;if(e!==null)Nt=e,Et=t;else{if(t===null)throw Error(J(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Nt===null?at.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Cc(t,e){return typeof e=="function"?e(t):e}function Oy(t){var e=Zr(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=Et,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Ea&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=n):l=l.next=d,at.lanes|=c,Aa|=c}u=u.next}while(u!==null&&u!==o);l===null?a=n:l.next=s,wn(n,e.memoizedState)||(vr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,at.lanes|=o,Aa|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ky(t){var e=Zr(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);wn(o,e.memoizedState)||(vr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function k2(){}function N2(t,e){var r=at,n=Zr(),i=e(),o=!wn(n.memoizedState,i);if(o&&(n.memoizedState=i,vr=!0),n=n.queue,ew(R2.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,Rc(9,C2.bind(null,r,n,i,e),void 0,null),Ct===null)throw Error(J(349));Ea&30||j2(r,e,i)}return i}function j2(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function C2(t,e,r,n){e.value=r,e.getSnapshot=n,D2(e)&&M2(t)}function R2(t,e,r){return r(function(){D2(e)&&M2(t)})}function D2(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!wn(t,r)}catch{return!0}}function M2(t){var e=xi(t,1);e!==null&&gn(e,t,1,-1)}function uE(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:t},e.queue=t,t=t.dispatch=V3.bind(null,at,t),[e.memoizedState,t]}function Rc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function $2(){return Zr().memoizedState}function ah(t,e,r,n){var i=On();at.flags|=t,i.memoizedState=Rc(1|e,r,void 0,n===void 0?null:n)}function vm(t,e,r,n){var i=Zr();n=n===void 0?null:n;var o=void 0;if(Et!==null){var a=Et.memoizedState;if(o=a.destroy,n!==null&&Qx(n,a.deps)){i.memoizedState=Rc(e,r,o,n);return}}at.flags|=t,i.memoizedState=Rc(1|e,r,o,n)}function cE(t,e){return ah(8390656,8,t,e)}function ew(t,e){return vm(2048,8,t,e)}function L2(t,e){return vm(4,2,t,e)}function V2(t,e){return vm(4,4,t,e)}function F2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B2(t,e,r){return r=r!=null?r.concat([t]):null,vm(4,4,F2.bind(null,e,t),r)}function tw(){}function U2(t,e){var r=Zr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Qx(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function z2(t,e){var r=Zr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Qx(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function W2(t,e,r){return Ea&21?(wn(r,e)||(r=Yk(),at.lanes|=r,Aa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vr=!0),t.memoizedState=r)}function $3(t,e){var r=Ce;Ce=r!==0&&4>r?r:4,t(!0);var n=Iy.transition;Iy.transition={};try{t(!1),e()}finally{Ce=r,Iy.transition=n}}function G2(){return Zr().memoizedState}function L3(t,e,r){var n=ho(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},q2(t))H2(e,r);else if(r=P2(t,e,r,n),r!==null){var i=fr();gn(r,t,n,i),K2(r,e,n)}}function V3(t,e,r){var n=ho(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(q2(t))H2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,wn(s,a)){var l=e.interleaved;l===null?(i.next=i,qx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=P2(t,e,i,n),r!==null&&(i=fr(),gn(r,t,n,i),K2(r,e,n))}}function q2(t){var e=t.alternate;return t===at||e!==null&&e===at}function H2(t,e){nc=Vh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function K2(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jx(t,r)}}var Fh={readContext:Jr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},F3={readContext:Jr,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:Jr,useEffect:cE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ah(4194308,4,F2.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ah(4194308,4,t,e)},useInsertionEffect:function(t,e){return ah(4,2,t,e)},useMemo:function(t,e){var r=On();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=On();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=L3.bind(null,at,t),[n.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:uE,useDebugValue:tw,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=uE(!1),e=t[0];return t=$3.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=at,i=On();if(Ze){if(r===void 0)throw Error(J(407));r=r()}else{if(r=e(),Ct===null)throw Error(J(349));Ea&30||j2(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,cE(R2.bind(null,n,o,t),[t]),n.flags|=2048,Rc(9,C2.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=On(),e=Ct.identifierPrefix;if(Ze){var r=oi,n=ii;r=(n&~(1<<32-mn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=jc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=M3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B3={readContext:Jr,useCallback:U2,useContext:Jr,useEffect:ew,useImperativeHandle:B2,useInsertionEffect:L2,useLayoutEffect:V2,useMemo:z2,useReducer:Oy,useRef:$2,useState:function(){return Oy(Cc)},useDebugValue:tw,useDeferredValue:function(t){var e=Zr();return W2(e,Et.memoizedState,t)},useTransition:function(){var t=Oy(Cc)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:k2,useSyncExternalStore:N2,useId:G2,unstable_isNewReconciler:!1},U3={readContext:Jr,useCallback:U2,useContext:Jr,useEffect:ew,useImperativeHandle:B2,useInsertionEffect:L2,useLayoutEffect:V2,useMemo:z2,useReducer:ky,useRef:$2,useState:function(){return ky(Cc)},useDebugValue:tw,useDeferredValue:function(t){var e=Zr();return Et===null?e.memoizedState=t:W2(e,Et.memoizedState,t)},useTransition:function(){var t=ky(Cc)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:k2,useSyncExternalStore:N2,useId:G2,unstable_isNewReconciler:!1};function un(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function t0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:st({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var bm={isMounted:function(t){return(t=t._reactInternals)?Ua(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=fr(),i=ho(t),o=fi(n,i);o.payload=e,r!=null&&(o.callback=r),e=co(t,o,i),e!==null&&(gn(e,t,i,n),ih(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=fr(),i=ho(t),o=fi(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=co(t,o,i),e!==null&&(gn(e,t,i,n),ih(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=fr(),n=ho(t),i=fi(r,n);i.tag=2,e!=null&&(i.callback=e),e=co(t,i,n),e!==null&&(gn(e,t,n,r),ih(e,t,n))}};function dE(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!Tc(r,n)||!Tc(i,o):!0}function Y2(t,e,r){var n=!1,i=_o,o=e.contextType;return typeof o=="object"&&o!==null?o=Jr(o):(i=wr(e)?_a:ir.current,n=e.contextTypes,o=(n=n!=null)?Gs(t,i):_o),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function fE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&bm.enqueueReplaceState(e,e.state,null)}function r0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Hx(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Jr(o):(o=wr(e)?_a:ir.current,i.context=Gs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(t0(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bm.enqueueReplaceState(i,i.state,null),$h(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ys(t,e){try{var r="",n=e;do r+=g4(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ny(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function n0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var z3=typeof WeakMap=="function"?WeakMap:Map;function X2(t,e,r){r=fi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Uh||(Uh=!0,h0=n),n0(t,e)},r}function Q2(t,e,r){r=fi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){n0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){n0(t,e),typeof n!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function hE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new z3;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=nV.bind(null,t,e,r),e.then(t,t))}function pE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fi(-1,1),e.tag=2,co(r,e,1))),r.lanes|=1),t)}var W3=ki.ReactCurrentOwner,vr=!1;function lr(t,e,r,n){e.child=t===null?T2(e,null,r,n):Hs(e,t.child,r,n)}function gE(t,e,r,n,i){r=r.render;var o=e.ref;return Cs(e,i),n=Jx(t,e,r,n,o,i),r=Zx(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wi(t,e,i)):(Ze&&r&&Fx(e),e.flags|=1,lr(t,e,n,i),e.child)}function yE(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!uw(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,J2(t,e,o,n,i)):(t=ch(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Tc,r(a,n)&&t.ref===e.ref)return wi(t,e,i)}return e.flags|=1,t=po(o,n),t.ref=e.ref,t.return=e,e.child=t}function J2(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(Tc(o,n)&&t.ref===e.ref)if(vr=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(vr=!0);else return e.lanes=t.lanes,wi(t,e,i)}return i0(t,e,r,n,i)}function Z2(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(_s,Ir),Ir|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(_s,Ir),Ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ge(_s,Ir),Ir|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Ge(_s,Ir),Ir|=n;return lr(t,e,i,r),e.child}function eN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function i0(t,e,r,n,i){var o=wr(r)?_a:ir.current;return o=Gs(e,o),Cs(e,i),r=Jx(t,e,r,n,o,i),n=Zx(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wi(t,e,i)):(Ze&&n&&Fx(e),e.flags|=1,lr(t,e,r,i),e.child)}function vE(t,e,r,n,i){if(wr(r)){var o=!0;jh(e)}else o=!1;if(Cs(e,i),e.stateNode===null)sh(t,e),Y2(e,r,n),r0(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Jr(u):(u=wr(r)?_a:ir.current,u=Gs(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==u)&&fE(e,a,n,u),Gi=!1;var p=e.memoizedState;a.state=p,$h(e,n,a,i),l=e.memoizedState,s!==n||p!==l||xr.current||Gi?(typeof c=="function"&&(t0(e,r,c,n),l=e.memoizedState),(s=Gi||dE(e,r,s,n,p,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,I2(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:un(e.type,s),a.props=u,d=e.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Jr(l):(l=wr(r)?_a:ir.current,l=Gs(e,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||p!==l)&&fE(e,a,n,l),Gi=!1,p=e.memoizedState,a.state=p,$h(e,n,a,i);var w=e.memoizedState;s!==d||p!==w||xr.current||Gi?(typeof m=="function"&&(t0(e,r,m,n),w=e.memoizedState),(u=Gi||dE(e,r,u,n,p,w,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),a.props=n,a.state=w,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return o0(t,e,r,n,o,i)}function o0(t,e,r,n,i,o){eN(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&nE(e,r,!1),wi(t,e,o);n=e.stateNode,W3.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Hs(e,t.child,null,o),e.child=Hs(e,null,s,o)):lr(t,e,s,o),e.memoizedState=n.state,i&&nE(e,r,!0),e.child}function tN(t){var e=t.stateNode;e.pendingContext?rE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rE(t,e.context,!1),Kx(t,e.containerInfo)}function bE(t,e,r,n,i){return qs(),Ux(i),e.flags|=256,lr(t,e,r,n),e.child}var a0={dehydrated:null,treeContext:null,retryLane:0};function s0(t){return{baseLanes:t,cachePool:null,transitions:null}}function rN(t,e,r){var n=e.pendingProps,i=it.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(it,i&1),t===null)return Zv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=_m(a,n,0,null),t=ga(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=s0(r),e.memoizedState=a0,t):rw(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return G3(t,e,a,n,s,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=po(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=po(s,o):(o=ga(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?s0(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=a0,n}return o=t.child,t=o.sibling,n=po(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function rw(t,e){return e=_m({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Of(t,e,r,n){return n!==null&&Ux(n),Hs(e,t.child,null,r),t=rw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G3(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=Ny(Error(J(422))),Of(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=_m({mode:"visible",children:n.children},i,0,null),o=ga(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Hs(e,t.child,null,a),e.child.memoizedState=s0(a),e.memoizedState=a0,o);if(!(e.mode&1))return Of(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(J(419)),n=Ny(o,n,void 0),Of(t,e,a,n)}if(s=(a&t.childLanes)!==0,vr||s){if(n=Ct,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xi(t,i),gn(n,t,i,-1))}return lw(),n=Ny(Error(J(421))),Of(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iV.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,jr=uo(i.nextSibling),Rr=e,Ze=!0,fn=null,t!==null&&(Wr[Gr++]=ii,Wr[Gr++]=oi,Wr[Gr++]=Sa,ii=t.id,oi=t.overflow,Sa=e),e=rw(e,n.children),e.flags|=4096,e)}function xE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),e0(t.return,e,r)}function jy(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function nN(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(lr(t,e,n.children,r),n=it.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xE(t,r,e);else if(t.tag===19)xE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ge(it,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Lh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),jy(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}jy(e,!0,r,null,o);break;case"together":jy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Aa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,r=po(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=po(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function q3(t,e,r){switch(e.tag){case 3:tN(e),qs();break;case 5:O2(e);break;case 1:wr(e.type)&&jh(e);break;case 4:Kx(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ge(Dh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ge(it,it.current&1),e.flags|=128,null):r&e.child.childLanes?rN(t,e,r):(Ge(it,it.current&1),t=wi(t,e,r),t!==null?t.sibling:null);Ge(it,it.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return nN(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(it,it.current),n)break;return null;case 22:case 23:return e.lanes=0,Z2(t,e,r)}return wi(t,e,r)}var iN,l0,oN,aN;iN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};l0=function(){};oN=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,aa(Dn.current);var o=null;switch(r){case"input":i=kv(t,i),n=kv(t,n),o=[];break;case"select":i=st({},i,{value:void 0}),n=st({},n,{value:void 0}),o=[];break;case"textarea":i=Cv(t,i),n=Cv(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=kh)}Dv(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ke("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};aN=function(t,e,r,n){r!==n&&(e.flags|=4)};function Pu(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function H3(t,e,r){var n=e.pendingProps;switch(Bx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return wr(e.type)&&Nh(),Qt(e),null;case 3:return n=e.stateNode,Ks(),Je(xr),Je(ir),Xx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Pf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(g0(fn),fn=null))),l0(t,e),Qt(e),null;case 5:Yx(e);var i=aa(Nc.current);if(r=e.type,t!==null&&e.stateNode!=null)oN(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(J(166));return Qt(e),null}if(t=aa(Dn.current),Pf(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Nn]=e,n[Oc]=o,t=(e.mode&1)!==0,r){case"dialog":Ke("cancel",n),Ke("close",n);break;case"iframe":case"object":case"embed":Ke("load",n);break;case"video":case"audio":for(i=0;i<Wu.length;i++)Ke(Wu[i],n);break;case"source":Ke("error",n);break;case"img":case"image":case"link":Ke("error",n),Ke("load",n);break;case"details":Ke("toggle",n);break;case"input":OS(n,o),Ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ke("invalid",n);break;case"textarea":NS(n,o),Ke("invalid",n)}Dv(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Tf(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Tf(n.textContent,s,t),i=["children",""+s]):bc.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ke("scroll",n)}switch(r){case"input":vf(n),kS(n,o,!0);break;case"textarea":vf(n),jS(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=kh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rk(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Nn]=e,t[Oc]=n,iN(t,e,!1,!1),e.stateNode=t;e:{switch(a=Mv(r,n),r){case"dialog":Ke("cancel",t),Ke("close",t),i=n;break;case"iframe":case"object":case"embed":Ke("load",t),i=n;break;case"video":case"audio":for(i=0;i<Wu.length;i++)Ke(Wu[i],t);i=n;break;case"source":Ke("error",t),i=n;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=n;break;case"details":Ke("toggle",t),i=n;break;case"input":OS(t,n),i=kv(t,n),Ke("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=st({},n,{value:void 0}),Ke("invalid",t);break;case"textarea":NS(t,n),i=Cv(t,n),Ke("invalid",t);break;default:i=n}Dv(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?$k(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dk(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&xc(t,l):typeof l=="number"&&xc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ke("scroll",t):l!=null&&Tx(t,o,l,a))}switch(r){case"input":vf(t),kS(t,n,!1);break;case"textarea":vf(t),jS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+wo(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Os(t,!!n.multiple,o,!1):n.defaultValue!=null&&Os(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)aN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(J(166));if(r=aa(Nc.current),aa(Dn.current),Pf(e)){if(n=e.stateNode,r=e.memoizedProps,n[Nn]=e,(o=n.nodeValue!==r)&&(t=Rr,t!==null))switch(t.tag){case 3:Tf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tf(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nn]=e,e.stateNode=n}return Qt(e),null;case 13:if(Je(it),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&jr!==null&&e.mode&1&&!(e.flags&128))E2(),qs(),e.flags|=98560,o=!1;else if(o=Pf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Nn]=e}else qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),o=!1}else fn!==null&&(g0(fn),fn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Tt===0&&(Tt=3):lw())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return Ks(),l0(t,e),t===null&&Pc(e.stateNode.containerInfo),Qt(e),null;case 10:return Gx(e.type._context),Qt(e),null;case 17:return wr(e.type)&&Nh(),Qt(e),null;case 19:if(Je(it),o=e.memoizedState,o===null)return Qt(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)Pu(o,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Lh(t),a!==null){for(e.flags|=128,Pu(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ge(it,it.current&1|2),e.child}t=t.sibling}o.tail!==null&&pt()>Xs&&(e.flags|=128,n=!0,Pu(o,!1),e.lanes=4194304)}else{if(!n)if(t=Lh(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Pu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ze)return Qt(e),null}else 2*pt()-o.renderingStartTime>Xs&&r!==1073741824&&(e.flags|=128,n=!0,Pu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pt(),e.sibling=null,r=it.current,Ge(it,n?r&1|2:r&1),e):(Qt(e),null);case 22:case 23:return sw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ir&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function K3(t,e){switch(Bx(e),e.tag){case 1:return wr(e.type)&&Nh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ks(),Je(xr),Je(ir),Xx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yx(e),null;case 13:if(Je(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(it),null;case 4:return Ks(),null;case 10:return Gx(e.type._context),null;case 22:case 23:return sw(),null;case 24:return null;default:return null}}var kf=!1,tr=!1,Y3=typeof WeakSet=="function"?WeakSet:Set,ie=null;function ws(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dt(t,e,n)}else r.current=null}function u0(t,e,r){try{r()}catch(n){dt(t,e,n)}}var wE=!1;function X3(t,e){if(qv=Ph,t=d2(),Vx(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(s=a+i),d!==o||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===r&&++u===i&&(s=a),p===o&&++c===n&&(l=a),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hv={focusedElem:t,selectionRange:r},Ph=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,y=w.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:un(e.type,g),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(I){dt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return w=wE,wE=!1,w}function ic(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&u0(e,r,o)}i=i.next}while(i!==n)}}function xm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function c0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function sN(t){var e=t.alternate;e!==null&&(t.alternate=null,sN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[Oc],delete e[Xv],delete e[j3],delete e[C3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lN(t){return t.tag===5||t.tag===3||t.tag===4}function _E(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function d0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=kh));else if(n!==4&&(t=t.child,t!==null))for(d0(t,e,r),t=t.sibling;t!==null;)d0(t,e,r),t=t.sibling}function f0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(f0(t,e,r),t=t.sibling;t!==null;)f0(t,e,r),t=t.sibling}var Lt=null,cn=!1;function Bi(t,e,r){for(r=r.child;r!==null;)uN(t,e,r),r=r.sibling}function uN(t,e,r){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(fm,r)}catch{}switch(r.tag){case 5:tr||ws(r,e);case 6:var n=Lt,i=cn;Lt=null,Bi(t,e,r),Lt=n,cn=i,Lt!==null&&(cn?(t=Lt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Lt.removeChild(r.stateNode));break;case 18:Lt!==null&&(cn?(t=Lt,r=r.stateNode,t.nodeType===8?Ay(t.parentNode,r):t.nodeType===1&&Ay(t,r),Ec(t)):Ay(Lt,r.stateNode));break;case 4:n=Lt,i=cn,Lt=r.stateNode.containerInfo,cn=!0,Bi(t,e,r),Lt=n,cn=i;break;case 0:case 11:case 14:case 15:if(!tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&u0(r,e,a),i=i.next}while(i!==n)}Bi(t,e,r);break;case 1:if(!tr&&(ws(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){dt(r,e,s)}Bi(t,e,r);break;case 21:Bi(t,e,r);break;case 22:r.mode&1?(tr=(n=tr)||r.memoizedState!==null,Bi(t,e,r),tr=n):Bi(t,e,r);break;default:Bi(t,e,r)}}function SE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Y3),e.forEach(function(n){var i=oV.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function an(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Lt=s.stateNode,cn=!1;break e;case 3:Lt=s.stateNode.containerInfo,cn=!0;break e;case 4:Lt=s.stateNode.containerInfo,cn=!0;break e}s=s.return}if(Lt===null)throw Error(J(160));uN(o,a,i),Lt=null,cn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){dt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cN(e,t),e=e.sibling}function cN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(an(e,t),In(t),n&4){try{ic(3,t,t.return),xm(3,t)}catch(g){dt(t,t.return,g)}try{ic(5,t,t.return)}catch(g){dt(t,t.return,g)}}break;case 1:an(e,t),In(t),n&512&&r!==null&&ws(r,r.return);break;case 5:if(an(e,t),In(t),n&512&&r!==null&&ws(r,r.return),t.flags&32){var i=t.stateNode;try{xc(i,"")}catch(g){dt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&jk(i,o),Mv(s,a);var u=Mv(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?$k(i,d):c==="dangerouslySetInnerHTML"?Dk(i,d):c==="children"?xc(i,d):Tx(i,c,d,u)}switch(s){case"input":Nv(i,o);break;case"textarea":Ck(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Os(i,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Os(i,!!o.multiple,o.defaultValue,!0):Os(i,!!o.multiple,o.multiple?[]:"",!1))}i[Oc]=o}catch(g){dt(t,t.return,g)}}break;case 6:if(an(e,t),In(t),n&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){dt(t,t.return,g)}}break;case 3:if(an(e,t),In(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ec(e.containerInfo)}catch(g){dt(t,t.return,g)}break;case 4:an(e,t),In(t);break;case 13:an(e,t),In(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ow=pt())),n&4&&SE(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(tr=(u=tr)||c,an(e,t),tr=u):an(e,t),In(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ie=t,c=t.child;c!==null;){for(d=ie=c;ie!==null;){switch(p=ie,m=p.child,p.tag){case 0:case 11:case 14:case 15:ic(4,p,p.return);break;case 1:ws(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(g){dt(n,r,g)}}break;case 5:ws(p,p.return);break;case 22:if(p.memoizedState!==null){AE(d);continue}}m!==null?(m.return=p,ie=m):AE(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Mk("display",a))}catch(g){dt(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){dt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:an(e,t),In(t),n&4&&SE(t);break;case 21:break;default:an(e,t),In(t)}}function In(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(lN(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(xc(i,""),n.flags&=-33);var o=_E(t);f0(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=_E(t);d0(t,s,a);break;default:throw Error(J(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Q3(t,e,r){ie=t,dN(t)}function dN(t,e,r){for(var n=(t.mode&1)!==0;ie!==null;){var i=ie,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||kf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||tr;s=kf;var u=tr;if(kf=a,(tr=l)&&!u)for(ie=i;ie!==null;)a=ie,l=a.child,a.tag===22&&a.memoizedState!==null?TE(i):l!==null?(l.return=a,ie=l):TE(i);for(;o!==null;)ie=o,dN(o),o=o.sibling;ie=i,kf=s,tr=u}EE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ie=o):EE(t)}}function EE(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tr||xm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!tr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:un(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&lE(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}lE(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ec(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}tr||e.flags&512&&c0(e)}catch(p){dt(e,e.return,p)}}if(e===t){ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,ie=r;break}ie=e.return}}function AE(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ie=r;break}ie=e.return}}function TE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{xm(4,e)}catch(l){dt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){dt(e,i,l)}}var o=e.return;try{c0(e)}catch(l){dt(e,o,l)}break;case 5:var a=e.return;try{c0(e)}catch(l){dt(e,a,l)}}}catch(l){dt(e,e.return,l)}if(e===t){ie=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ie=s;break}ie=e.return}}var J3=Math.ceil,Bh=ki.ReactCurrentDispatcher,nw=ki.ReactCurrentOwner,Yr=ki.ReactCurrentBatchConfig,Pe=0,Ct=null,bt=null,Bt=0,Ir=0,_s=Io(0),Tt=0,Dc=null,Aa=0,wm=0,iw=0,oc=null,mr=null,ow=0,Xs=1/0,ei=null,Uh=!1,h0=null,fo=null,Nf=!1,to=null,zh=0,ac=0,p0=null,lh=-1,uh=0;function fr(){return Pe&6?pt():lh!==-1?lh:lh=pt()}function ho(t){return t.mode&1?Pe&2&&Bt!==0?Bt&-Bt:D3.transition!==null?(uh===0&&(uh=Yk()),uh):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:r2(t.type)),t):1}function gn(t,e,r,n){if(50<ac)throw ac=0,p0=null,Error(J(185));kd(t,r,n),(!(Pe&2)||t!==Ct)&&(t===Ct&&(!(Pe&2)&&(wm|=r),Tt===4&&Yi(t,Bt)),_r(t,n),r===1&&Pe===0&&!(e.mode&1)&&(Xs=pt()+500,ym&&Oo()))}function _r(t,e){var r=t.callbackNode;D4(t,e);var n=Th(t,t===Ct?Bt:0);if(n===0)r!==null&&DS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&DS(r),e===1)t.tag===0?R3(PE.bind(null,t)):w2(PE.bind(null,t)),k3(function(){!(Pe&6)&&Oo()}),r=null;else{switch(Xk(n)){case 1:r=Nx;break;case 4:r=Hk;break;case 16:r=Ah;break;case 536870912:r=Kk;break;default:r=Ah}r=bN(r,fN.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function fN(t,e){if(lh=-1,uh=0,Pe&6)throw Error(J(327));var r=t.callbackNode;if(Rs()&&t.callbackNode!==r)return null;var n=Th(t,t===Ct?Bt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Wh(t,n);else{e=n;var i=Pe;Pe|=2;var o=pN();(Ct!==t||Bt!==e)&&(ei=null,Xs=pt()+500,ma(t,e));do try{tV();break}catch(s){hN(t,s)}while(!0);Wx(),Bh.current=o,Pe=i,bt!==null?e=0:(Ct=null,Bt=0,e=Tt)}if(e!==0){if(e===2&&(i=Bv(t),i!==0&&(n=i,e=m0(t,i))),e===1)throw r=Dc,ma(t,0),Yi(t,n),_r(t,pt()),r;if(e===6)Yi(t,n);else{if(i=t.current.alternate,!(n&30)&&!Z3(i)&&(e=Wh(t,n),e===2&&(o=Bv(t),o!==0&&(n=o,e=m0(t,o))),e===1))throw r=Dc,ma(t,0),Yi(t,n),_r(t,pt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(J(345));case 2:Qo(t,mr,ei);break;case 3:if(Yi(t,n),(n&130023424)===n&&(e=ow+500-pt(),10<e)){if(Th(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){fr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yv(Qo.bind(null,t,mr,ei),e);break}Qo(t,mr,ei);break;case 4:if(Yi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-mn(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*J3(n/1960))-n,10<n){t.timeoutHandle=Yv(Qo.bind(null,t,mr,ei),n);break}Qo(t,mr,ei);break;case 5:Qo(t,mr,ei);break;default:throw Error(J(329))}}}return _r(t,pt()),t.callbackNode===r?fN.bind(null,t):null}function m0(t,e){var r=oc;return t.current.memoizedState.isDehydrated&&(ma(t,e).flags|=256),t=Wh(t,e),t!==2&&(e=mr,mr=r,e!==null&&g0(e)),t}function g0(t){mr===null?mr=t:mr.push.apply(mr,t)}function Z3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!wn(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yi(t,e){for(e&=~iw,e&=~wm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-mn(e),n=1<<r;t[r]=-1,e&=~n}}function PE(t){if(Pe&6)throw Error(J(327));Rs();var e=Th(t,0);if(!(e&1))return _r(t,pt()),null;var r=Wh(t,e);if(t.tag!==0&&r===2){var n=Bv(t);n!==0&&(e=n,r=m0(t,n))}if(r===1)throw r=Dc,ma(t,0),Yi(t,e),_r(t,pt()),r;if(r===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qo(t,mr,ei),_r(t,pt()),null}function aw(t,e){var r=Pe;Pe|=1;try{return t(e)}finally{Pe=r,Pe===0&&(Xs=pt()+500,ym&&Oo())}}function Ta(t){to!==null&&to.tag===0&&!(Pe&6)&&Rs();var e=Pe;Pe|=1;var r=Yr.transition,n=Ce;try{if(Yr.transition=null,Ce=1,t)return t()}finally{Ce=n,Yr.transition=r,Pe=e,!(Pe&6)&&Oo()}}function sw(){Ir=_s.current,Je(_s)}function ma(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,O3(r)),bt!==null)for(r=bt.return;r!==null;){var n=r;switch(Bx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nh();break;case 3:Ks(),Je(xr),Je(ir),Xx();break;case 5:Yx(n);break;case 4:Ks();break;case 13:Je(it);break;case 19:Je(it);break;case 10:Gx(n.type._context);break;case 22:case 23:sw()}r=r.return}if(Ct=t,bt=t=po(t.current,null),Bt=Ir=e,Tt=0,Dc=null,iw=wm=Aa=0,mr=oc=null,oa!==null){for(e=0;e<oa.length;e++)if(r=oa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}oa=null}return t}function hN(t,e){do{var r=bt;try{if(Wx(),oh.current=Fh,Vh){for(var n=at.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vh=!1}if(Ea=0,Nt=Et=at=null,nc=!1,jc=0,nw.current=null,r===null||r.return===null){Tt=1,Dc=e,bt=null;break}e:{var o=t,a=r.return,s=r,l=e;if(e=Bt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=pE(a);if(m!==null){m.flags&=-257,mE(m,a,s,o,e),m.mode&1&&hE(o,u,e),e=m,l=u;var w=e.updateQueue;if(w===null){var g=new Set;g.add(l),e.updateQueue=g}else w.add(l);break e}else{if(!(e&1)){hE(o,u,e),lw();break e}l=Error(J(426))}}else if(Ze&&s.mode&1){var y=pE(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),mE(y,a,s,o,e),Ux(Ys(l,s));break e}}o=l=Ys(l,s),Tt!==4&&(Tt=2),oc===null?oc=[o]:oc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=X2(o,l,e);sE(o,x);break e;case 1:s=l;var v=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(fo===null||!fo.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=Q2(o,s,e);sE(o,I);break e}}o=o.return}while(o!==null)}gN(r)}catch(b){e=b,bt===r&&r!==null&&(bt=r=r.return);continue}break}while(!0)}function pN(){var t=Bh.current;return Bh.current=Fh,t===null?Fh:t}function lw(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Ct===null||!(Aa&268435455)&&!(wm&268435455)||Yi(Ct,Bt)}function Wh(t,e){var r=Pe;Pe|=2;var n=pN();(Ct!==t||Bt!==e)&&(ei=null,ma(t,e));do try{eV();break}catch(i){hN(t,i)}while(!0);if(Wx(),Pe=r,Bh.current=n,bt!==null)throw Error(J(261));return Ct=null,Bt=0,Tt}function eV(){for(;bt!==null;)mN(bt)}function tV(){for(;bt!==null&&!T4();)mN(bt)}function mN(t){var e=vN(t.alternate,t,Ir);t.memoizedProps=t.pendingProps,e===null?gN(t):bt=e,nw.current=null}function gN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=K3(r,e),r!==null){r.flags&=32767,bt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,bt=null;return}}else if(r=H3(r,e,Ir),r!==null){bt=r;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);Tt===0&&(Tt=5)}function Qo(t,e,r){var n=Ce,i=Yr.transition;try{Yr.transition=null,Ce=1,rV(t,e,r,n)}finally{Yr.transition=i,Ce=n}return null}function rV(t,e,r,n){do Rs();while(to!==null);if(Pe&6)throw Error(J(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(M4(t,o),t===Ct&&(bt=Ct=null,Bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nf||(Nf=!0,bN(Ah,function(){return Rs(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Yr.transition,Yr.transition=null;var a=Ce;Ce=1;var s=Pe;Pe|=4,nw.current=null,X3(t,r),cN(r,t),_3(Hv),Ph=!!qv,Hv=qv=null,t.current=r,Q3(r),P4(),Pe=s,Ce=a,Yr.transition=o}else t.current=r;if(Nf&&(Nf=!1,to=t,zh=i),o=t.pendingLanes,o===0&&(fo=null),k4(r.stateNode),_r(t,pt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Uh)throw Uh=!1,t=h0,h0=null,t;return zh&1&&t.tag!==0&&Rs(),o=t.pendingLanes,o&1?t===p0?ac++:(ac=0,p0=t):ac=0,Oo(),null}function Rs(){if(to!==null){var t=Xk(zh),e=Yr.transition,r=Ce;try{if(Yr.transition=null,Ce=16>t?16:t,to===null)var n=!1;else{if(t=to,to=null,zh=0,Pe&6)throw Error(J(331));var i=Pe;for(Pe|=4,ie=t.current;ie!==null;){var o=ie,a=o.child;if(ie.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ie=u;ie!==null;){var c=ie;switch(c.tag){case 0:case 11:case 15:ic(8,c,o)}var d=c.child;if(d!==null)d.return=c,ie=d;else for(;ie!==null;){c=ie;var p=c.sibling,m=c.return;if(sN(c),c===u){ie=null;break}if(p!==null){p.return=m,ie=p;break}ie=m}}}var w=o.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ie=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ie=a;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ic(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ie=x;break e}ie=o.return}}var v=t.current;for(ie=v;ie!==null;){a=ie;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,ie=_;else e:for(a=v;ie!==null;){if(s=ie,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:xm(9,s)}}catch(b){dt(s,s.return,b)}if(s===a){ie=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,ie=I;break e}ie=s.return}}if(Pe=i,Oo(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(fm,t)}catch{}n=!0}return n}finally{Ce=r,Yr.transition=e}}return!1}function IE(t,e,r){e=Ys(r,e),e=X2(t,e,1),t=co(t,e,1),e=fr(),t!==null&&(kd(t,1,e),_r(t,e))}function dt(t,e,r){if(t.tag===3)IE(t,t,r);else for(;e!==null;){if(e.tag===3){IE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fo===null||!fo.has(n))){t=Ys(r,t),t=Q2(e,t,1),e=co(e,t,1),t=fr(),e!==null&&(kd(e,1,t),_r(e,t));break}}e=e.return}}function nV(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=fr(),t.pingedLanes|=t.suspendedLanes&r,Ct===t&&(Bt&r)===r&&(Tt===4||Tt===3&&(Bt&130023424)===Bt&&500>pt()-ow?ma(t,0):iw|=r),_r(t,e)}function yN(t,e){e===0&&(t.mode&1?(e=wf,wf<<=1,!(wf&130023424)&&(wf=4194304)):e=1);var r=fr();t=xi(t,e),t!==null&&(kd(t,e,r),_r(t,r))}function iV(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),yN(t,r)}function oV(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(e),yN(t,r)}var vN;vN=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||xr.current)vr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return vr=!1,q3(t,e,r);vr=!!(t.flags&131072)}else vr=!1,Ze&&e.flags&1048576&&_2(e,Rh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;sh(t,e),t=e.pendingProps;var i=Gs(e,ir.current);Cs(e,r),i=Jx(null,e,n,t,i,r);var o=Zx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wr(n)?(o=!0,jh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hx(e),i.updater=bm,e.stateNode=i,i._reactInternals=e,r0(e,n,t,r),e=o0(null,e,n,!0,o,r)):(e.tag=0,Ze&&o&&Fx(e),lr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(sh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=sV(n),t=un(n,t),i){case 0:e=i0(null,e,n,t,r);break e;case 1:e=vE(null,e,n,t,r);break e;case 11:e=gE(null,e,n,t,r);break e;case 14:e=yE(null,e,n,un(n.type,t),r);break e}throw Error(J(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),i0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),vE(t,e,n,i,r);case 3:e:{if(tN(e),t===null)throw Error(J(387));n=e.pendingProps,o=e.memoizedState,i=o.element,I2(t,e),$h(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ys(Error(J(423)),e),e=bE(t,e,n,r,i);break e}else if(n!==i){i=Ys(Error(J(424)),e),e=bE(t,e,n,r,i);break e}else for(jr=uo(e.stateNode.containerInfo.firstChild),Rr=e,Ze=!0,fn=null,r=T2(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qs(),n===i){e=wi(t,e,r);break e}lr(t,e,n,r)}e=e.child}return e;case 5:return O2(e),t===null&&Zv(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Kv(n,i)?a=null:o!==null&&Kv(n,o)&&(e.flags|=32),eN(t,e),lr(t,e,a,r),e.child;case 6:return t===null&&Zv(e),null;case 13:return rN(t,e,r);case 4:return Kx(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Hs(e,null,n,r):lr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),gE(t,e,n,i,r);case 7:return lr(t,e,e.pendingProps,r),e.child;case 8:return lr(t,e,e.pendingProps.children,r),e.child;case 12:return lr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ge(Dh,n._currentValue),n._currentValue=a,o!==null)if(wn(o.value,a)){if(o.children===i.children&&!xr.current){e=wi(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=fi(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),e0(o.return,r,e),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),e0(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}lr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Cs(e,r),i=Jr(i),n=n(i),e.flags|=1,lr(t,e,n,r),e.child;case 14:return n=e.type,i=un(n,e.pendingProps),i=un(n.type,i),yE(t,e,n,i,r);case 15:return J2(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),sh(t,e),e.tag=1,wr(n)?(t=!0,jh(e)):t=!1,Cs(e,r),Y2(e,n,i),r0(e,n,i,r),o0(null,e,n,!0,t,r);case 19:return nN(t,e,r);case 22:return Z2(t,e,r)}throw Error(J(156,e.tag))};function bN(t,e){return qk(t,e)}function aV(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(t,e,r,n){return new aV(t,e,r,n)}function uw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sV(t){if(typeof t=="function")return uw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ix)return 11;if(t===Ox)return 14}return 2}function po(t,e){var r=t.alternate;return r===null?(r=Hr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ch(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")uw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case fs:return ga(r.children,i,o,e);case Px:a=8,i|=8;break;case Tv:return t=Hr(12,r,e,i|2),t.elementType=Tv,t.lanes=o,t;case Pv:return t=Hr(13,r,e,i),t.elementType=Pv,t.lanes=o,t;case Iv:return t=Hr(19,r,e,i),t.elementType=Iv,t.lanes=o,t;case Ok:return _m(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pk:a=10;break e;case Ik:a=9;break e;case Ix:a=11;break e;case Ox:a=14;break e;case Wi:a=16,n=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Hr(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function ga(t,e,r,n){return t=Hr(7,t,n,e),t.lanes=r,t}function _m(t,e,r,n){return t=Hr(22,t,n,e),t.elementType=Ok,t.lanes=r,t.stateNode={isHidden:!1},t}function Cy(t,e,r){return t=Hr(6,t,null,e),t.lanes=r,t}function Ry(t,e,r){return e=Hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lV(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=py(0),this.expirationTimes=py(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=py(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cw(t,e,r,n,i,o,a,s,l){return t=new lV(t,e,r,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Hr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hx(o),t}function uV(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ds,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function xN(t){if(!t)return _o;t=t._reactInternals;e:{if(Ua(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var r=t.type;if(wr(r))return x2(t,r,e)}return e}function wN(t,e,r,n,i,o,a,s,l){return t=cw(r,n,!0,t,i,o,a,s,l),t.context=xN(null),r=t.current,n=fr(),i=ho(r),o=fi(n,i),o.callback=e??null,co(r,o,i),t.current.lanes=i,kd(t,i,n),_r(t,n),t}function Sm(t,e,r,n){var i=e.current,o=fr(),a=ho(i);return r=xN(r),e.context===null?e.context=r:e.pendingContext=r,e=fi(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=co(i,e,a),t!==null&&(gn(t,i,a,o),ih(t,i,a)),a}function Gh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function dw(t,e){OE(t,e),(t=t.alternate)&&OE(t,e)}function cV(){return null}var _N=typeof reportError=="function"?reportError:function(t){console.error(t)};function fw(t){this._internalRoot=t}Em.prototype.render=fw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Sm(t,e,null,null)};Em.prototype.unmount=fw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ta(function(){Sm(null,t,null,null)}),e[bi]=null}};function Em(t){this._internalRoot=t}Em.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zk();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ki.length&&e!==0&&e<Ki[r].priority;r++);Ki.splice(r,0,t),r===0&&t2(t)}};function hw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Am(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kE(){}function dV(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=Gh(a);o.call(u)}}var a=wN(e,n,t,0,null,!1,!1,"",kE);return t._reactRootContainer=a,t[bi]=a.current,Pc(t.nodeType===8?t.parentNode:t),Ta(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Gh(l);s.call(u)}}var l=cw(t,0,!1,null,null,!1,!1,"",kE);return t._reactRootContainer=l,t[bi]=l.current,Pc(t.nodeType===8?t.parentNode:t),Ta(function(){Sm(e,l,r,n)}),l}function Tm(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Gh(a);s.call(l)}}Sm(e,a,t,i)}else a=dV(r,e,t,i,n);return Gh(a)}Qk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=zu(e.pendingLanes);r!==0&&(jx(e,r|1),_r(e,pt()),!(Pe&6)&&(Xs=pt()+500,Oo()))}break;case 13:Ta(function(){var n=xi(t,1);if(n!==null){var i=fr();gn(n,t,1,i)}}),dw(t,1)}};Cx=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var r=fr();gn(e,t,134217728,r)}dw(t,134217728)}};Jk=function(t){if(t.tag===13){var e=ho(t),r=xi(t,e);if(r!==null){var n=fr();gn(r,t,e,n)}dw(t,e)}};Zk=function(){return Ce};e2=function(t,e){var r=Ce;try{return Ce=t,e()}finally{Ce=r}};Lv=function(t,e,r){switch(e){case"input":if(Nv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=gm(n);if(!i)throw Error(J(90));Nk(n),Nv(n,i)}}}break;case"textarea":Ck(t,r);break;case"select":e=r.value,e!=null&&Os(t,!!r.multiple,e,!1)}};Fk=aw;Bk=Ta;var fV={usingClientEntryPoint:!1,Events:[jd,gs,gm,Lk,Vk,aw]},Iu={findFiberByHostInstance:ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hV={bundleType:Iu.bundleType,version:Iu.version,rendererPackageName:Iu.rendererPackageName,rendererConfig:Iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wk(t),t===null?null:t.stateNode},findFiberByHostInstance:Iu.findFiberByHostInstance||cV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{fm=jf.inject(hV),Rn=jf}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fV;Vr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hw(e))throw Error(J(200));return uV(t,e,null,r)};Vr.createRoot=function(t,e){if(!hw(t))throw Error(J(299));var r=!1,n="",i=_N;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cw(t,1,!1,null,null,r,!1,n,i),t[bi]=e.current,Pc(t.nodeType===8?t.parentNode:t),new fw(e)};Vr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=Wk(e),t=t===null?null:t.stateNode,t};Vr.flushSync=function(t){return Ta(t)};Vr.hydrate=function(t,e,r){if(!Am(e))throw Error(J(200));return Tm(null,t,e,!0,r)};Vr.hydrateRoot=function(t,e,r){if(!hw(t))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=_N;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=wN(e,null,t,1,r??null,i,!1,o,a),t[bi]=e.current,Pc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Em(e)};Vr.render=function(t,e,r){if(!Am(e))throw Error(J(200));return Tm(null,t,e,!1,r)};Vr.unmountComponentAtNode=function(t){if(!Am(t))throw Error(J(40));return t._reactRootContainer?(Ta(function(){Tm(null,null,t,!1,function(){t._reactRootContainer=null,t[bi]=null})}),!0):!1};Vr.unstable_batchedUpdates=aw;Vr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Am(r))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Tm(t,e,r,!1,n)};Vr.version="18.3.1-next-f1338f8080-20240426";function SN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SN)}catch(t){console.error(t)}}SN(),Sk.exports=Vr;var pV=Sk.exports,NE=pV;Ev.createRoot=NE.createRoot,Ev.hydrateRoot=NE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mc.apply(this,arguments)}var ro;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ro||(ro={}));const jE="popstate";function mV(t){t===void 0&&(t={});function e(n,i){let{pathname:o,search:a,hash:s}=n.location;return y0("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:qh(i)}return yV(e,r,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gV(){return Math.random().toString(36).substr(2,8)}function CE(t,e){return{usr:t.state,key:t.key,idx:e}}function y0(t,e,r,n){return r===void 0&&(r=null),Mc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ml(e):e,{state:r,key:e&&e.key||n||gV()})}function qh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ml(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function yV(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,s=ro.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Mc({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){s=ro.Pop;let y=c(),x=y==null?null:y-u;u=y,l&&l({action:s,location:g.location,delta:x})}function p(y,x){s=ro.Push;let v=y0(g.location,y,x);u=c()+1;let _=CE(v,u),I=g.createHref(v);try{a.pushState(_,"",I)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(I)}o&&l&&l({action:s,location:g.location,delta:1})}function m(y,x){s=ro.Replace;let v=y0(g.location,y,x);u=c();let _=CE(v,u),I=g.createHref(v);a.replaceState(_,"",I),o&&l&&l({action:s,location:g.location,delta:0})}function w(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:qh(y);return v=v.replace(/ $/,"%20"),mt(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let g={get action(){return s},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jE,d),l=y,()=>{i.removeEventListener(jE,d),l=null}},createHref(y){return e(i,y)},createURL:w,encodeLocation(y){let x=w(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(y){return a.go(y)}};return g}var RE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(RE||(RE={}));function vV(t,e,r){return r===void 0&&(r="/"),bV(t,e,r)}function bV(t,e,r,n){let i=typeof e=="string"?Ml(e):e,o=pw(i.pathname||"/",r);if(o==null)return null;let a=AN(t);xV(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=jV(o);s=OV(a[l],u)}return s}function AN(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(mt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=mo([n,l.relativePath]),c=r.concat(l);o.children&&o.children.length>0&&(mt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),AN(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:PV(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of TN(o.path))i(o,a,l)}),e}function TN(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=TN(n.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function xV(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:IV(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const wV=/^:[\w-]+$/,_V=3,SV=2,EV=1,AV=10,TV=-2,DE=t=>t==="*";function PV(t,e){let r=t.split("/"),n=r.length;return r.some(DE)&&(n+=TV),e&&(n+=SV),r.filter(i=>!DE(i)).reduce((i,o)=>i+(wV.test(o)?_V:o===""?EV:AV),n)}function IV(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function OV(t,e,r){let{routesMeta:n}=t,i={},o="/",a=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=kV({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:mo([o,d.pathname]),pathnameBase:MV(mo([o,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(o=mo([o,d.pathnameBase]))}return a}function kV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=NV(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let g=s[d]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const w=s[d];return m&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function NV(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),EN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function jV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return EN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function CV(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ml(t):t;return{pathname:r?r.startsWith("/")?r:RV(r,e):e,search:$V(n),hash:LV(i)}}function RV(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Dy(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DV(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function mw(t,e){let r=DV(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gw(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ml(t):(i=Mc({},t),mt(!i.pathname||!i.pathname.includes("?"),Dy("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),Dy("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),Dy("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}s=d>=0?e[d]:"/"}let l=CV(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const mo=t=>t.join("/").replace(/\/\/+/g,"/"),MV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$V=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PN=["post","put","patch","delete"];new Set(PN);const FV=["get",...PN];new Set(FV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$c.apply(this,arguments)}const yw=D.createContext(null),BV=D.createContext(null),ko=D.createContext(null),Pm=D.createContext(null),No=D.createContext({outlet:null,matches:[],isDataRoute:!1}),IN=D.createContext(null);function UV(t,e){let{relative:r}=e===void 0?{}:e;$l()||mt(!1);let{basename:n,navigator:i}=D.useContext(ko),{hash:o,pathname:a,search:s}=kN(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:mo([n,a])),i.createHref({pathname:l,search:s,hash:o})}function $l(){return D.useContext(Pm)!=null}function Ll(){return $l()||mt(!1),D.useContext(Pm).location}function ON(t){D.useContext(ko).static||D.useLayoutEffect(t)}function Ni(){let{isDataRoute:t}=D.useContext(No);return t?t6():zV()}function zV(){$l()||mt(!1);let t=D.useContext(yw),{basename:e,future:r,navigator:n}=D.useContext(ko),{matches:i}=D.useContext(No),{pathname:o}=Ll(),a=JSON.stringify(mw(i,r.v7_relativeSplatPath)),s=D.useRef(!1);return ON(()=>{s.current=!0}),D.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=gw(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:mo([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,a,o,t])}function kN(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=D.useContext(ko),{matches:i}=D.useContext(No),{pathname:o}=Ll(),a=JSON.stringify(mw(i,n.v7_relativeSplatPath));return D.useMemo(()=>gw(t,JSON.parse(a),o,r==="path"),[t,a,o,r])}function WV(t,e){return GV(t,e)}function GV(t,e,r,n){$l()||mt(!1);let{navigator:i}=D.useContext(ko),{matches:o}=D.useContext(No),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Ll(),c;if(e){var d;let y=typeof e=="string"?Ml(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||mt(!1),c=y}else c=u;let p=c.pathname||"/",m=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=vV(t,{pathname:m}),g=XV(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:mo([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:mo([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return e&&g?D.createElement(Pm.Provider,{value:{location:$c({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ro.Pop}},g):g}function qV(){let t=e6(),e=VV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,null)}const HV=D.createElement(qV,null);class KV extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?D.createElement(No.Provider,{value:this.props.routeContext},D.createElement(IN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YV(t){let{routeContext:e,match:r,children:n}=t,i=D.useContext(yw);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(No.Provider,{value:e},n)}function XV(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);c>=0||mt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:m}=r,w=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||w){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,p)=>{let m,w=!1,g=null,y=null;r&&(m=s&&d.route.id?s[d.route.id]:void 0,g=d.route.errorElement||HV,l&&(u<0&&p===0?(r6("route-fallback"),w=!0,y=null):u===p&&(w=!0,y=d.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,p+1)),v=()=>{let _;return m?_=g:w?_=y:d.route.Component?_=D.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,D.createElement(YV,{match:d,routeContext:{outlet:c,matches:x,isDataRoute:r!=null},children:_})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?D.createElement(KV,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var NN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(NN||{}),jN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jN||{});function QV(t){let e=D.useContext(yw);return e||mt(!1),e}function JV(t){let e=D.useContext(BV);return e||mt(!1),e}function ZV(t){let e=D.useContext(No);return e||mt(!1),e}function CN(t){let e=ZV(),r=e.matches[e.matches.length-1];return r.route.id||mt(!1),r.route.id}function e6(){var t;let e=D.useContext(IN),r=JV(),n=CN();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function t6(){let{router:t}=QV(NN.UseNavigateStable),e=CN(jN.UseNavigateStable),r=D.useRef(!1);return ON(()=>{r.current=!0}),D.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,$c({fromRouteId:e},o)))},[t,e])}const ME={};function r6(t,e,r){ME[t]||(ME[t]=!0)}function n6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function RN(t){let{to:e,replace:r,state:n,relative:i}=t;$l()||mt(!1);let{future:o,static:a}=D.useContext(ko),{matches:s}=D.useContext(No),{pathname:l}=Ll(),u=Ni(),c=gw(e,mw(s,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return D.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function ln(t){mt(!1)}function i6(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ro.Pop,navigator:o,static:a=!1,future:s}=t;$l()&&mt(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:o,static:a,future:$c({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof n=="string"&&(n=Ml(n));let{pathname:c="/",search:d="",hash:p="",state:m=null,key:w="default"}=n,g=D.useMemo(()=>{let y=pw(c,l);return y==null?null:{location:{pathname:y,search:d,hash:p,state:m,key:w},navigationType:i}},[l,c,d,p,m,w,i]);return g==null?null:D.createElement(ko.Provider,{value:u},D.createElement(Pm.Provider,{children:r,value:g}))}function o6(t){let{children:e,location:r}=t;return WV(v0(e),r)}new Promise(()=>{});function v0(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let o=[...e,i];if(n.type===D.Fragment){r.push.apply(r,v0(n.props.children,o));return}n.type!==ln&&mt(!1),!n.props.index||!n.props.children||mt(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=v0(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b0.apply(this,arguments)}function a6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function s6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function l6(t,e){return t.button===0&&(!e||e==="_self")&&!s6(t)}const u6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c6="6";try{window.__reactRouterVersion=c6}catch{}const d6="startTransition",$E=n4[d6];function f6(t){let{basename:e,children:r,future:n,window:i}=t,o=D.useRef();o.current==null&&(o.current=mV({window:i,v5Compat:!0}));let a=o.current,[s,l]=D.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},c=D.useCallback(d=>{u&&$E?$E(()=>l(d)):l(d)},[l,u]);return D.useLayoutEffect(()=>a.listen(c),[a,c]),D.useEffect(()=>n6(n),[n]),D.createElement(i6,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:a,future:n})}const h6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DN=D.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,p=a6(e,u6),{basename:m}=D.useContext(ko),w,g=!1;if(typeof u=="string"&&p6.test(u)&&(w=u,h6))try{let _=new URL(window.location.href),I=u.startsWith("//")?new URL(_.protocol+u):new URL(u),b=pw(I.pathname,m);I.origin===_.origin&&b!=null?u=b+I.search+I.hash:g=!0}catch{}let y=UV(u,{relative:i}),x=m6(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function v(_){n&&n(_),_.defaultPrevented||x(_)}return D.createElement("a",b0({},p,{href:w||y,onClick:g||o?n:v,ref:r,target:l}))});var LE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(LE||(LE={}));var VE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(VE||(VE={}));function m6(t,e){let{target:r,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=Ni(),u=Ll(),c=kN(t,{relative:a});return D.useCallback(d=>{if(l6(d,r)){d.preventDefault();let p=n!==void 0?n:qh(u)===qh(c);l(t,{replace:p,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,n,i,r,t,o,a,s])}const g6={primary:{50:"#f8fafc",500:"#64748b",600:"#475569",700:"#334155",900:"#0f172a"},secondary:{50:"#f7fee7",100:"#ecfccb",500:"#84cc16",600:"#65a30d",700:"#4d7c0f"},accent:{500:"#0ea5e9",600:"#0284c7"},semantic:{success:{light:"#86efac",DEFAULT:"#22c55e",dark:"#16a34a"},warning:{light:"#fde047",DEFAULT:"#eab308",dark:"#ca8a04"},error:{light:"#fca5a5",DEFAULT:"#ef4444",dark:"#dc2626"},info:{light:"#7dd3fc",DEFAULT:"#0ea5e9",dark:"#0284c7"}}},y6={light:{background:{primary:"#ffffff",secondary:"#f8fafc",tertiary:"#f1f5f9",slate:"#e2e8f0"},text:{primary:"#0f172a",secondary:"#1e293b",muted:"#64748b",inverse:"#ffffff",accent:"#84cc16"},border:{DEFAULT:"#e2e8f0",focus:"#84cc16",muted:"#cbd5e1"},button:{primary:{bg:"#84cc16",text:"#ffffff",hover:"#65a30d",active:"#4d7c0f"},secondary:{bg:"#475569",text:"#ffffff",hover:"#334155",active:"#1e293b"},ghost:{bg:"transparent",text:"#475569",hover:"#f1f5f9",active:"#e2e8f0"},outline:{bg:"transparent",text:"#84cc16",border:"#84cc16",hover:"#f7fee7"}},card:{bg:"#ffffff",border:"#e2e8f0",shadow:"0 1px 3px 0 rgb(0 0 0 / 0.1)",hover:"#f8fafc"},input:{bg:"#ffffff",border:"#cbd5e1",text:"#0f172a",placeholder:"#94a3b8",focus:{border:"#84cc16",ring:"#ecfccb"}}},dark:{background:{primary:"#0f172a",secondary:"#1e293b",tertiary:"#334155",slate:"#475569"},text:{primary:"#ffffff",secondary:"#f1f5f9",muted:"#94a3b8",inverse:"#0f172a",accent:"#a3e635"},border:{DEFAULT:"#334155",focus:"#84cc16",muted:"#475569"},button:{primary:{bg:"#84cc16",text:"#ffffff",hover:"#a3e635",active:"#bef264"},secondary:{bg:"#475569",text:"#ffffff",hover:"#64748b",active:"#94a3b8"},ghost:{bg:"transparent",text:"#a3e635",hover:"#1e293b",active:"#334155"},outline:{bg:"transparent",text:"#a3e635",border:"#84cc16",hover:"#1e293b"}},card:{bg:"#1e293b",border:"#334155",shadow:"0 1px 3px 0 rgb(0 0 0 / 0.5)",hover:"#334155"},input:{bg:"#1e293b",border:"#334155",text:"#ffffff",placeholder:"#64748b",focus:{border:"#84cc16",ring:"#365314"}}}},v6={dashboard:{accentBorder:"colors.secondary.500"},workoutPlans:{headerBg:"colors.primary.700",headerText:"colors.neutral.white",accentBorder:"colors.secondary.500"},tracking:{activeBg:"colors.secondary.100",completedBg:"colors.semantic.success.light"},goals:{cardBg:"theme.light.card.bg",progressFill:"colors.secondary.500",completedIcon:"colors.semantic.success.DEFAULT"},analytics:{chartPrimary:"colors.secondary.500",chartSecondary:"colors.accent.500",chartTertiary:"colors.primary.500",gridLines:"theme.light.border.DEFAULT",axisText:"theme.light.text.muted"},profile:{headerBg:"colors.primary.700",headerText:"colors.neutral.white"},glassmorphism:{light:{background:"rgba(248, 250, 252, 0.7)",backgroundHover:"rgba(248, 250, 252, 0.85)",border:"rgba(226, 232, 240, 0.6)",borderHover:"rgba(203, 213, 225, 0.8)",text:"rgba(15, 23, 42, 0.95)",textMuted:"rgba(100, 116, 139, 0.9)",textSecondary:"rgba(30, 41, 59, 0.9)",backdropBlur:"12px",shadow:"0 4px 24px 0 rgba(15, 23, 42, 0.08)",shadowHover:"0 8px 32px 0 rgba(15, 23, 42, 0.12)",accentGlow:"0 0 20px rgba(132, 204, 22, 0.3)"},dark:{background:"rgba(30, 41, 59, 0.5)",backgroundHover:"rgba(30, 41, 59, 0.7)",border:"rgba(71, 85, 105, 0.4)",borderHover:"rgba(100, 116, 139, 0.6)",text:"rgba(255, 255, 255, 0.95)",textMuted:"rgba(148, 163, 184, 0.8)",textSecondary:"rgba(241, 245, 249, 0.85)",backdropBlur:"16px",shadow:"0 8px 32px 0 rgba(0, 0, 0, 0.5)",shadowHover:"0 12px 40px 0 rgba(0, 0, 0, 0.7)",accentGlow:"0 0 24px rgba(132, 204, 22, 0.5)"}}},$e={colors:g6,theme:y6,usage:v6},b6=(t="light")=>$e.theme[t],et=$e.colors,za=$e.usage,x0=t=>{const e=b6(t),r=document.documentElement;r.style.setProperty("--background-primary",e.background.primary),r.style.setProperty("--background-secondary",e.background.secondary),r.style.setProperty("--background-tertiary",e.background.tertiary),r.style.setProperty("--text-primary",e.text.primary),r.style.setProperty("--text-secondary",e.text.secondary),r.style.setProperty("--text-muted",e.text.muted),r.style.setProperty("--border-default",e.border.DEFAULT),r.style.setProperty("--border-focus",e.border.focus),r.style.setProperty("--card-bg",e.card.bg),r.style.setProperty("--card-border",e.card.border),r.style.setProperty("--input-bg",e.input.bg),r.style.setProperty("--input-border",e.input.border),r.style.setProperty("--input-text",e.input.text),r.style.setProperty("--input-placeholder",e.input.placeholder),r.style.setProperty("--button-primary-bg",e.button.primary.bg),r.style.setProperty("--button-primary-text",e.button.primary.text),r.style.setProperty("--button-primary-hover",e.button.primary.hover),r.style.setProperty("--button-primary-active",e.button.primary.active),r.style.setProperty("--button-secondary-bg",e.button.secondary.bg),r.style.setProperty("--button-secondary-text",e.button.secondary.text),r.style.setProperty("--button-secondary-hover",e.button.secondary.hover),r.style.setProperty("--button-secondary-active",e.button.secondary.active),r.style.setProperty("--button-ghost-bg",e.button.ghost.bg),r.style.setProperty("--button-ghost-text",e.button.ghost.text),r.style.setProperty("--button-ghost-hover",e.button.ghost.hover),r.style.setProperty("--button-ghost-active",e.button.ghost.active),r.style.setProperty("--button-outline-bg",e.button.outline.bg),r.style.setProperty("--button-outline-text",e.button.outline.text),r.style.setProperty("--button-outline-border",e.button.outline.border),r.style.setProperty("--button-outline-hover",e.button.outline.hover);const n=$e.usage.glassmorphism[t];r.style.setProperty("--glassmorphism-bg",n.background),r.style.setProperty("--glassmorphism-bg-hover",n.backgroundHover),r.style.setProperty("--glassmorphism-border",n.border),r.style.setProperty("--glassmorphism-border-hover",n.borderHover),r.style.setProperty("--glassmorphism-text",n.text),r.style.setProperty("--glassmorphism-text-muted",n.textMuted),r.style.setProperty("--glassmorphism-text-secondary",n.textSecondary),r.style.setProperty("--glassmorphism-blur",n.backdropBlur),r.style.setProperty("--glassmorphism-shadow",n.shadow),r.style.setProperty("--glassmorphism-shadow-hover",n.shadowHover),r.style.setProperty("--glassmorphism-accent-glow",n.accentGlow),r.style.setProperty("--primary-50",$e.colors.primary[50]),r.style.setProperty("--primary-500",$e.colors.primary[500]),r.style.setProperty("--primary-600",$e.colors.primary[600]),r.style.setProperty("--primary-700",$e.colors.primary[700]),r.style.setProperty("--primary-900",$e.colors.primary[900]),r.style.setProperty("--secondary-50",$e.colors.secondary[50]),r.style.setProperty("--secondary-100",$e.colors.secondary[100]),r.style.setProperty("--secondary-500",$e.colors.secondary[500]),r.style.setProperty("--secondary-600",$e.colors.secondary[600]),r.style.setProperty("--secondary-700",$e.colors.secondary[700]),r.style.setProperty("--accent-500",$e.colors.accent[500]),r.style.setProperty("--accent-600",$e.colors.accent[600]),r.style.setProperty("--success-light",$e.colors.semantic.success.light),r.style.setProperty("--success-default",$e.colors.semantic.success.DEFAULT),r.style.setProperty("--success-dark",$e.colors.semantic.success.dark),r.style.setProperty("--warning-light",$e.colors.semantic.warning.light),r.style.setProperty("--warning-default",$e.colors.semantic.warning.DEFAULT),r.style.setProperty("--warning-dark",$e.colors.semantic.warning.dark),r.style.setProperty("--error-light",$e.colors.semantic.error.light),r.style.setProperty("--error-default",$e.colors.semantic.error.DEFAULT),r.style.setProperty("--error-dark",$e.colors.semantic.error.dark),r.style.setProperty("--info-light",$e.colors.semantic.info.light),r.style.setProperty("--info-default",$e.colors.semantic.info.DEFAULT),r.style.setProperty("--info-dark",$e.colors.semantic.info.dark),t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},MN=D.createContext(void 0),x6=()=>{const t=D.useContext(MN);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},w6=({children:t})=>{const[e,r]=D.useState("light");D.useEffect(()=>{const i=localStorage.getItem("theme")||"light";r(i),x0(i)},[]);const n=()=>{const i=e==="light"?"dark":"light";r(i),x0(i),localStorage.setItem("theme",i)};return f.jsx(MN.Provider,{value:{mode:e,toggleTheme:n},children:t})};class _6 extends D.Component{constructor(){super(...arguments);xu(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:f.jsx("div",{className:"min-h-screen bg-bg-secondary flex items-center justify-center p-6",children:f.jsxs("div",{className:"max-w-md w-full bg-card-bg border border-card-border rounded-lg p-8 text-center",children:[f.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:f.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),f.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"Something went wrong"}),f.jsx("p",{className:"text-text-secondary mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-btn-primary-bg text-btn-primary-text py-2 px-4 rounded-lg hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Refresh Page"}),f.jsx("button",{onClick:()=>window.history.back(),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 transition-colors",children:"Go Back"})]}),!1]})}):this.props.children}}const S6=({message:t,type:e,duration:r=5e3,onClose:n})=>{const[i,o]=D.useState(!1);D.useEffect(()=>{const d=setTimeout(()=>o(!0),100),p=setTimeout(()=>{o(!1),setTimeout(n,300)},r);return()=>{clearTimeout(d),clearTimeout(p)}},[r,n]);const a=()=>{const d="fixed top-4 right-4 z-50 max-w-sm w-full bg-card-bg border border-card-border rounded-lg shadow-lg transform transition-all duration-300 ease-in-out";return i?`${d} translate-x-0 opacity-100`:`${d} translate-x-full opacity-0`},s=()=>{switch(e){case"success":return{icon:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),bgColor:"bg-green-50",borderColor:"border-green-200"};case"error":return{icon:f.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),bgColor:"bg-red-50",borderColor:"border-red-200"};case"warning":return{icon:f.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),bgColor:"bg-yellow-50",borderColor:"border-yellow-200"};case"info":return{icon:f.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),bgColor:"bg-blue-50",borderColor:"border-blue-200"}}},{icon:l,bgColor:u,borderColor:c}=s();return f.jsx("div",{className:`${a()} ${u} ${c}`,children:f.jsx("div",{className:"p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("div",{className:"flex-shrink-0",children:l}),f.jsx("div",{className:"ml-3 flex-1",children:f.jsx("p",{className:"text-sm font-medium text-text-primary",children:t})}),f.jsx("div",{className:"ml-4 flex-shrink-0",children:f.jsx("button",{onClick:()=>{o(!1),setTimeout(n,300)},className:"inline-flex text-text-muted hover:text-text-secondary focus:outline-none focus:text-text-secondary transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})})})},E6=M.createContext(void 0),A6=({children:t})=>{const[e,r]=D.useState([]),n=(o,a,s=5e3)=>{const l=Math.random().toString(36).substr(2,9);r(u=>[...u,{id:l,message:o,type:a,duration:s}])},i=o=>{r(a=>a.filter(s=>s.id!==o))};return f.jsxs(E6.Provider,{value:{showToast:n},children:[t,f.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(o=>f.jsx(S6,{message:o.message,type:o.type,duration:o.duration,onClose:()=>i(o.id)},o.id))})]})};var FE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},T6=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],a=t[r++],s=t[r++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},LN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|s>>4;let p=(s&15)<<2|u>>6,m=u&63;l||(m=64,a||(p=64)),n.push(r[c],r[d],r[p],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($N(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||d==null)throw new P6;const p=o<<2|s>>4;if(n.push(p),u!==64){const m=s<<4&240|u>>2;if(n.push(m),d!==64){const w=u<<6&192|d;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I6=function(t){const e=$N(t);return LN.encodeByteArray(e,!0)},Hh=function(t){return I6(t).replace(/\./g,"")},VN=function(t){try{return LN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=()=>O6().__FIREBASE_DEFAULTS__,N6=()=>{if(typeof process>"u"||typeof FE>"u")return;const t=FE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VN(t[1]);return e&&JSON.parse(e)},Im=()=>{try{return k6()||N6()||j6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FN=t=>{var e,r;return(r=(e=Im())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},C6=t=>{const e=FN(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},BN=()=>{var t;return(t=Im())===null||t===void 0?void 0:t.config},UN=t=>{var e;return(e=Im())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hh(JSON.stringify(r)),Hh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function $6(){var t;const e=(t=Im())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function V6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F6(){const t=or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function B6(){return!$6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WN(){try{return typeof indexedDB=="object"}catch{return!1}}function GN(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}function U6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="FirebaseError";class En extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=z6,Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wa.prototype.create)}}class Wa{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?W6(o,n):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new En(i,s,n)}}function W6(t,e){return t.replace(G6,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const G6=/\{\$([^}]+)}/g;function q6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lc(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],a=e[i];if(BE(o)&&BE(a)){if(!Lc(o,a))return!1}else if(o!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function BE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Gu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function H6(t,e){const r=new K6(t,e);return r.subscribe.bind(r)}class K6{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Y6(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=My),i.error===void 0&&(i.error=My),i.complete===void 0&&(i.complete=My);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y6(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function My(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=1e3,Q6=2,J6=4*60*60*1e3,Z6=.5;function UE(t,e=X6,r=Q6){const n=e*Math.pow(r,t),i=Math.round(Z6*n*(Math.random()-.5)*2);return Math.min(J6,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class _n{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new R6;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rF(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);n===s&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:tF(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tF(t){return t===Jo?void 0:t}function rF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new eF(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const iF={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},oF=Ee.INFO,aF={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},sF=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=aF[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=oF,this._logHandler=sF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const lF=(t,e)=>e.some(r=>t instanceof r);let zE,WE;function uF(){return zE||(zE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cF(){return WE||(WE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qN=new WeakMap,w0=new WeakMap,HN=new WeakMap,$y=new WeakMap,vw=new WeakMap;function dF(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{r(go(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&qN.set(r,t)}).catch(()=>{}),vw.set(e,t),e}function fF(t){if(w0.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});w0.set(t,e)}let _0={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return w0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HN.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return go(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hF(t){_0=t(_0)}function pF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Ly(this),e,...r);return HN.set(n,e.sort?e.sort():[e]),go(n)}:cF().includes(t)?function(...e){return t.apply(Ly(this),e),go(qN.get(this))}:function(...e){return go(t.apply(Ly(this),e))}}function mF(t){return typeof t=="function"?pF(t):(t instanceof IDBTransaction&&fF(t),lF(t,uF())?new Proxy(t,_0):t)}function go(t){if(t instanceof IDBRequest)return dF(t);if($y.has(t))return $y.get(t);const e=mF(t);return e!==t&&($y.set(t,e),vw.set(e,t)),e}const Ly=t=>vw.get(t);function KN(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=go(a);return n&&a.addEventListener("upgradeneeded",l=>{n(go(a.result),l.oldVersion,l.newVersion,go(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const gF=["get","getKey","getAll","getAllKeys","count"],yF=["put","add","delete","clear"],Vy=new Map;function GE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vy.get(e))return Vy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=yF.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||gF.includes(r)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return Vy.set(e,o),o}hF(t=>({...t,get:(e,r,n)=>GE(e,r)||t.get(e,r,n),has:(e,r)=>!!GE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(bF(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function bF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const S0="@firebase/app",qE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Om("@firebase/app"),xF="@firebase/app-compat",wF="@firebase/analytics-compat",_F="@firebase/analytics",SF="@firebase/app-check-compat",EF="@firebase/app-check",AF="@firebase/auth",TF="@firebase/auth-compat",PF="@firebase/database",IF="@firebase/data-connect",OF="@firebase/database-compat",kF="@firebase/functions",NF="@firebase/functions-compat",jF="@firebase/installations",CF="@firebase/installations-compat",RF="@firebase/messaging",DF="@firebase/messaging-compat",MF="@firebase/performance",$F="@firebase/performance-compat",LF="@firebase/remote-config",VF="@firebase/remote-config-compat",FF="@firebase/storage",BF="@firebase/storage-compat",UF="@firebase/firestore",zF="@firebase/vertexai-preview",WF="@firebase/firestore-compat",GF="firebase",qF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="[DEFAULT]",HF={[S0]:"fire-core",[xF]:"fire-core-compat",[_F]:"fire-analytics",[wF]:"fire-analytics-compat",[EF]:"fire-app-check",[SF]:"fire-app-check-compat",[AF]:"fire-auth",[TF]:"fire-auth-compat",[PF]:"fire-rtdb",[IF]:"fire-data-connect",[OF]:"fire-rtdb-compat",[kF]:"fire-fn",[NF]:"fire-fn-compat",[jF]:"fire-iid",[CF]:"fire-iid-compat",[RF]:"fire-fcm",[DF]:"fire-fcm-compat",[MF]:"fire-perf",[$F]:"fire-perf-compat",[LF]:"fire-rc",[VF]:"fire-rc-compat",[FF]:"fire-gcs",[BF]:"fire-gcs-compat",[UF]:"fire-fst",[WF]:"fire-fst-compat",[zF]:"fire-vertex","fire-js":"fire-js",[GF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,KF=new Map,A0=new Map;function HE(t,e){try{t.container.addComponent(e)}catch(r){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Un(t){const e=t.name;if(A0.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;A0.set(e,t);for(const r of Kh.values())HE(r,t);for(const r of KF.values())HE(r,t);return!0}function Ga(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function pn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new Wa("app","Firebase",YF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new _n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=qF;function YN(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:E0,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw yo.create("bad-app-name",{appName:String(i)});if(r||(r=BN()),!r)throw yo.create("no-options");const o=Kh.get(i);if(o){if(Lc(r,o.options)&&Lc(n,o.config))return o;throw yo.create("duplicate-app",{appName:i})}const a=new nF(i);for(const l of A0.values())a.addComponent(l);const s=new XF(r,n,a);return Kh.set(i,s),s}function bw(t=E0){const e=Kh.get(t);if(!e&&t===E0&&BN())return YN();if(!e)throw yo.create("no-app",{appName:t});return e}function Xr(t,e,r){var n;let i=(n=HF[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(s.join(" "));return}Un(new _n(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF="firebase-heartbeat-database",JF=1,Vc="firebase-heartbeat-store";let Fy=null;function XN(){return Fy||(Fy=KN(QF,JF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vc)}catch(r){console.warn(r)}}}}).catch(t=>{throw yo.create("idb-open",{originalErrorMessage:t.message})})),Fy}async function ZF(t){try{const r=(await XN()).transaction(Vc),n=await r.objectStore(Vc).get(QN(t));return await r.done,n}catch(e){if(e instanceof En)_i.warn(e.message);else{const r=yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(r.message)}}}async function KE(t,e){try{const n=(await XN()).transaction(Vc,"readwrite");await n.objectStore(Vc).put(e,QN(t)),await n.done}catch(r){if(r instanceof En)_i.warn(r.message);else{const n=yo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});_i.warn(n.message)}}}function QN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=1024,t5=30*24*60*60*1e3;class r5{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new i5(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=YE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=t5}),this._storage.overwrite(this._heartbeatsCache))}catch(n){_i.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=YE(),{heartbeatsToSend:n,unsentEntries:i}=n5(this._heartbeatsCache.heartbeats),o=Hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return _i.warn(r),""}}}function YE(){return new Date().toISOString().substring(0,10)}function n5(t,e=e5){const r=[];let n=t.slice();for(const i of t){const o=r.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),XE(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),XE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class i5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WN()?GN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await ZF(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return KE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return KE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function XE(t){return Hh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){Un(new _n("platform-logger",e=>new vF(e),"PRIVATE")),Un(new _n("heartbeat",e=>new r5(e),"PRIVATE")),Xr(S0,qE,t),Xr(S0,qE,"esm2017"),Xr("fire-js","")}o5("");function xw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function JN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a5=JN,ZN=new Wa("auth","Firebase",JN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Om("@firebase/auth");function s5(t,...e){Yh.logLevel<=Ee.WARN&&Yh.warn(`Auth (${Vl}): ${t}`,...e)}function dh(t,...e){Yh.logLevel<=Ee.ERROR&&Yh.error(`Auth (${Vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,...e){throw _w(t,...e)}function yn(t,...e){return _w(t,...e)}function ww(t,e,r){const n=Object.assign(Object.assign({},a5()),{[e]:r});return new Wa("auth","Firebase",n).create(e,{appName:t.name})}function hi(t){return ww(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l5(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&en(t,"argument-error"),ww(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _w(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return ZN.create(t,...e)}function de(t,e,...r){if(!t)throw _w(e,...r)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dh(e),new Error(e)}function Si(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function u5(){return QE()==="http:"||QE()==="https:"}function QE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u5()||zN()||"connection"in navigator)?navigator.onLine:!0}function d5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,r){this.shortDelay=e,this.longDelay=r,Si(r>e,"Short delay should be less than long delay!"),this.isMobile=M6()||V6()}get(){return c5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){Si(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new Dd(3e4,6e4);function jo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ji(t,e,r,n,i={}){return tj(t,i,async()=>{let o={},a={};n&&(e==="GET"?a=n:o={body:JSON.stringify(n)});const s=Rd(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return L6()||(u.referrerPolicy="no-referrer"),ej.fetch()(rj(t,t.config.apiHost,r,s),u)})}async function tj(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},f5),e);try{const i=new m5(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Cf(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cf(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Cf(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Cf(t,"user-disabled",a);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ww(t,c,u);en(t,c)}}catch(i){if(i instanceof En)throw i;en(t,"network-request-failed",{message:String(i)})}}async function Md(t,e,r,n,i={}){const o=await ji(t,e,r,n,i);return"mfaPendingCredential"in o&&en(t,"multi-factor-auth-required",{_serverResponse:o}),o}function rj(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Sw(t.config,i):`${t.config.apiScheme}://${i}`}function p5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(yn(this.auth,"network-request-failed")),h5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cf(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=yn(t,e,n);return i.customData._tokenResponse=r,i}function JE(t){return t!==void 0&&t.enterprise!==void 0}class g5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return p5(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function y5(t,e){return ji(t,"GET","/v2/recaptchaConfig",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e){return ji(t,"POST","/v1/accounts:delete",e)}async function nj(t,e){return ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b5(t,e=!1){const r=gt(t),n=await r.getIdToken(e),i=Ew(n);de(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:sc(By(i.auth_time)),issuedAtTime:sc(By(i.iat)),expirationTime:sc(By(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function By(t){return Number(t)*1e3}function Ew(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const i=VN(r);return i?JSON.parse(i):(dh("Failed to decode base64 JWT payload"),null)}catch(i){return dh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZE(t){const e=Ew(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof En&&x5(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function x5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=sc(this.lastLoginAt),this.creationTime=sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Qs(t,nj(r,{idToken:n}));de(i==null?void 0:i.users.length,r,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ij(o.providerUserInfo):[],s=S5(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new P0(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function _5(t){const e=gt(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S5(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function ij(t){return t.map(e=>{var{providerId:r}=e,n=xw(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(t,e){const r=await tj(t,{},async()=>{const n=Rd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=rj(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",ej.fetch()(a,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function A5(t,e){return ji(t,"POST","/v2/accounts:revokeToken",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){de(e.length!==0,"internal-error");const r=ZE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await E5(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,a=new Ds;return n&&(de(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(de(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ds,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,o=xw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new P0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await Qs(this,this.stsTokenManager.getToken(this.auth,e));return de(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return b5(this,e)}reload(){return _5(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Xh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await Qs(this,v5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,o,a,s,l,u,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(i=r.email)!==null&&i!==void 0?i:void 0,m=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=r.photoURL)!==null&&a!==void 0?a:void 0,g=(s=r.tenantId)!==null&&s!==void 0?s:void 0,y=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=r.createdAt)!==null&&u!==void 0?u:void 0,v=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:I,isAnonymous:b,providerData:T,stsTokenManager:A}=r;de(_&&A,e,"internal-error");const S=Ds.fromJSON(this.name,A);de(typeof _=="string",e,"internal-error"),Ui(d,e.name),Ui(p,e.name),de(typeof I=="boolean",e,"internal-error"),de(typeof b=="boolean",e,"internal-error"),Ui(m,e.name),Ui(w,e.name),Ui(g,e.name),Ui(y,e.name),Ui(x,e.name),Ui(v,e.name);const P=new si({uid:_,auth:e,email:p,emailVerified:I,displayName:d,isAnonymous:b,photoURL:w,phoneNumber:m,tenantId:g,stsTokenManager:S,createdAt:x,lastLoginAt:v});return T&&Array.isArray(T)&&(P.providerData=T.map(N=>Object.assign({},N))),y&&(P._redirectEventId=y),P}static async _fromIdTokenResponse(e,r,n=!1){const i=new Ds;i.updateFromServerResponse(r);const o=new si({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Xh(o),o}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];de(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?ij(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Ds;s.updateFromIdToken(n);const l=new si({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new P0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new Map;function li(t){Si(t instanceof Function,"Expected a class definition");let e=eA.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}oj.type="NONE";const tA=oj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t,e,r){return`firebase:${t}:${e}:${r}`}class Ms{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=fh(this.userKey,i.apiKey,o),this.fullPersistenceKey=fh("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Ms(li(tA),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||li(tA);const a=fh(n,e.config.apiKey,e.name);let s=null;for(const u of r)try{const c=await u._get(a);if(c){const d=si._fromJSON(e,c);u!==o&&(s=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ms(o,e,n):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Ms(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dj(e))return"Blackberry";if(fj(e))return"Webos";if(sj(e))return"Safari";if((e.includes("chrome/")||lj(e))&&!e.includes("edge/"))return"Chrome";if(cj(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function aj(t=or()){return/firefox\//i.test(t)}function sj(t=or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lj(t=or()){return/crios\//i.test(t)}function uj(t=or()){return/iemobile/i.test(t)}function cj(t=or()){return/android/i.test(t)}function dj(t=or()){return/blackberry/i.test(t)}function fj(t=or()){return/webos/i.test(t)}function Aw(t=or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T5(t=or()){var e;return Aw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function P5(){return F6()&&document.documentMode===10}function hj(t=or()){return Aw(t)||cj(t)||fj(t)||dj(t)||/windows phone/i.test(t)||uj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t,e=[]){let r;switch(t){case"Browser":r=rA(or());break;case"Worker":r=`${rA(or())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Vl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(t,e={}){return ji(t,"GET","/v2/passwordPolicy",jo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=6;class N5{constructor(e){var r,n,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:k5,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nA(this),this.idTokenSubscription=new nA(this),this.beforeStateQueue=new I5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=li(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ms.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await nj(this,{idToken:e}),n=await si._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(pn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(hi(this));const r=e?gt(e):null;return r&&de(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O5(this),r=new N5(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wa("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await A5(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&li(e)||this._popupRedirectResolver;de(r,this,"argument-error"),this.redirectPersistenceManager=await Ms.create(this,[li(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&s5(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Co(t){return gt(t)}class nA{constructor(e){this.auth=e,this.observer=null,this.addObserver=H6(r=>this.observer=r)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C5(t){km=t}function mj(t){return km.loadJS(t)}function R5(){return km.recaptchaEnterpriseScript}function D5(){return km.gapiScript}function M5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const $5="recaptcha-enterprise",L5="NO_RECAPTCHA";class V5{constructor(e){this.type=$5,this.auth=Co(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{y5(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new g5(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;JE(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(L5)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{n(this.auth).then(s=>{if(!r&&JE(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=R5();l.length!==0&&(l+=s),mj(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function iA(t,e,r,n=!1){const i=new V5(t);let o;try{o=await i.verify(r)}catch{o=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function I0(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await iA(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await iA(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t,e){const r=Ga(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(Lc(o,e??{}))return i;en(i,"already-initialized")}return r.initialize({options:e})}function B5(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function U5(t,e,r){const n=Co(t);de(n._canInitEmulator,n,"emulator-config-failed"),de(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=gj(e),{host:a,port:s}=z5(e),l=s===null?"":`:${s}`;n.config.emulator={url:`${o}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),W5()}function gj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z5(t){const e=gj(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:oA(n.substr(o.length+1))}}else{const[o,a]=n.split(":");return{host:o,port:oA(a)}}}function oA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function W5(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,r){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function G5(t,e){return ji(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e){return Md(t,"POST","/v1/accounts:signInWithPassword",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e){return Md(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,e))}async function K5(t,e){return Md(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends Tw{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Fc(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Fc(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I0(e,r,"signInWithPassword",q5);case"emailLink":return H5(e,{email:this._email,oobCode:this._password});default:en(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I0(e,n,"signUpPassword",G5);case"emailLink":return K5(e,{idToken:r,email:this._email,oobCode:this._password});default:en(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(t,e){return Md(t,"POST","/v1/accounts:signInWithIdp",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="http://localhost";class Pa extends Tw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):en("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,o=xw(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Pa(n,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return $s(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,$s(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,$s(e,r)}buildRequest(){const e={requestUri:Y5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Rd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q5(t){const e=Gu(qu(t)).link,r=e?Gu(qu(e)).deep_link_id:null,n=Gu(qu(t)).deep_link_id;return(n?Gu(qu(n)).link:null)||n||r||e||t}class Pw{constructor(e){var r,n,i,o,a,s;const l=Gu(qu(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,d=X5((i=l.mode)!==null&&i!==void 0?i:null);de(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=Q5(e);try{return new Pw(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.providerId=Fl.PROVIDER_ID}static credential(e,r){return Fc._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Pw.parseLink(r);return de(n,"argument-error"),Fc._fromEmailAndCode(e,n.code,n.tenantId)}}Fl.PROVIDER_ID="password";Fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends Iw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends $d{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends $d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Pa._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ni.credential(r,n)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends $d{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends $d{constructor(){super("twitter.com")}static credential(e,r){return Pa._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ji.credential(r,n)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e){return Md(t,"POST","/v1/accounts:signUp",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await si._fromIdTokenResponse(e,n,i),a=aA(n);return new Ia({user:o,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=aA(n);return new Ia({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function aA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends En{constructor(e,r,n,i){var o;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Qh(e,r,n,i)}}function yj(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(t,o,e,n):o})}async function Z5(t,e,r=!1){const n=await Qs(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ia._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eB(t,e,r=!1){const{auth:n}=t;if(pn(n.app))return Promise.reject(hi(n));const i="reauthenticate";try{const o=await Qs(t,yj(n,i,e,t),r);de(o.idToken,n,"internal-error");const a=Ew(o.idToken);de(a,n,"internal-error");const{sub:s}=a;return de(t.uid===s,n,"user-mismatch"),Ia._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&en(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e,r=!1){if(pn(t.app))return Promise.reject(hi(t));const n="signIn",i=await yj(t,n,e),o=await Ia._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}async function tB(t,e){return vj(Co(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(t){const e=Co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rB(t,e,r){if(pn(t.app))return Promise.reject(hi(t));const n=Co(t),a=await I0(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&bj(t),l}),s=await Ia._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(s.user),s}function nB(t,e,r){return pn(t.app)?Promise.reject(hi(t)):tB(gt(t),Fl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&bj(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iB(t,e){return ji(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oB(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=gt(t),o={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},a=await Qs(n,iB(n.auth,o));n.displayName=a.displayName||null,n.photoURL=a.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(a)}function aB(t,e,r,n){return gt(t).onIdTokenChanged(e,r,n)}function sB(t,e,r){return gt(t).beforeAuthStateChanged(e,r)}function lB(t,e,r,n){return gt(t).onAuthStateChanged(e,r,n)}function uB(t){return gt(t).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=1e3,dB=10;class wj extends xj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},o=this.storage.getItem(n);P5()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dB):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},cB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}wj.type="LOCAL";const fB=wj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j extends xj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}_j.type="SESSION";const Sj=_j;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Nm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(a).map(async u=>u(r.origin,o)),l=await hB(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=Ow("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(p.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function mB(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function gB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vB(){return Ej()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="firebaseLocalStorageDb",bB=1,Zh="firebaseLocalStorage",Tj="fbase_key";class Ld{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function jm(t,e){return t.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function xB(){const t=indexedDB.deleteDatabase(Aj);return new Ld(t).toPromise()}function O0(){const t=indexedDB.open(Aj,bB);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Zh,{keyPath:Tj})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Zh)?e(n):(n.close(),await xB(),e(await O0()))})})}async function sA(t,e,r){const n=jm(t,!0).put({[Tj]:e,value:r});return new Ld(n).toPromise()}async function wB(t,e){const r=jm(t,!1).get(e),n=await new Ld(r).toPromise();return n===void 0?null:n.value}function lA(t,e){const r=jm(t,!0).delete(e);return new Ld(r).toPromise()}const _B=800,SB=3;class Pj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O0(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>SB)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ej()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nm._getInstance(vB()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await gB(),!this.activeServiceWorker)return;this.sender=new pB(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O0();return await sA(e,Jh,"1"),await lA(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>sA(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>wB(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>lA(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=jm(i,!1).getAll();return new Ld(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_B)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pj.type="LOCAL";const EB=Pj;new Dd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t,e){return e?li(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw extends Tw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $s(e,this._buildIdpRequest())}_linkToIdToken(e,r){return $s(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return $s(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function AB(t){return vj(t.auth,new kw(t),t.bypassAuthState)}function TB(t){const{auth:e,user:r}=t;return de(r,e,"internal-error"),eB(r,new kw(t),t.bypassAuthState)}async function PB(t){const{auth:e,user:r}=t;return de(r,e,"internal-error"),Z5(r,new kw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AB;case"linkViaPopup":case"linkViaRedirect":return PB;case"reauthViaPopup":case"reauthViaRedirect":return TB;default:en(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=new Dd(2e3,1e4);async function OB(t,e,r){if(pn(t.app))return Promise.reject(yn(t,"operation-not-supported-in-this-environment"));const n=Co(t);l5(t,e,Iw);const i=Ij(n,r);return new sa(n,"signInViaPopup",e,i).executeNotNull()}class sa extends Oj{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=Ow();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IB.get())};e()}}sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB="pendingRedirect",hh=new Map;class NB extends Oj{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const n=await jB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jB(t,e){const r=DB(e),n=RB(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function CB(t,e){hh.set(t._key(),e)}function RB(t){return li(t._redirectPersistence)}function DB(t){return fh(kB,t.config.apiKey,t.name)}async function MB(t,e,r=!1){if(pn(t.app))return Promise.reject(hi(t));const n=Co(t),i=Ij(n,e),a=await new NB(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=10*60*1e3;class LB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VB(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!kj(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(yn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$B&&this.cachedEventUids.clear(),this.cachedEventUids.has(uA(e))}saveEventToCache(e){this.cachedEventUids.add(uA(e)),this.lastProcessedEventTime=Date.now()}}function uA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FB(t,e={}){return ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UB=/^https?/;async function zB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FB(t);for(const r of e)try{if(WB(r))return}catch{}en(t,"unauthorized-domain")}function WB(t){const e=T0(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!UB.test(r))return!1;if(BB.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=new Dd(3e4,6e4);function cA(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function qB(t){return new Promise((e,r)=>{var n,i,o;function a(){cA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cA(),r(yn(t,"network-request-failed"))},timeout:GB.get()})}if(!((i=(n=Mn().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Mn().gapi)===null||o===void 0)&&o.load)a();else{const s=M5("iframefcb");return Mn()[s]=()=>{gapi.load?a():r(yn(t,"network-request-failed"))},mj(`${D5()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw ph=null,e})}let ph=null;function HB(t){return ph=ph||qB(t),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=new Dd(5e3,15e3),YB="__/auth/iframe",XB="emulator/auth/iframe",QB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZB(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Sw(e,XB):`https://${t.config.authDomain}/${YB}`,n={apiKey:e.apiKey,appName:t.name,v:Vl},i=JB.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${Rd(n).slice(1)}`}async function eU(t){const e=await HB(t),r=Mn().gapi;return de(r,t,"internal-error"),e.open({where:document.body,url:ZB(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QB,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const a=yn(t,"network-request-failed"),s=Mn().setTimeout(()=>{o(a)},KB.get());function l(){Mn().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rU=500,nU=600,iU="_blank",oU="http://localhost";class dA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aU(t,e,r,n=rU,i=nU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},tU),{width:n.toString(),height:i.toString(),top:o,left:a}),u=or().toLowerCase();r&&(s=lj(u)?iU:r),aj(u)&&(e=e||oU,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,w])=>`${p}${m}=${w},`,"");if(T5(u)&&s!=="_self")return sU(e||"",s),new dA(null);const d=window.open(e||"",s,c);de(d,t,"popup-blocked");try{d.focus()}catch{}return new dA(d)}function sU(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU="__/auth/handler",uU="emulator/auth/handler",cU=encodeURIComponent("fac");async function fA(t,e,r,n,i,o){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Vl,eventId:i};if(e instanceof Iw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",q6(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))a[c]=d}if(e instanceof $d){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${cU}=${encodeURIComponent(l)}`:"";return`${dU(t)}?${Rd(s).slice(1)}${u}`}function dU({config:t}){return t.emulator?Sw(t,uU):`https://${t.authDomain}/${lU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="webStorageSupport";class fU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sj,this._completeRedirectFn=MB,this._overrideRedirectResult=CB}async _openPopup(e,r,n,i){var o;Si((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await fA(e,r,n,T0(),i);return aU(e,a,Ow())}async _openRedirect(e,r,n,i){await this._originValidation(e);const o=await fA(e,r,n,T0(),i);return mB(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(Si(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await eU(e),n=new LB(e);return r.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Uy,{type:Uy},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Uy];a!==void 0&&r(!!a),en(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=zB(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return hj()||sj()||Aw()}}const hU=fU;var hA="@firebase/auth",pA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gU(t){Un(new _n("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=n.options;de(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pj(t)},u=new j5(n,i,o,l);return B5(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Un(new _n("auth-internal",e=>{const r=Co(e.getProvider("auth").getImmediate());return(n=>new pU(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(hA,pA,mU(t)),Xr(hA,pA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=5*60,vU=UN("authIdTokenMaxAge")||yU;let mA=null;const bU=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>vU)return;const i=r==null?void 0:r.token;mA!==i&&(mA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xU(t=bw()){const e=Ga(t,"auth");if(e.isInitialized())return e.getImmediate();const r=F5(t,{popupRedirectResolver:hU,persistence:[EB,fB,Sj]}),n=UN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const a=bU(o.toString());sB(r,a,()=>a(r.currentUser)),aB(r,s=>a(s))}}const i=FN("auth");return i&&U5(r,`http://${i}`),r}function wU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}C5({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=yn("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",wU().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gU("Browser");var _U="firebase",SU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(_U,SU,"app");const Nj="@firebase/installations",Nw="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=1e4,Cj=`w:${Nw}`,Rj="FIS_v2",EU="https://firebaseinstallations.googleapis.com/v1",AU=60*60*1e3,TU="installations",PU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oa=new Wa(TU,PU,IU);function Dj(t){return t instanceof En&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj({projectId:t}){return`${EU}/projects/${t}/installations`}function $j(t){return{token:t.token,requestStatus:2,expiresIn:kU(t.expiresIn),creationTime:Date.now()}}async function Lj(t,e){const n=(await e.json()).error;return Oa.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Vj({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function OU(t,{refreshToken:e}){const r=Vj(t);return r.append("Authorization",NU(e)),r}async function Fj(t){const e=await t();return e.status>=500&&e.status<600?t():e}function kU(t){return Number(t.replace("s","000"))}function NU(t){return`${Rj} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=Mj(t),i=Vj(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:r,authVersion:Rj,appId:t.appId,sdkVersion:Cj},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await Fj(()=>fetch(n,s));if(l.ok){const u=await l.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:$j(u.authToken)}}else throw await Lj("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=/^[cdef][\w-]{21}$/,k0="";function DU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=MU(t);return RU.test(r)?r:k0}catch{return k0}}function MU(t){return CU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new Map;function zj(t,e){const r=Cm(t);Wj(r,e),$U(r,e)}function Wj(t,e){const r=Uj.get(t);if(r)for(const n of r)n(e)}function $U(t,e){const r=LU();r&&r.postMessage({key:t,fid:e}),VU()}let la=null;function LU(){return!la&&"BroadcastChannel"in self&&(la=new BroadcastChannel("[Firebase] FID Change"),la.onmessage=t=>{Wj(t.data.key,t.data.fid)}),la}function VU(){Uj.size===0&&la&&(la.close(),la=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU="firebase-installations-database",BU=1,ka="firebase-installations-store";let zy=null;function jw(){return zy||(zy=KN(FU,BU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ka)}}})),zy}async function ep(t,e){const r=Cm(t),i=(await jw()).transaction(ka,"readwrite"),o=i.objectStore(ka),a=await o.get(r);return await o.put(e,r),await i.done,(!a||a.fid!==e.fid)&&zj(t,e.fid),e}async function Gj(t){const e=Cm(t),n=(await jw()).transaction(ka,"readwrite");await n.objectStore(ka).delete(e),await n.done}async function Rm(t,e){const r=Cm(t),i=(await jw()).transaction(ka,"readwrite"),o=i.objectStore(ka),a=await o.get(r),s=e(a);return s===void 0?await o.delete(r):await o.put(s,r),await i.done,s&&(!a||a.fid!==s.fid)&&zj(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(t){let e;const r=await Rm(t.appConfig,n=>{const i=UU(n),o=zU(t,i);return e=o.registrationPromise,o.installationEntry});return r.fid===k0?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function UU(t){const e=t||{fid:DU(),registrationStatus:0};return qj(e)}function zU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Oa.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=WU(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:GU(t)}:{installationEntry:e}}async function WU(t,e){try{const r=await jU(t,e);return ep(t.appConfig,r)}catch(r){throw Dj(r)&&r.customData.serverCode===409?await Gj(t.appConfig):await ep(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function GU(t){let e=await gA(t.appConfig);for(;e.registrationStatus===1;)await Bj(100),e=await gA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Cw(t);return n||r}return e}function gA(t){return Rm(t,e=>{if(!e)throw Oa.create("installation-not-found");return qj(e)})}function qj(t){return qU(t)?{fid:t.fid,registrationStatus:0}:t}function qU(t){return t.registrationStatus===1&&t.registrationTime+jj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU({appConfig:t,heartbeatServiceProvider:e},r){const n=KU(t,r),i=OU(t,r),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:Cj,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await Fj(()=>fetch(n,s));if(l.ok){const u=await l.json();return $j(u)}else throw await Lj("Generate Auth Token",l)}function KU(t,{fid:e}){return`${Mj(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(t,e=!1){let r;const n=await Rm(t.appConfig,o=>{if(!Hj(o))throw Oa.create("not-registered");const a=o.authToken;if(!e&&QU(a))return o;if(a.requestStatus===1)return r=YU(t,e),o;{if(!navigator.onLine)throw Oa.create("app-offline");const s=ZU(o);return r=XU(t,s),s}});return r?await r:n.authToken}async function YU(t,e){let r=await yA(t.appConfig);for(;r.authToken.requestStatus===1;)await Bj(100),r=await yA(t.appConfig);const n=r.authToken;return n.requestStatus===0?Rw(t,e):n}function yA(t){return Rm(t,e=>{if(!Hj(e))throw Oa.create("not-registered");const r=e.authToken;return e9(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function XU(t,e){try{const r=await HU(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await ep(t.appConfig,n),r}catch(r){if(Dj(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Gj(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ep(t.appConfig,n)}throw r}}function Hj(t){return t!==void 0&&t.registrationStatus===2}function QU(t){return t.requestStatus===2&&!JU(t)}function JU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+AU}function ZU(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function e9(t){return t.requestStatus===1&&t.requestTime+jj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(t){const e=t,{installationEntry:r,registrationPromise:n}=await Cw(e);return n?n.catch(console.error):Rw(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e=!1){const r=t;return await n9(r),(await Rw(r,e)).token}async function n9(t){const{registrationPromise:e}=await Cw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t){if(!t||!t.options)throw Wy("App Configuration");if(!t.name)throw Wy("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Wy(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Wy(t){return Oa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="installations",o9="installations-internal",a9=t=>{const e=t.getProvider("app").getImmediate(),r=i9(e),n=Ga(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},s9=t=>{const e=t.getProvider("app").getImmediate(),r=Ga(e,Kj).getImmediate();return{getId:()=>t9(r),getToken:i=>r9(r,i)}};function l9(){Un(new _n(Kj,a9,"PUBLIC")),Un(new _n(o9,s9,"PRIVATE"))}l9();Xr(Nj,Nw);Xr(Nj,Nw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="analytics",u9="firebase_id",c9="origin",d9=60*1e3,f9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Om("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dr=new Wa("analytics","Analytics",h9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){if(!t.startsWith(Dw)){const e=Dr.create("invalid-gtag-resource",{gtagURL:t});return Sr.warn(e.message),""}return t}function Yj(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function m9(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function g9(t,e){const r=m9("firebase-js-sdk-policy",{createScriptURL:p9}),n=document.createElement("script"),i=`${Dw}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function y9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function v9(t,e,r,n,i,o){const a=n[i];try{if(a)await e[a];else{const l=(await Yj(r)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){Sr.error(s)}t("config",i,o)}async function b9(t,e,r,n,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await Yj(r);for(const l of a){const u=s.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",n,i||{})}catch(o){Sr.error(o)}}function x9(t,e,r,n){async function i(o,...a){try{if(o==="event"){const[s,l]=a;await b9(t,e,r,s,l)}else if(o==="config"){const[s,l]=a;await v9(t,e,r,n,s,l)}else if(o==="consent"){const[s,l]=a;t("consent",s,l)}else if(o==="get"){const[s,l,u]=a;t("get",s,l,u)}else if(o==="set"){const[s]=a;t("set",s)}else t(o,...a)}catch(s){Sr.error(s)}}return i}function w9(t,e,r,n,i){let o=function(...a){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=x9(o,t,e,r),{gtagCore:o,wrappedGtag:window[i]}}function _9(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Dw)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=30,E9=1e3;class A9{constructor(e={},r=E9){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Xj=new A9;function T9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function P9(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:T9(n)},o=f9.replace("{app-id}",r),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let s="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw Dr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function I9(t,e=Xj,r){const{appId:n,apiKey:i,measurementId:o}=t.options;if(!n)throw Dr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:n};throw Dr.create("no-api-key")}const a=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new N9;return setTimeout(async()=>{s.abort()},d9),Qj({appId:n,apiKey:i,measurementId:o},a,s,e)}async function Qj(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=Xj){var o;const{appId:a,measurementId:s}=t;try{await O9(n,e)}catch(l){if(s)return Sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await P9(t);return i.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!k9(u)){if(i.deleteThrottleMetadata(a),s)return Sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?UE(r,i.intervalMillis,S9):UE(r,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:r+1};return i.setThrottleMetadata(a,d),Sr.debug(`Calling attemptFetch again in ${c} millis`),Qj(t,d,n,i)}}function O9(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(o),n(Dr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function k9(t){if(!(t instanceof En)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class N9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function j9(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const o=await e,a=Object.assign(Object.assign({},n),{send_to:o});t("event",r,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(){if(WN())try{await GN()}catch(t){return Sr.warn(Dr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Sr.warn(Dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function R9(t,e,r,n,i,o,a){var s;const l=I9(t);l.then(m=>{r[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Sr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Sr.error(m)),e.push(l);const u=C9().then(m=>{if(m)return n.getId()}),[c,d]=await Promise.all([l,u]);_9(o)||g9(o,c.measurementId),i("js",new Date);const p=(s=a==null?void 0:a.config)!==null&&s!==void 0?s:{};return p[c9]="firebase",p.update=!0,d!=null&&(p[u9]=d),i("config",c.measurementId,p),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.app=e}_delete(){return delete lc[this.app.options.appId],Promise.resolve()}}let lc={},vA=[];const bA={};let Gy="dataLayer",M9="gtag",xA,Jj,wA=!1;function $9(){const t=[];if(zN()&&t.push("This is a browser extension environment."),U6()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Dr.create("invalid-analytics-context",{errorInfo:e});Sr.warn(r.message)}}function L9(t,e,r){$9();const n=t.options.appId;if(!n)throw Dr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dr.create("no-api-key");if(lc[n]!=null)throw Dr.create("already-exists",{id:n});if(!wA){y9(Gy);const{wrappedGtag:o,gtagCore:a}=w9(lc,vA,bA,Gy,M9);Jj=o,xA=a,wA=!0}return lc[n]=R9(t,vA,bA,e,xA,Gy,r),new D9(t)}function V9(t=bw()){t=gt(t);const e=Ga(t,tp);return e.isInitialized()?e.getImmediate():F9(t)}function F9(t,e={}){const r=Ga(t,tp);if(r.isInitialized()){const i=r.getImmediate();if(Lc(e,r.getOptions()))return i;throw Dr.create("already-initialized")}return r.initialize({options:e})}function B9(t,e,r,n){t=gt(t),j9(Jj,lc[t.app.options.appId],e,r,n).catch(i=>Sr.error(i))}const _A="@firebase/analytics",SA="0.10.8";function U9(){Un(new _n(tp,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return L9(n,i,r)},"PUBLIC")),Un(new _n("analytics-internal",t,"PRIVATE")),Xr(_A,SA),Xr(_A,SA,"esm2017");function t(e){try{const r=e.getProvider(tp).getImmediate();return{logEvent:(n,i,o)=>B9(r,n,i,o)}}catch(r){throw Dr.create("interop-component-reg-failed",{reason:r})}}}U9();var EA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ya,Zj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function P(){}P.prototype=S.prototype,A.D=S.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(N,O,C){for(var j=Array(arguments.length-2),L=2;L<arguments.length;L++)j[L-2]=arguments[L];return S.prototype[O].apply(N,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,P){P||(P=0);var N=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)N[O]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(O=0;16>O;++O)N[O]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=A.g[0],P=A.g[1],O=A.g[2];var C=A.g[3],j=S+(C^P&(O^C))+N[0]+3614090360&4294967295;S=P+(j<<7&4294967295|j>>>25),j=C+(O^S&(P^O))+N[1]+3905402710&4294967295,C=S+(j<<12&4294967295|j>>>20),j=O+(P^C&(S^P))+N[2]+606105819&4294967295,O=C+(j<<17&4294967295|j>>>15),j=P+(S^O&(C^S))+N[3]+3250441966&4294967295,P=O+(j<<22&4294967295|j>>>10),j=S+(C^P&(O^C))+N[4]+4118548399&4294967295,S=P+(j<<7&4294967295|j>>>25),j=C+(O^S&(P^O))+N[5]+1200080426&4294967295,C=S+(j<<12&4294967295|j>>>20),j=O+(P^C&(S^P))+N[6]+2821735955&4294967295,O=C+(j<<17&4294967295|j>>>15),j=P+(S^O&(C^S))+N[7]+4249261313&4294967295,P=O+(j<<22&4294967295|j>>>10),j=S+(C^P&(O^C))+N[8]+1770035416&4294967295,S=P+(j<<7&4294967295|j>>>25),j=C+(O^S&(P^O))+N[9]+2336552879&4294967295,C=S+(j<<12&4294967295|j>>>20),j=O+(P^C&(S^P))+N[10]+4294925233&4294967295,O=C+(j<<17&4294967295|j>>>15),j=P+(S^O&(C^S))+N[11]+2304563134&4294967295,P=O+(j<<22&4294967295|j>>>10),j=S+(C^P&(O^C))+N[12]+1804603682&4294967295,S=P+(j<<7&4294967295|j>>>25),j=C+(O^S&(P^O))+N[13]+4254626195&4294967295,C=S+(j<<12&4294967295|j>>>20),j=O+(P^C&(S^P))+N[14]+2792965006&4294967295,O=C+(j<<17&4294967295|j>>>15),j=P+(S^O&(C^S))+N[15]+1236535329&4294967295,P=O+(j<<22&4294967295|j>>>10),j=S+(O^C&(P^O))+N[1]+4129170786&4294967295,S=P+(j<<5&4294967295|j>>>27),j=C+(P^O&(S^P))+N[6]+3225465664&4294967295,C=S+(j<<9&4294967295|j>>>23),j=O+(S^P&(C^S))+N[11]+643717713&4294967295,O=C+(j<<14&4294967295|j>>>18),j=P+(C^S&(O^C))+N[0]+3921069994&4294967295,P=O+(j<<20&4294967295|j>>>12),j=S+(O^C&(P^O))+N[5]+3593408605&4294967295,S=P+(j<<5&4294967295|j>>>27),j=C+(P^O&(S^P))+N[10]+38016083&4294967295,C=S+(j<<9&4294967295|j>>>23),j=O+(S^P&(C^S))+N[15]+3634488961&4294967295,O=C+(j<<14&4294967295|j>>>18),j=P+(C^S&(O^C))+N[4]+3889429448&4294967295,P=O+(j<<20&4294967295|j>>>12),j=S+(O^C&(P^O))+N[9]+568446438&4294967295,S=P+(j<<5&4294967295|j>>>27),j=C+(P^O&(S^P))+N[14]+3275163606&4294967295,C=S+(j<<9&4294967295|j>>>23),j=O+(S^P&(C^S))+N[3]+4107603335&4294967295,O=C+(j<<14&4294967295|j>>>18),j=P+(C^S&(O^C))+N[8]+1163531501&4294967295,P=O+(j<<20&4294967295|j>>>12),j=S+(O^C&(P^O))+N[13]+2850285829&4294967295,S=P+(j<<5&4294967295|j>>>27),j=C+(P^O&(S^P))+N[2]+4243563512&4294967295,C=S+(j<<9&4294967295|j>>>23),j=O+(S^P&(C^S))+N[7]+1735328473&4294967295,O=C+(j<<14&4294967295|j>>>18),j=P+(C^S&(O^C))+N[12]+2368359562&4294967295,P=O+(j<<20&4294967295|j>>>12),j=S+(P^O^C)+N[5]+4294588738&4294967295,S=P+(j<<4&4294967295|j>>>28),j=C+(S^P^O)+N[8]+2272392833&4294967295,C=S+(j<<11&4294967295|j>>>21),j=O+(C^S^P)+N[11]+1839030562&4294967295,O=C+(j<<16&4294967295|j>>>16),j=P+(O^C^S)+N[14]+4259657740&4294967295,P=O+(j<<23&4294967295|j>>>9),j=S+(P^O^C)+N[1]+2763975236&4294967295,S=P+(j<<4&4294967295|j>>>28),j=C+(S^P^O)+N[4]+1272893353&4294967295,C=S+(j<<11&4294967295|j>>>21),j=O+(C^S^P)+N[7]+4139469664&4294967295,O=C+(j<<16&4294967295|j>>>16),j=P+(O^C^S)+N[10]+3200236656&4294967295,P=O+(j<<23&4294967295|j>>>9),j=S+(P^O^C)+N[13]+681279174&4294967295,S=P+(j<<4&4294967295|j>>>28),j=C+(S^P^O)+N[0]+3936430074&4294967295,C=S+(j<<11&4294967295|j>>>21),j=O+(C^S^P)+N[3]+3572445317&4294967295,O=C+(j<<16&4294967295|j>>>16),j=P+(O^C^S)+N[6]+76029189&4294967295,P=O+(j<<23&4294967295|j>>>9),j=S+(P^O^C)+N[9]+3654602809&4294967295,S=P+(j<<4&4294967295|j>>>28),j=C+(S^P^O)+N[12]+3873151461&4294967295,C=S+(j<<11&4294967295|j>>>21),j=O+(C^S^P)+N[15]+530742520&4294967295,O=C+(j<<16&4294967295|j>>>16),j=P+(O^C^S)+N[2]+3299628645&4294967295,P=O+(j<<23&4294967295|j>>>9),j=S+(O^(P|~C))+N[0]+4096336452&4294967295,S=P+(j<<6&4294967295|j>>>26),j=C+(P^(S|~O))+N[7]+1126891415&4294967295,C=S+(j<<10&4294967295|j>>>22),j=O+(S^(C|~P))+N[14]+2878612391&4294967295,O=C+(j<<15&4294967295|j>>>17),j=P+(C^(O|~S))+N[5]+4237533241&4294967295,P=O+(j<<21&4294967295|j>>>11),j=S+(O^(P|~C))+N[12]+1700485571&4294967295,S=P+(j<<6&4294967295|j>>>26),j=C+(P^(S|~O))+N[3]+2399980690&4294967295,C=S+(j<<10&4294967295|j>>>22),j=O+(S^(C|~P))+N[10]+4293915773&4294967295,O=C+(j<<15&4294967295|j>>>17),j=P+(C^(O|~S))+N[1]+2240044497&4294967295,P=O+(j<<21&4294967295|j>>>11),j=S+(O^(P|~C))+N[8]+1873313359&4294967295,S=P+(j<<6&4294967295|j>>>26),j=C+(P^(S|~O))+N[15]+4264355552&4294967295,C=S+(j<<10&4294967295|j>>>22),j=O+(S^(C|~P))+N[6]+2734768916&4294967295,O=C+(j<<15&4294967295|j>>>17),j=P+(C^(O|~S))+N[13]+1309151649&4294967295,P=O+(j<<21&4294967295|j>>>11),j=S+(O^(P|~C))+N[4]+4149444226&4294967295,S=P+(j<<6&4294967295|j>>>26),j=C+(P^(S|~O))+N[11]+3174756917&4294967295,C=S+(j<<10&4294967295|j>>>22),j=O+(S^(C|~P))+N[2]+718787259&4294967295,O=C+(j<<15&4294967295|j>>>17),j=P+(C^(O|~S))+N[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(O+(j<<21&4294967295|j>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+C&4294967295}n.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var P=S-this.blockSize,N=this.B,O=this.h,C=0;C<S;){if(O==0)for(;C<=P;)i(this,A,C),C+=this.blockSize;if(typeof A=="string"){for(;C<S;)if(N[O++]=A.charCodeAt(C++),O==this.blockSize){i(this,N),O=0;break}}else for(;C<S;)if(N[O++]=A[C++],O==this.blockSize){i(this,N),O=0;break}}this.h=O,this.o+=S},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var P=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=P&255,P/=256;for(this.u(A),A=Array(16),S=P=0;4>S;++S)for(var N=0;32>N;N+=8)A[P++]=this.g[S]>>>N&255;return A};function o(A,S){var P=s;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=S(A)}function a(A,S){this.h=S;for(var P=[],N=!0,O=A.length-1;0<=O;O--){var C=A[O]|0;N&&C==S||(P[O]=C,N=!1)}this.g=P}var s={};function l(A){return-128<=A&&128>A?o(A,function(S){return new a([S|0],0>S?-1:0)}):new a([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return d;if(0>A)return y(u(-A));for(var S=[],P=1,N=0;A>=P;N++)S[N]=A/P|0,P*=4294967296;return new a(S,0)}function c(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return y(c(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(S,8)),N=d,O=0;O<A.length;O+=8){var C=Math.min(8,A.length-O),j=parseInt(A.substring(O,O+C),S);8>C?(C=u(Math.pow(S,C)),N=N.j(C).add(u(j))):(N=N.j(P),N=N.add(u(j)))}return N}var d=l(0),p=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var A=0,S=1,P=0;P<this.g.length;P++){var N=this.i(P);A+=(0<=N?N:4294967296+N)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(w(this))return"0";if(g(this))return"-"+y(this).toString(A);for(var S=u(Math.pow(A,6)),P=this,N="";;){var O=I(P,S).g;P=x(P,O.j(S));var C=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=O,w(P))return C+N;for(;6>C.length;)C="0"+C;N=C+N}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function w(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function g(A){return A.h==-1}t.l=function(A){return A=x(this,A),g(A)?-1:w(A)?0:1};function y(A){for(var S=A.g.length,P=[],N=0;N<S;N++)P[N]=~A.g[N];return new a(P,~A.h).add(p)}t.abs=function(){return g(this)?y(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],N=0,O=0;O<=S;O++){var C=N+(this.i(O)&65535)+(A.i(O)&65535),j=(C>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);N=j>>>16,C&=65535,j&=65535,P[O]=j<<16|C}return new a(P,P[P.length-1]&-2147483648?-1:0)};function x(A,S){return A.add(y(S))}t.j=function(A){if(w(this)||w(A))return d;if(g(this))return g(A)?y(this).j(y(A)):y(y(this).j(A));if(g(A))return y(this.j(y(A)));if(0>this.l(m)&&0>A.l(m))return u(this.m()*A.m());for(var S=this.g.length+A.g.length,P=[],N=0;N<2*S;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<A.g.length;O++){var C=this.i(N)>>>16,j=this.i(N)&65535,L=A.i(O)>>>16,F=A.i(O)&65535;P[2*N+2*O]+=j*F,v(P,2*N+2*O),P[2*N+2*O+1]+=C*F,v(P,2*N+2*O+1),P[2*N+2*O+1]+=j*L,v(P,2*N+2*O+1),P[2*N+2*O+2]+=C*L,v(P,2*N+2*O+2)}for(N=0;N<S;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=S;N<2*S;N++)P[N]=0;return new a(P,0)};function v(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function _(A,S){this.g=A,this.h=S}function I(A,S){if(w(S))throw Error("division by zero");if(w(A))return new _(d,d);if(g(A))return S=I(y(A),S),new _(y(S.g),y(S.h));if(g(S))return S=I(A,y(S)),new _(y(S.g),S.h);if(30<A.g.length){if(g(A)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var P=p,N=S;0>=N.l(A);)P=b(P),N=b(N);var O=T(P,1),C=T(N,1);for(N=T(N,2),P=T(P,2);!w(N);){var j=C.add(N);0>=j.l(A)&&(O=O.add(P),C=j),N=T(N,1),P=T(P,1)}return S=x(A,O.j(S)),new _(O,S)}for(O=d;0<=A.l(S);){for(P=Math.max(1,Math.floor(A.m()/S.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),C=u(P),j=C.j(S);g(j)||0<j.l(A);)P-=N,C=u(P),j=C.j(S);w(C)&&(C=p),O=O.add(C),A=x(A,j)}return new _(O,A)}t.A=function(A){return I(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],N=0;N<S;N++)P[N]=this.i(N)&A.i(N);return new a(P,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],N=0;N<S;N++)P[N]=this.i(N)|A.i(N);return new a(P,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],N=0;N<S;N++)P[N]=this.i(N)^A.i(N);return new a(P,this.h^A.h)};function b(A){for(var S=A.g.length+1,P=[],N=0;N<S;N++)P[N]=A.i(N)<<1|A.i(N-1)>>>31;return new a(P,A.h)}function T(A,S){var P=S>>5;S%=32;for(var N=A.g.length-P,O=[],C=0;C<N;C++)O[C]=0<S?A.i(C+P)>>>S|A.i(C+P+1)<<32-S:A.i(C+P);return new a(O,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Zj=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,ya=a}).apply(typeof EA<"u"?EA:typeof self<"u"?self:typeof window<"u"?window:{});var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eC,Hu,tC,mh,N0,rC,nC,iC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,k){return h==Array.prototype||h==Object.prototype||(h[E]=k.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rf=="object"&&Rf];for(var E=0;E<h.length;++E){var k=h[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=r(this);function i(h,E){if(E)e:{var k=n;h=h.split(".");for(var R=0;R<h.length-1;R++){var $=h[R];if(!($ in k))break e;k=k[$]}h=h[h.length-1],R=k[h],E=E(R),E!=R&&E!=null&&e(k,h,{configurable:!0,writable:!0,value:E})}}function o(h,E){h instanceof String&&(h+="");var k=0,R=!1,$={next:function(){if(!R&&k<h.length){var U=k++;return{value:E(U,h[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(h){return h||function(){return o(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function u(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function c(h,E,k){return h.call.apply(h.bind,arguments)}function d(h,E,k){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),h.apply(E,$)}}return function(){return h.apply(E,arguments)}}function p(h,E,k){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,p.apply(null,arguments)}function m(h,E){var k=Array.prototype.slice.call(arguments,1);return function(){var R=k.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function w(h,E){function k(){}k.prototype=E.prototype,h.aa=E.prototype,h.prototype=new k,h.prototype.constructor=h,h.Qb=function(R,$,U){for(var Z=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)Z[Ve-2]=arguments[Ve];return E.prototype[$].apply(R,Z)}}function g(h){const E=h.length;if(0<E){const k=Array(E);for(let R=0;R<E;R++)k[R]=h[R];return k}return[]}function y(h,E){for(let k=1;k<arguments.length;k++){const R=arguments[k];if(l(R)){const $=h.length||0,U=R.length||0;h.length=$+U;for(let Z=0;Z<U;Z++)h[$+Z]=R[Z]}else h.push(R)}}class x{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function v(h){return/^[\s\xa0]*$/.test(h)}function _(){var h=s.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var b=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function T(h,E,k){for(const R in h)E.call(k,h[R],R,h)}function A(h,E){for(const k in h)E.call(void 0,h[k],k,h)}function S(h){const E={};for(const k in h)E[k]=h[k];return E}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,E){let k,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(k in R)h[k]=R[k];for(let U=0;U<P.length;U++)k=P[U],Object.prototype.hasOwnProperty.call(R,k)&&(h[k]=R[k])}}function O(h){var E=1;h=h.split(":");const k=[];for(;0<E&&h.length;)k.push(h.shift()),E--;return h.length&&k.push(h.join(":")),k}function C(h){s.setTimeout(()=>{throw h},0)}function j(){var h=W;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class L{constructor(){this.h=this.g=null}add(E,k){const R=F.get();R.set(E,k),this.h?this.h.next=R:this.g=R,this.h=R}}var F=new x(()=>new B,h=>h.reset());class B{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let G,V=!1,W=new L,Y=()=>{const h=s.Promise.resolve(void 0);G=()=>{h.then(ee)}};var ee=()=>{for(var h;h=j();){try{h.h.call(h.g)}catch(k){C(k)}var E=F;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}V=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const k=()=>{};s.addEventListener("test",k,E),s.removeEventListener("test",k,E)}catch{}return h}();function Ne(h,E){if(re.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var k=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if(b){e:{try{I(E.nodeName);var $=!0;break e}catch{}$=!1}$||(E=null)}}else k=="mouseover"?E=h.fromElement:k=="mouseout"&&(E=h.toElement);this.relatedTarget=E,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:rt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}w(Ne,re);var rt={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function te(h,E,k,R,$){this.listener=h,this.proxy=null,this.src=E,this.type=k,this.capture=!!R,this.ha=$,this.key=++Gt,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,E,k,R,$){var U=h.toString();h=this.g[U],h||(h=this.g[U]=[],this.h++);var Z=Be(h,E,R,$);return-1<Z?(E=h[Z],k||(E.fa=!1)):(E=new te(E,this.src,U,!!R,$),E.fa=k,h.push(E)),E};function H(h,E){var k=E.type;if(k in h.g){var R=h.g[k],$=Array.prototype.indexOf.call(R,E,void 0),U;(U=0<=$)&&Array.prototype.splice.call(R,$,1),U&&(fe(E),h.g[k].length==0&&(delete h.g[k],h.h--))}}function Be(h,E,k,R){for(var $=0;$<h.length;++$){var U=h[$];if(!U.da&&U.listener==E&&U.capture==!!k&&U.ha==R)return $}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),nt={};function ut(h,E,k,R,$){if(Array.isArray(E)){for(var U=0;U<E.length;U++)ut(h,E[U],k,R,$);return null}return k=au(k),h&&h[Dt]?h.K(E,k,u(R)?!!R.capture:!1,$):qt(h,E,k,!1,R,$)}function qt(h,E,k,R,$,U){if(!E)throw Error("Invalid event type");var Z=u($)?!!$.capture:!!$,Ve=Bo(h);if(Ve||(h[xe]=Ve=new pe(h)),k=Ve.add(E,k,R,Z,U),k.proxy)return k;if(R=Tn(),k.proxy=R,R.src=h,R.listener=k,h.addEventListener)Se||($=Z),$===void 0&&($=!1),h.addEventListener(E.toString(),R,$);else if(h.attachEvent)h.attachEvent(Pn(E.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Tn(){function h(k){return E.call(h.src,h.listener,k)}const E=Xn;return h}function Yn(h,E,k,R,$){if(Array.isArray(E))for(var U=0;U<E.length;U++)Yn(h,E[U],k,R,$);else R=u(R)?!!R.capture:!!R,k=au(k),h&&h[Dt]?(h=h.i,E=String(E).toString(),E in h.g&&(U=h.g[E],k=Be(U,k,R,$),-1<k&&(fe(U[k]),Array.prototype.splice.call(U,k,1),U.length==0&&(delete h.g[E],h.h--)))):h&&(h=Bo(h))&&(E=h.g[E.toString()],h=-1,E&&(h=Be(E,k,R,$)),(k=-1<h?E[h]:null)&&$i(k))}function $i(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[Dt])H(E.i,h);else{var k=h.type,R=h.proxy;E.removeEventListener?E.removeEventListener(k,R,h.capture):E.detachEvent?E.detachEvent(Pn(k),R):E.addListener&&E.removeListener&&E.removeListener(R),(k=Bo(E))?(H(k,h),k.h==0&&(k.src=null,E[xe]=null)):fe(h)}}}function Pn(h){return h in nt?nt[h]:nt[h]="on"+h}function Xn(h,E){if(h.da)h=!0;else{E=new Ne(E,this);var k=h.listener,R=h.ha||h.src;h.fa&&$i(h),h=k.call(R,E)}return h}function Bo(h){return h=h[xe],h instanceof pe?h:null}var Za="__closure_events_fn_"+(1e9*Math.random()>>>0);function au(h){return typeof h=="function"?h:(h[Za]||(h[Za]=function(E){return h.handleEvent(E)}),h[Za])}function Ht(){X.call(this),this.i=new pe(this),this.M=this,this.F=null}w(Ht,X),Ht.prototype[Dt]=!0,Ht.prototype.removeEventListener=function(h,E,k,R){Yn(this,h,E,k,R)};function ar(h,E){var k,R=h.F;if(R)for(k=[];R;R=R.F)k.push(R);if(h=h.M,R=E.type||E,typeof E=="string")E=new re(E,h);else if(E instanceof re)E.target=E.target||h;else{var $=E;E=new re(R,h),N(E,$)}if($=!0,k)for(var U=k.length-1;0<=U;U--){var Z=E.g=k[U];$=Jd(Z,R,!0,E)&&$}if(Z=E.g=h,$=Jd(Z,R,!0,E)&&$,$=Jd(Z,R,!1,E)&&$,k)for(U=0;U<k.length;U++)Z=E.g=k[U],$=Jd(Z,R,!1,E)&&$}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var k=h.g[E],R=0;R<k.length;R++)fe(k[R]);delete h.g[E],h.h--}}this.F=null},Ht.prototype.K=function(h,E,k,R){return this.i.add(String(h),E,!1,k,R)},Ht.prototype.L=function(h,E,k,R){return this.i.add(String(h),E,!0,k,R)};function Jd(h,E,k,R){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var $=!0,U=0;U<E.length;++U){var Z=E[U];if(Z&&!Z.da&&Z.capture==k){var Ve=Z.listener,Mt=Z.ha||Z.src;Z.fa&&H(h.i,Z),$=Ve.call(Mt,R)!==!1&&$}}return $&&!R.defaultPrevented}function I1(h,E,k){if(typeof h=="function")k&&(h=p(h,k));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:s.setTimeout(h,E||0)}function O1(h){h.g=I1(()=>{h.g=null,h.i&&(h.i=!1,O1(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class hL extends X{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:O1(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function su(h){X.call(this),this.h=h,this.g={}}w(su,X);var k1=[];function N1(h){T(h.g,function(E,k){this.g.hasOwnProperty(k)&&$i(E)},h),h.g={}}su.prototype.N=function(){su.aa.N.call(this),N1(this)},su.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hg=s.JSON.stringify,pL=s.JSON.parse,mL=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function Kg(){}Kg.prototype.h=null;function j1(h){return h.h||(h.h=h.i())}function C1(){}var lu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yg(){re.call(this,"d")}w(Yg,re);function Xg(){re.call(this,"c")}w(Xg,re);var Uo={},R1=null;function Zd(){return R1=R1||new Ht}Uo.La="serverreachability";function D1(h){re.call(this,Uo.La,h)}w(D1,re);function uu(h){const E=Zd();ar(E,new D1(E))}Uo.STAT_EVENT="statevent";function M1(h,E){re.call(this,Uo.STAT_EVENT,h),this.stat=E}w(M1,re);function sr(h){const E=Zd();ar(E,new M1(E,h))}Uo.Ma="timingevent";function $1(h,E){re.call(this,Uo.Ma,h),this.size=E}w($1,re);function cu(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},E)}function du(){this.g=!0}du.prototype.xa=function(){this.g=!1};function gL(h,E,k,R,$,U){h.info(function(){if(h.g)if(U)for(var Z="",Ve=U.split("&"),Mt=0;Mt<Ve.length;Mt++){var Ie=Ve[Mt].split("=");if(1<Ie.length){var Kt=Ie[0];Ie=Ie[1];var Yt=Kt.split("_");Z=2<=Yt.length&&Yt[1]=="type"?Z+(Kt+"="+Ie+"&"):Z+(Kt+"=redacted&")}}else Z=null;else Z=U;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+E+`
`+k+`
`+Z})}function yL(h,E,k,R,$,U,Z){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+E+`
`+k+`
`+U+" "+Z})}function es(h,E,k,R){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+bL(h,k)+(R?" "+R:"")})}function vL(h,E){h.info(function(){return"TIMEOUT: "+E})}du.prototype.info=function(){};function bL(h,E){if(!h.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(h=0;h<k.length;h++)if(Array.isArray(k[h])){var R=k[h];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var U=$[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Z=1;Z<$.length;Z++)$[Z]=""}}}}return Hg(k)}catch{return E}}var ef={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},L1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qg;function tf(){}w(tf,Kg),tf.prototype.g=function(){return new XMLHttpRequest},tf.prototype.i=function(){return{}},Qg=new tf;function Li(h,E,k,R){this.j=h,this.i=E,this.l=k,this.R=R||1,this.U=new su(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new V1}function V1(){this.i=null,this.g="",this.h=!1}var F1={},Jg={};function Zg(h,E,k){h.L=1,h.v=af(Qn(E)),h.m=k,h.P=!0,B1(h,null)}function B1(h,E){h.F=Date.now(),rf(h),h.A=Qn(h.v);var k=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),tS(k.i,"t",R),h.C=0,k=h.j.J,h.h=new V1,h.g=bS(h.j,k?E:null,!h.m),0<h.O&&(h.M=new hL(p(h.Y,h,h.g),h.O)),E=h.U,k=h.g,R=h.ca;var $="readystatechange";Array.isArray($)||($&&(k1[0]=$.toString()),$=k1);for(var U=0;U<$.length;U++){var Z=ut(k,$[U],R||E.handleEvent,!1,E.h||E);if(!Z)break;E.g[Z.key]=Z}E=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),uu(),gL(h.i,h.u,h.A,h.l,h.R,h.m)}Li.prototype.ca=function(h){h=h.target;const E=this.M;E&&Jn(h)==3?E.j():this.Y(h)},Li.prototype.Y=function(h){try{if(h==this.g)e:{const Yt=Jn(this.g);var E=this.g.Ba();const ns=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||lS(this.g)))){this.J||Yt!=4||E==7||(E==8||0>=ns?uu(3):uu(2)),ey(this);var k=this.g.Z();this.X=k;t:if(U1(this)){var R=lS(this.g);h="";var $=R.length,U=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zo(this),fu(this);var Z="";break t}this.h.i=new s.TextDecoder}for(E=0;E<$;E++)this.h.h=!0,h+=this.h.i.decode(R[E],{stream:!(U&&E==$-1)});R.length=0,this.h.g+=h,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=k==200,yL(this.i,this.u,this.A,this.l,this.R,Yt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Mt=this.g;if((Ve=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ve)){var Ie=Ve;break t}}Ie=null}if(k=Ie)es(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ty(this,k);else{this.o=!1,this.s=3,sr(12),zo(this),fu(this);break e}}if(this.P){k=!0;let on;for(;!this.J&&this.C<Z.length;)if(on=xL(this,Z),on==Jg){Yt==4&&(this.s=4,sr(14),k=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(on==F1){this.s=4,sr(15),es(this.i,this.l,Z,"[Invalid Chunk]"),k=!1;break}else es(this.i,this.l,on,null),ty(this,on);if(U1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||Z.length!=0||this.h.h||(this.s=1,sr(16),k=!1),this.o=this.o&&k,!k)es(this.i,this.l,Z,"[Invalid Chunked Response]"),zo(this),fu(this);else if(0<Z.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),sy(Kt),Kt.M=!0,sr(11))}}else es(this.i,this.l,Z,null),ty(this,Z);Yt==4&&zo(this),this.o&&!this.J&&(Yt==4?mS(this.j,this):(this.o=!1,rf(this)))}else $L(this.g),k==400&&0<Z.indexOf("Unknown SID")?(this.s=3,sr(12)):(this.s=0,sr(13)),zo(this),fu(this)}}}catch{}finally{}};function U1(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function xL(h,E){var k=h.C,R=E.indexOf(`
`,k);return R==-1?Jg:(k=Number(E.substring(k,R)),isNaN(k)?F1:(R+=1,R+k>E.length?Jg:(E=E.slice(R,R+k),h.C=R+k,E)))}Li.prototype.cancel=function(){this.J=!0,zo(this)};function rf(h){h.S=Date.now()+h.I,z1(h,h.I)}function z1(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=cu(p(h.ba,h),E)}function ey(h){h.B&&(s.clearTimeout(h.B),h.B=null)}Li.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(vL(this.i,this.A),this.L!=2&&(uu(),sr(17)),zo(this),this.s=2,fu(this)):z1(this,this.S-h)};function fu(h){h.j.G==0||h.J||mS(h.j,h)}function zo(h){ey(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,N1(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function ty(h,E){try{var k=h.j;if(k.G!=0&&(k.g==h||ry(k.h,h))){if(!h.K&&ry(k.h,h)&&k.G==3){try{var R=k.Da.g.parse(E)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<h.F)ff(k),cf(k);else break e;ay(k),sr(18)}}else k.za=$[1],0<k.za-k.T&&37500>$[2]&&k.F&&k.v==0&&!k.C&&(k.C=cu(p(k.Za,k),6e3));if(1>=q1(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Go(k,11)}else if((h.K||k.g==h)&&ff(k),!v(E))for($=k.Da.g.parse(E),E=0;E<$.length;E++){let Ie=$[E];if(k.T=Ie[0],Ie=Ie[1],k.G==2)if(Ie[0]=="c"){k.K=Ie[1],k.ia=Ie[2];const Kt=Ie[3];Kt!=null&&(k.la=Kt,k.j.info("VER="+k.la));const Yt=Ie[4];Yt!=null&&(k.Aa=Yt,k.j.info("SVER="+k.Aa));const ns=Ie[5];ns!=null&&typeof ns=="number"&&0<ns&&(R=1.5*ns,k.L=R,k.j.info("backChannelRequestTimeoutMs_="+R)),R=k;const on=h.g;if(on){const pf=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pf){var U=R.h;U.g||pf.indexOf("spdy")==-1&&pf.indexOf("quic")==-1&&pf.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ny(U,U.h),U.h=null))}if(R.D){const ly=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;ly&&(R.ya=ly,He(R.I,R.D,ly))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-h.F,k.j.info("Handshake RTT: "+k.R+"ms")),R=k;var Z=h;if(R.qa=vS(R,R.J?R.ia:null,R.W),Z.K){H1(R.h,Z);var Ve=Z,Mt=R.L;Mt&&(Ve.I=Mt),Ve.B&&(ey(Ve),rf(Ve)),R.g=Z}else hS(R);0<k.i.length&&df(k)}else Ie[0]!="stop"&&Ie[0]!="close"||Go(k,7);else k.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Go(k,7):oy(k):Ie[0]!="noop"&&k.l&&k.l.ta(Ie),k.v=0)}}uu(4)}catch{}}var wL=class{constructor(h,E){this.g=h,this.map=E}};function W1(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function G1(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function q1(h){return h.h?1:h.g?h.g.size:0}function ry(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function ny(h,E){h.g?h.g.add(E):h.h=E}function H1(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}W1.prototype.cancel=function(){if(this.i=K1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function K1(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const k of h.g.values())E=E.concat(k.D);return E}return g(h.i)}function _L(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var E=[],k=h.length,R=0;R<k;R++)E.push(h[R]);return E}E=[],k=0;for(R in h)E[k++]=h[R];return E}function SL(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var E=[];h=h.length;for(var k=0;k<h;k++)E.push(k);return E}E=[],k=0;for(const R in h)E[k++]=R;return E}}}function Y1(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var k=SL(h),R=_L(h),$=R.length,U=0;U<$;U++)E.call(void 0,R[U],k&&k[U],h)}var X1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EL(h,E){if(h){h=h.split("&");for(var k=0;k<h.length;k++){var R=h[k].indexOf("="),$=null;if(0<=R){var U=h[k].substring(0,R);$=h[k].substring(R+1)}else U=h[k];E(U,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Wo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Wo){this.h=h.h,nf(this,h.j),this.o=h.o,this.g=h.g,of(this,h.s),this.l=h.l;var E=h.i,k=new mu;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),Q1(this,k),this.m=h.m}else h&&(E=String(h).match(X1))?(this.h=!1,nf(this,E[1]||"",!0),this.o=hu(E[2]||""),this.g=hu(E[3]||"",!0),of(this,E[4]),this.l=hu(E[5]||"",!0),Q1(this,E[6]||"",!0),this.m=hu(E[7]||"")):(this.h=!1,this.i=new mu(null,this.h))}Wo.prototype.toString=function(){var h=[],E=this.j;E&&h.push(pu(E,J1,!0),":");var k=this.g;return(k||E=="file")&&(h.push("//"),(E=this.o)&&h.push(pu(E,J1,!0),"@"),h.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&h.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&h.push("/"),h.push(pu(k,k.charAt(0)=="/"?PL:TL,!0))),(k=this.i.toString())&&h.push("?",k),(k=this.m)&&h.push("#",pu(k,OL)),h.join("")};function Qn(h){return new Wo(h)}function nf(h,E,k){h.j=k?hu(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function of(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function Q1(h,E,k){E instanceof mu?(h.i=E,kL(h.i,h.h)):(k||(E=pu(E,IL)),h.i=new mu(E,h.h))}function He(h,E,k){h.i.set(E,k)}function af(h){return He(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function hu(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function pu(h,E,k){return typeof h=="string"?(h=encodeURI(h).replace(E,AL),k&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function AL(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var J1=/[#\/\?@]/g,TL=/[#\?:]/g,PL=/[#\?]/g,IL=/[#\?@]/g,OL=/#/g;function mu(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function Vi(h){h.g||(h.g=new Map,h.h=0,h.i&&EL(h.i,function(E,k){h.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=mu.prototype,t.add=function(h,E){Vi(this),this.i=null,h=ts(this,h);var k=this.g.get(h);return k||this.g.set(h,k=[]),k.push(E),this.h+=1,this};function Z1(h,E){Vi(h),E=ts(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function eS(h,E){return Vi(h),E=ts(h,E),h.g.has(E)}t.forEach=function(h,E){Vi(this),this.g.forEach(function(k,R){k.forEach(function($){h.call(E,$,R,this)},this)},this)},t.na=function(){Vi(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let R=0;R<E.length;R++){const $=h[R];for(let U=0;U<$.length;U++)k.push(E[R])}return k},t.V=function(h){Vi(this);let E=[];if(typeof h=="string")eS(this,h)&&(E=E.concat(this.g.get(ts(this,h))));else{h=Array.from(this.g.values());for(let k=0;k<h.length;k++)E=E.concat(h[k])}return E},t.set=function(h,E){return Vi(this),this.i=null,h=ts(this,h),eS(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function tS(h,E,k){Z1(h,E),0<k.length&&(h.i=null,h.g.set(ts(h,E),g(k)),h.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var R=E[k];const U=encodeURIComponent(String(R)),Z=this.V(R);for(R=0;R<Z.length;R++){var $=U;Z[R]!==""&&($+="="+encodeURIComponent(String(Z[R]))),h.push($)}}return this.i=h.join("&")};function ts(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function kL(h,E){E&&!h.j&&(Vi(h),h.i=null,h.g.forEach(function(k,R){var $=R.toLowerCase();R!=$&&(Z1(this,R),tS(this,$,k))},h)),h.j=E}function NL(h,E){const k=new du;if(s.Image){const R=new Image;R.onload=m(Fi,k,"TestLoadImage: loaded",!0,E,R),R.onerror=m(Fi,k,"TestLoadImage: error",!1,E,R),R.onabort=m(Fi,k,"TestLoadImage: abort",!1,E,R),R.ontimeout=m(Fi,k,"TestLoadImage: timeout",!1,E,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else E(!1)}function jL(h,E){const k=new du,R=new AbortController,$=setTimeout(()=>{R.abort(),Fi(k,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:R.signal}).then(U=>{clearTimeout($),U.ok?Fi(k,"TestPingServer: ok",!0,E):Fi(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout($),Fi(k,"TestPingServer: error",!1,E)})}function Fi(h,E,k,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(k)}catch{}}function CL(){this.g=new mL}function RL(h,E,k){const R=k||"";try{Y1(h,function($,U){let Z=$;u($)&&(Z=Hg($)),E.push(R+U+"="+encodeURIComponent(Z))})}catch($){throw E.push(R+"type="+encodeURIComponent("_badmap")),$}}function sf(h){this.l=h.Ub||null,this.j=h.eb||!1}w(sf,Kg),sf.prototype.g=function(){return new lf(this.l,this.j)},sf.prototype.i=function(h){return function(){return h}}({});function lf(h,E){Ht.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(lf,Ht),t=lf.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,yu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||s).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yu(this)),this.g&&(this.readyState=3,yu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rS(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function rS(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?gu(this):yu(this),this.readyState==3&&rS(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,gu(this))},t.Qa=function(h){this.g&&(this.response=h,gu(this))},t.ga=function(){this.g&&gu(this)};function gu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,yu(h)}t.setRequestHeader=function(h,E){this.u.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,h.push(k[0]+": "+k[1]),k=E.next();return h.join(`\r
`)};function yu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(lf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function nS(h){let E="";return T(h,function(k,R){E+=R,E+=":",E+=k,E+=`\r
`}),E}function iy(h,E,k){e:{for(R in k){var R=!1;break e}R=!0}R||(k=nS(k),typeof h=="string"?k!=null&&encodeURIComponent(String(k)):He(h,E,k))}function ct(h){Ht.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ct,Ht);var DL=/^https?$/i,ML=["POST","PUT"];t=ct.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,E,k,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qg.g(),this.v=this.o?j1(this.o):j1(Qg),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(U){iS(this,U);return}if(h=k||"",k=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)k.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())k.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(k.keys()).find(U=>U.toLowerCase()=="content-type"),$=s.FormData&&h instanceof s.FormData,!(0<=Array.prototype.indexOf.call(ML,E,void 0))||R||$||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Z]of k)this.g.setRequestHeader(U,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sS(this),this.u=!0,this.g.send(h),this.u=!1}catch(U){iS(this,U)}};function iS(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,oS(h),uf(h)}function oS(h){h.A||(h.A=!0,ar(h,"complete"),ar(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ar(this,"complete"),ar(this,"abort"),uf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uf(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?aS(this):this.bb())},t.bb=function(){aS(this)};function aS(h){if(h.h&&typeof a<"u"&&(!h.v[1]||Jn(h)!=4||h.Z()!=2)){if(h.u&&Jn(h)==4)I1(h.Ea,0,h);else if(ar(h,"readystatechange"),Jn(h)==4){h.h=!1;try{const Z=h.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var R;if(R=Z===0){var $=String(h.D).match(X1)[1]||null;!$&&s.self&&s.self.location&&($=s.self.location.protocol.slice(0,-1)),R=!DL.test($?$.toLowerCase():"")}k=R}if(k)ar(h,"complete"),ar(h,"success");else{h.m=6;try{var U=2<Jn(h)?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.Z()+"]",oS(h)}}finally{uf(h)}}}}function uf(h,E){if(h.g){sS(h);const k=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||ar(h,"ready");try{k.onreadystatechange=R}catch{}}}function sS(h){h.I&&(s.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Jn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),pL(E)}};function lS(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $L(h){const E={};h=(h.g&&2<=Jn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(v(h[R]))continue;var k=O(h[R]);const $=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const U=E[$]||[];E[$]=U,U.push(k)}A(E,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vu(h,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[h]||E}function uS(h){this.Aa=0,this.i=[],this.j=new du,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vu("baseRetryDelayMs",5e3,h),this.cb=vu("retryDelaySeedMs",1e4,h),this.Wa=vu("forwardChannelMaxRetries",2,h),this.wa=vu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new W1(h&&h.concurrentRequestLimit),this.Da=new CL,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=uS.prototype,t.la=8,t.G=1,t.connect=function(h,E,k,R){sr(0),this.W=h,this.H=E||{},k&&R!==void 0&&(this.H.OSID=k,this.H.OAID=R),this.F=this.X,this.I=vS(this,null,this.W),df(this)};function oy(h){if(cS(h),h.G==3){var E=h.U++,k=Qn(h.I);if(He(k,"SID",h.K),He(k,"RID",E),He(k,"TYPE","terminate"),bu(h,k),E=new Li(h,h.j,E),E.L=2,E.v=af(Qn(k)),k=!1,s.navigator&&s.navigator.sendBeacon)try{k=s.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&s.Image&&(new Image().src=E.v,k=!0),k||(E.g=bS(E.j,null),E.g.ea(E.v)),E.F=Date.now(),rf(E)}yS(h)}function cf(h){h.g&&(sy(h),h.g.cancel(),h.g=null)}function cS(h){cf(h),h.u&&(s.clearTimeout(h.u),h.u=null),ff(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&s.clearTimeout(h.s),h.s=null)}function df(h){if(!G1(h.h)&&!h.s){h.s=!0;var E=h.Ga;G||Y(),V||(G(),V=!0),W.add(E,h),h.B=0}}function LL(h,E){return q1(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=cu(p(h.Ga,h,E),gS(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new Li(this,this.j,h);let U=this.o;if(this.S&&(U?(U=S(U),N(U,this.S)):U=this.S),this.m!==null||this.O||($.H=U,U=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var R=this.i[k];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(E+=R,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=fS(this,$,E),k=Qn(this.I),He(k,"RID",h),He(k,"CVER",22),this.D&&He(k,"X-HTTP-Session-Id",this.D),bu(this,k),U&&(this.O?E="headers="+encodeURIComponent(String(nS(U)))+"&"+E:this.m&&iy(k,this.m,U)),ny(this.h,$),this.Ua&&He(k,"TYPE","init"),this.P?(He(k,"$req",E),He(k,"SID","null"),$.T=!0,Zg($,k,null)):Zg($,k,E),this.G=2}}else this.G==3&&(h?dS(this,h):this.i.length==0||G1(this.h)||dS(this))};function dS(h,E){var k;E?k=E.l:k=h.U++;const R=Qn(h.I);He(R,"SID",h.K),He(R,"RID",k),He(R,"AID",h.T),bu(h,R),h.m&&h.o&&iy(R,h.m,h.o),k=new Li(h,h.j,k,h.B+1),h.m===null&&(k.H=h.o),E&&(h.i=E.D.concat(h.i)),E=fS(h,k,1e3),k.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ny(h.h,k),Zg(k,R,E)}function bu(h,E){h.H&&T(h.H,function(k,R){He(E,R,k)}),h.l&&Y1({},function(k,R){He(E,R,k)})}function fS(h,E,k){k=Math.min(h.i.length,k);var R=h.l?p(h.l.Na,h.l,h):null;e:{var $=h.i;let U=-1;for(;;){const Z=["count="+k];U==-1?0<k?(U=$[0].g,Z.push("ofs="+U)):U=0:Z.push("ofs="+U);let Ve=!0;for(let Mt=0;Mt<k;Mt++){let Ie=$[Mt].g;const Kt=$[Mt].map;if(Ie-=U,0>Ie)U=Math.max(0,$[Mt].g-100),Ve=!1;else try{RL(Kt,Z,"req"+Ie+"_")}catch{R&&R(Kt)}}if(Ve){R=Z.join("&");break e}}}return h=h.i.splice(0,k),E.D=h,R}function hS(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;G||Y(),V||(G(),V=!0),W.add(E,h),h.v=0}}function ay(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=cu(p(h.Fa,h),gS(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,pS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=cu(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sr(10),cf(this),pS(this))};function sy(h){h.A!=null&&(s.clearTimeout(h.A),h.A=null)}function pS(h){h.g=new Li(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=Qn(h.qa);He(E,"RID","rpc"),He(E,"SID",h.K),He(E,"AID",h.T),He(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&He(E,"TO",h.ja),He(E,"TYPE","xmlhttp"),bu(h,E),h.m&&h.o&&iy(E,h.m,h.o),h.L&&(h.g.I=h.L);var k=h.g;h=h.ia,k.L=1,k.v=af(Qn(E)),k.m=null,k.P=!0,B1(k,h)}t.Za=function(){this.C!=null&&(this.C=null,cf(this),ay(this),sr(19))};function ff(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function mS(h,E){var k=null;if(h.g==E){ff(h),sy(h),h.g=null;var R=2}else if(ry(h.h,E))k=E.D,H1(h.h,E),R=1;else return;if(h.G!=0){if(E.o)if(R==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var $=h.B;R=Zd(),ar(R,new $1(R,k)),df(h)}else hS(h);else if($=E.s,$==3||$==0&&0<E.X||!(R==1&&LL(h,E)||R==2&&ay(h)))switch(k&&0<k.length&&(E=h.h,E.i=E.i.concat(k)),$){case 1:Go(h,5);break;case 4:Go(h,10);break;case 3:Go(h,6);break;default:Go(h,2)}}}function gS(h,E){let k=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(k*=2),k*E}function Go(h,E){if(h.j.info("Error code "+E),E==2){var k=p(h.fb,h),R=h.Xa;const $=!R;R=new Wo(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||nf(R,"https"),af(R),$?NL(R.toString(),k):jL(R.toString(),k)}else sr(2);h.G=0,h.l&&h.l.sa(E),yS(h),cS(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),sr(2)):(this.j.info("Failed to ping google.com"),sr(1))};function yS(h){if(h.G=0,h.ka=[],h.l){const E=K1(h.h);(E.length!=0||h.i.length!=0)&&(y(h.ka,E),y(h.ka,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.ra()}}function vS(h,E,k){var R=k instanceof Wo?Qn(k):new Wo(k);if(R.g!="")E&&(R.g=E+"."+R.g),of(R,R.s);else{var $=s.location;R=$.protocol,E=E?E+"."+$.hostname:$.hostname,$=+$.port;var U=new Wo(null);R&&nf(U,R),E&&(U.g=E),$&&of(U,$),k&&(U.l=k),R=U}return k=h.D,E=h.ya,k&&E&&He(R,k,E),He(R,"VER",h.la),bu(h,R),R}function bS(h,E,k){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new ct(new sf({eb:k})):new ct(h.pa),E.Ha(h.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xS(){}t=xS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hf(){}hf.prototype.g=function(h,E){return new Tr(h,E)};function Tr(h,E){Ht.call(this),this.g=new uS(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!v(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!v(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new rs(this)}w(Tr,Ht),Tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){oy(this.g)},Tr.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var k={};k.__data__=h,h=k}else this.u&&(k={},k.__data__=Hg(h),h=k);E.i.push(new wL(E.Ya++,h)),E.G==3&&df(E)},Tr.prototype.N=function(){this.g.l=null,delete this.j,oy(this.g),delete this.g,Tr.aa.N.call(this)};function wS(h){Yg.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const k in E){h=k;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}w(wS,Yg);function _S(){Xg.call(this),this.status=1}w(_S,Xg);function rs(h){this.g=h}w(rs,xS),rs.prototype.ua=function(){ar(this.g,"a")},rs.prototype.ta=function(h){ar(this.g,new wS(h))},rs.prototype.sa=function(h){ar(this.g,new _S)},rs.prototype.ra=function(){ar(this.g,"b")},hf.prototype.createWebChannel=hf.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,iC=function(){return new hf},nC=function(){return Zd()},rC=Uo,N0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ef.NO_ERROR=0,ef.TIMEOUT=8,ef.HTTP_ERROR=6,mh=ef,L1.COMPLETE="complete",tC=L1,C1.EventType=lu,lu.OPEN="a",lu.CLOSE="b",lu.ERROR="c",lu.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,Hu=C1,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,eC=ct}).apply(typeof Rf<"u"?Rf:typeof self<"u"?self:typeof window<"u"?window:{});const AA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Om("@firebase/firestore");function Ou(){return Na.logLevel}function ae(t,...e){if(Na.logLevel<=Ee.DEBUG){const r=e.map(Mw);Na.debug(`Firestore (${Bl}): ${t}`,...r)}}function Ei(t,...e){if(Na.logLevel<=Ee.ERROR){const r=e.map(Mw);Na.error(`Firestore (${Bl}): ${t}`,...r)}}function Js(t,...e){if(Na.logLevel<=Ee.WARN){const r=e.map(Mw);Na.warn(`Firestore (${Bl}): ${t}`,...r)}}function Mw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: `+t;throw Ei(e),new Error(e)}function Re(t,e){t||he()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends En{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(er.UNAUTHENTICATED))}shutdown(){}}class W9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class G9{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Re(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let o=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pi)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Re(typeof n.accessToken=="string"),new oC(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new er(e)}}class q9{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=er.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class H9{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new q9(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Re(this.o===void 0);const n=o=>{o.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,ae("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Re(typeof r.token=="string"),this.R=r.token,new K9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=X9(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%e.length))}return n}}function Oe(t,e){return t<e?-1:t>e?1:0}function Zs(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ne(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ne(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ne(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new be(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new be(0,0))}static max(){return new me(new be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,r,n){r===void 0?r=0:r>e.length&&he(),n===void 0?n=e.length-r:n>e.length-r&&he(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Bc.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Bc?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=e.get(i),a=r.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Qe extends Bc{construct(e,r,n){return new Qe(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ne(q.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Qe(r)}static emptyPath(){return new Qe([])}}const Q9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Bc{construct(e,r,n){return new Ft(e,r,n)}static isValidIdentifier(e){return Q9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new ne(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ne(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(n+=s,i++):(o(),i++)}if(o(),a)throw new ne(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(r)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Qe.fromString(e))}static fromName(e){return new le(Qe.fromString(e).popFirst(5))}static empty(){return new le(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Qe.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Qe(e.slice()))}}function J9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(n===1e9?new be(r+1,0):new be(r,n));return new So(i,le.empty(),e)}function Z9(t){return new So(t.readTime,t.key,-1)}class So{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new So(me.min(),le.empty(),-1)}static max(){return new So(me.max(),le.empty(),-1)}}function e8(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=le.comparator(t.documentKey,e.documentKey),r!==0?r:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==t8)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new K((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof K?r:K.resolve(r)}catch(r){return K.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):K.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):K.reject(r)}static resolve(e){return new K((r,n)=>{r(e)})}static reject(e){return new K((r,n)=>{n(e)})}static waitFor(e){return new K((r,n)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&r()},l=>n(l))}),a=!0,o===i&&r()})}static or(e){let r=K.resolve(!1);for(const n of e)r=r.next(i=>i?K.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,o)=>{n.push(r.call(this,i,o))}),this.waitFor(n)}static mapArray(e,r){return new K((n,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;r(e[u]).next(c=>{a[u]=c,++s,s===o&&n(a)},c=>i(c))}})}static doWhile(e,r){return new K((n,i)=>{const o=()=>{e()===!0?r().next(()=>{o()},i):n()};o()})}}function n8(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Fd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$w.oe=-1;function Dm(t){return t==null}function rp(t){return t===0&&1/t==-1/0}function i8(t){return typeof t=="number"&&Number.isInteger(t)&&!rp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function qa(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function sC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,r){this.comparator=e,this.root=r||Vt.EMPTY}insert(e,r){return new lt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??Vt.RED,this.left=i??Vt.EMPTY,this.right=o??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new Vt(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Vt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,r,n,i,o){return this}insert(e,r,n){return new Vt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new PA(this.data.getIterator())}getIteratorFrom(e){return new PA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ut(this.comparator);return r.data=e,r}}class PA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Cr([])}unionWith(e){let r=new Ut(Ft.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Cr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lC("Invalid base64 string: "+o):o}}(e);return new Wt(r)}static fromUint8Array(e){const r=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Wt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const o8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(t){if(Re(!!t),typeof t=="string"){let e=0;const r=o8.exec(t);if(Re(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ja(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Vw(t){const e=t.mapValue.fields.__previous_value__;return Lw(e)?Vw(e):e}function Uc(t){const e=Eo(t.mapValue.fields.__local_write_time__.timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,r,n,i,o,a,s,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class zc{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new zc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf={mapValue:{}};function Ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lw(t)?4:l8(t)?9007199254740991:s8(t)?10:11:he()}function zn(t,e){if(t===e)return!0;const r=Ca(t);if(r!==Ca(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uc(t).isEqual(Uc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Eo(i.timestampValue),s=Eo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ja(i.bytesValue).isEqual(ja(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ht(i.geoPointValue.latitude)===ht(o.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ht(i.integerValue)===ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=ht(i.doubleValue),s=ht(o.doubleValue);return a===s?rp(a)===rp(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Zs(t.arrayValue.values||[],e.arrayValue.values||[],zn);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(TA(a)!==TA(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!zn(a[l],s[l])))return!1;return!0}(t,e);default:return he()}}function Wc(t,e){return(t.values||[]).find(r=>zn(r,e))!==void 0}function el(t,e){if(t===e)return 0;const r=Ca(t),n=Ca(e);if(r!==n)return Oe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=ht(o.integerValue||o.doubleValue),l=ht(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return IA(t.timestampValue,e.timestampValue);case 4:return IA(Uc(t),Uc(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(o,a){const s=ja(o),l=ja(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Oe(s[u],l[u]);if(c!==0)return c}return Oe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Oe(ht(o.latitude),ht(a.latitude));return s!==0?s:Oe(ht(o.longitude),ht(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return OA(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const d=o.fields||{},p=a.fields||{},m=(s=d.value)===null||s===void 0?void 0:s.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,g=Oe(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=w==null?void 0:w.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:OA(m,w)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Mf.mapValue&&a===Mf.mapValue)return 0;if(o===Mf.mapValue)return 1;if(a===Mf.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const p=Oe(l[d],c[d]);if(p!==0)return p;const m=el(s[l[d]],u[c[d]]);if(m!==0)return m}return Oe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw he()}}function IA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const r=Eo(t),n=Eo(e),i=Oe(r.seconds,n.seconds);return i!==0?i:Oe(r.nanos,n.nanos)}function OA(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const o=el(r[i],n[i]);if(o)return o}return Oe(r.length,n.length)}function tl(t){return j0(t)}function j0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Eo(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ja(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return le.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=j0(o);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of n)o?o=!1:i+=",",i+=`${a}:${j0(r.fields[a])}`;return i+"}"}(t.mapValue):he()}function kA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function C0(t){return!!t&&"integerValue"in t}function Fw(t){return!!t&&"arrayValue"in t}function NA(t){return!!t&&"nullValue"in t}function jA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gh(t){return!!t&&"mapValue"in t}function s8(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qa(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=uc(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=uc(t.arrayValue.values[r]);return e}return Object.assign({},t)}function l8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!gh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(r)}setAll(e){let r=Ft.emptyPath(),n={},i=[];e.forEach((a,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}a?n[s.lastSegment()]=uc(a):i.push(s.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());gh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return zn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){qa(r,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new yr(uc(this.value))}}function uC(t){const e=[];return qa(t.fields,(r,n)=>{const i=new Ft([r]);if(gh(n)){const o=uC(n.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,r,n,i,o,a,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new rr(e,0,me.min(),me.min(),me.min(),yr.empty(),0)}static newFoundDocument(e,r,n,i){return new rr(e,1,r,me.min(),n,i,0)}static newNoDocument(e,r){return new rr(e,2,r,me.min(),me.min(),yr.empty(),0)}static newUnknownDocument(e,r){return new rr(e,3,r,me.min(),me.min(),yr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,r){this.position=e,this.inclusive=r}}function CA(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?n=le.comparator(le.fromName(a.referenceValue),r.key):n=el(a,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function RA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!zn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,r="asc"){this.field=e,this.dir=r}}function u8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{}class xt extends cC{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new d8(e,r,n):r==="array-contains"?new p8(e,n):r==="in"?new m8(e,n):r==="not-in"?new g8(e,n):r==="array-contains-any"?new y8(e,n):new xt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new f8(e,n):new h8(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(el(r,this.value)):r!==null&&Ca(this.value)===Ca(r)&&this.matchesComparison(el(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends cC{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Sn(e,r)}matches(e){return dC(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dC(t){return t.op==="and"}function fC(t){return c8(t)&&dC(t)}function c8(t){for(const e of t.filters)if(e instanceof Sn)return!1;return!0}function R0(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+tl(t.value);if(fC(t))return t.filters.map(e=>R0(e)).join(",");{const e=t.filters.map(r=>R0(r)).join(",");return`${t.op}(${e})`}}function hC(t,e){return t instanceof xt?function(n,i){return i instanceof xt&&n.op===i.op&&n.field.isEqual(i.field)&&zn(n.value,i.value)}(t,e):t instanceof Sn?function(n,i){return i instanceof Sn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,a,s)=>o&&hC(a,i.filters[s]),!0):!1}(t,e):void he()}function pC(t){return t instanceof xt?function(r){return`${r.field.canonicalString()} ${r.op} ${tl(r.value)}`}(t):t instanceof Sn?function(r){return r.op.toString()+" {"+r.getFilters().map(pC).join(" ,")+"}"}(t):"Filter"}class d8 extends xt{constructor(e,r,n){super(e,r,n),this.key=le.fromName(n.referenceValue)}matches(e){const r=le.comparator(e.key,this.key);return this.matchesComparison(r)}}class f8 extends xt{constructor(e,r){super(e,"in",r),this.keys=mC("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class h8 extends xt{constructor(e,r){super(e,"not-in",r),this.keys=mC("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function mC(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>le.fromName(n.referenceValue))}class p8 extends xt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Fw(r)&&Wc(r.arrayValue,this.value)}}class m8 extends xt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Wc(this.value.arrayValue,r)}}class g8 extends xt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Wc(this.value.arrayValue,r)}}class y8 extends xt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Fw(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Wc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,r=null,n=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function DA(t,e=null,r=[],n=[],i=null,o=null,a=null){return new v8(t,e,r,n,i,o,a)}function Bw(t){const e=ge(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>R0(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Dm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>tl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>tl(n)).join(",")),e.ue=r}return e.ue}function Uw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!u8(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!hC(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RA(t.startAt,e.startAt)&&RA(t.endAt,e.endAt)}function D0(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,r=null,n=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function b8(t,e,r,n,i,o,a,s){return new Ul(t,e,r,n,i,o,a,s)}function zw(t){return new Ul(t)}function MA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gC(t){return t.collectionGroup!==null}function cc(t){const e=ge(t);if(e.ce===null){e.ce=[];const r=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Ut(Ft.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Gc(o,n))}),r.has(Ft.keyField().canonicalString())||e.ce.push(new Gc(Ft.keyField(),n))}return e.ce}function $n(t){const e=ge(t);return e.le||(e.le=x8(e,cc(t))),e.le}function x8(t,e){if(t.limitType==="F")return DA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Gc(i.field,o)});const r=t.endAt?new np(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new np(t.startAt.position,t.startAt.inclusive):null;return DA(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function M0(t,e){const r=t.filters.concat([e]);return new Ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function ip(t,e,r){return new Ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Mm(t,e){return Uw($n(t),$n(e))&&t.limitType===e.limitType}function yC(t){return`${Bw($n(t))}|lt:${t.limitType}`}function ls(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>pC(i)).join(", ")}]`),Dm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>tl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>tl(i)).join(",")),`Target(${n})`}($n(t))}; limitType=${t.limitType})`}function $m(t,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):le.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(const o of cc(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,s,l){const u=CA(a,s,l);return a.inclusive?u<=0:u<0}(n.startAt,cc(n),i)||n.endAt&&!function(a,s,l){const u=CA(a,s,l);return a.inclusive?u>=0:u>0}(n.endAt,cc(n),i))}(t,e)}function w8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vC(t){return(e,r)=>{let n=!1;for(const i of cc(t)){const o=_8(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function _8(t,e,r){const n=t.field.isKeyField()?le.comparator(e.key,r.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?el(l,u):he()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,(r,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return sC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=new lt(le.comparator);function Ai(){return S8}const bC=new lt(le.comparator);function Ku(...t){let e=bC;for(const r of t)e=e.insert(r.key,r);return e}function xC(t){let e=bC;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ua(){return dc()}function wC(){return dc()}function dc(){return new zl(t=>t.toString(),(t,e)=>t.isEqual(e))}const E8=new lt(le.comparator),A8=new Ut(le.comparator);function _e(...t){let e=A8;for(const r of t)e=e.add(r);return e}const T8=new Ut(Oe);function P8(){return T8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rp(e)?"-0":e}}function _C(t){return{integerValue:""+t}}function I8(t,e){return i8(e)?_C(e):Ww(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this._=void 0}}function O8(t,e,r){return t instanceof op?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Lw(o)&&(o=Vw(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(r,e):t instanceof qc?EC(t,e):t instanceof Hc?AC(t,e):function(i,o){const a=SC(i,o),s=$A(a)+$A(i.Pe);return C0(a)&&C0(i.Pe)?_C(s):Ww(i.serializer,s)}(t,e)}function k8(t,e,r){return t instanceof qc?EC(t,e):t instanceof Hc?AC(t,e):r}function SC(t,e){return t instanceof ap?function(n){return C0(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class op extends Lm{}class qc extends Lm{constructor(e){super(),this.elements=e}}function EC(t,e){const r=TC(e);for(const n of t.elements)r.some(i=>zn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Hc extends Lm{constructor(e){super(),this.elements=e}}function AC(t,e){let r=TC(e);for(const n of t.elements)r=r.filter(i=>!zn(i,n));return{arrayValue:{values:r}}}class ap extends Lm{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function $A(t){return ht(t.integerValue||t.doubleValue)}function TC(t){return Fw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function N8(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof qc&&i instanceof qc||n instanceof Hc&&i instanceof Hc?Zs(n.elements,i.elements,zn):n instanceof ap&&i instanceof ap?zn(n.Pe,i.Pe):n instanceof op&&i instanceof op}(t.transform,e.transform)}class j8{constructor(e,r){this.version=e,this.transformResults=r}}class vn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vm{}function PC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gw(t.key,vn.none()):new Bd(t.key,t.data,vn.none());{const r=t.data,n=yr.empty();let i=new Ut(Ft.comparator);for(let o of e.fields)if(!i.has(o)){let a=r.field(o);a===null&&o.length>1&&(o=o.popLast(),a=r.field(o)),a===null?n.delete(o):n.set(o,a),i=i.add(o)}return new Ro(t.key,n,new Cr(i.toArray()),vn.none())}}function C8(t,e,r){t instanceof Bd?function(i,o,a){const s=i.value.clone(),l=VA(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,r):t instanceof Ro?function(i,o,a){if(!yh(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=VA(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(IC(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function fc(t,e,r,n){return t instanceof Bd?function(o,a,s,l){if(!yh(o.precondition,a))return s;const u=o.value.clone(),c=FA(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Ro?function(o,a,s,l){if(!yh(o.precondition,a))return s;const u=FA(o.fieldTransforms,l,a),c=a.data;return c.setAll(IC(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(o,a,s){return yh(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,r)}function R8(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=SC(n.transform,i||null);o!=null&&(r===null&&(r=yr.empty()),r.set(n.field,o))}return r||null}function LA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Zs(n,i,(o,a)=>N8(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bd extends Vm{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ro extends Vm{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function IC(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function VA(t,e,r){const n=new Map;Re(t.length===r.length);for(let i=0;i<r.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);n.set(o.field,k8(a,s,r[i]))}return n}function FA(t,e,r){const n=new Map;for(const i of t){const o=i.transform,a=r.data.field(i.field);n.set(i.field,O8(o,a,e))}return n}class Gw extends Vm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D8 extends Vm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&C8(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=fc(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=fc(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=wC();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=r.has(i.key)?null:s;const l=PC(a,s);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(me.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),_e())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,(r,n)=>LA(r,n))&&Zs(this.baseMutations,e.baseMutations,(r,n)=>LA(r,n))}}class qw{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Re(e.mutations.length===n.length);let i=function(){return E8}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new qw(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ae;function V8(t){switch(t){default:return he();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function OC(t){if(t===void 0)return Ei("GRPC error has no .code"),q.UNKNOWN;switch(t){case yt.OK:return q.OK;case yt.CANCELLED:return q.CANCELLED;case yt.UNKNOWN:return q.UNKNOWN;case yt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case yt.INTERNAL:return q.INTERNAL;case yt.UNAVAILABLE:return q.UNAVAILABLE;case yt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case yt.NOT_FOUND:return q.NOT_FOUND;case yt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case yt.ABORTED:return q.ABORTED;case yt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case yt.DATA_LOSS:return q.DATA_LOSS;default:return he()}}(Ae=yt||(yt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=new ya([4294967295,4294967295],0);function BA(t){const e=F8().encode(t),r=new Zj;return r.update(e),new Uint8Array(r.digest())}function UA(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ya([r,n],0),new ya([i,o],0)]}class Hw{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Yu(`Invalid padding: ${r}`);if(n<0)throw new Yu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=ya.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(ya.fromNumber(n)));return i.compare(B8)===1&&(i=new ya([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=BA(e),[n,i]=UA(r);for(let o=0;o<this.hashCount;o++){const a=this.Ee(n,i,o);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Hw(o,i,r);return n.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const r=BA(e),[n,i]=UA(r);for(let o=0;o<this.hashCount;o++){const a=this.Ee(n,i,o);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Fm(me.min(),i,new lt(Oe),Ai(),_e())}}class Ud{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ud(n,r,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class kC{constructor(e,r){this.targetId=e,this.me=r}}class NC{constructor(e,r,n=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class zA{constructor(){this.fe=0,this.ge=GA(),this.pe=Wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),r=_e(),n=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:he()}}),new Ud(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=GA()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class U8{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ai(),this.qe=WA(),this.Qe=new lt(Oe)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:he()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const o=i.target;if(D0(o))if(n===0){const a=new le(o.path);this.Ue(r,a,rr.newNoDocument(a,me.min()))}else Re(n===1);else{const a=this.Ye(r);if(a!==n){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let a,s;try{a=ja(n).toUint8Array()}catch(l){if(l instanceof lC)return Js("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Hw(a,i,o)}catch(l){return Js(l instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(r,o,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&D0(s.target)){const l=new le(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,rr.newNoDocument(l,e))}o.be&&(r.set(a,o.ve()),o.Ce())}});let n=_e();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Fm(e,r,this.Qe,this.ke,n);return this.ke=Ai(),this.qe=WA(),this.Qe=new lt(Oe),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new zA,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ut(Oe),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ae("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zA),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function WA(){return new lt(le.comparator)}function GA(){return new lt(le.comparator)}const z8={asc:"ASCENDING",desc:"DESCENDING"},W8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G8={and:"AND",or:"OR"};class q8{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function $0(t,e){return t.useProto3Json||Dm(e)?e:{value:e}}function sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function H8(t,e){return sp(t,e.toTimestamp())}function Ln(t){return Re(!!t),me.fromTimestamp(function(r){const n=Eo(r);return new be(n.seconds,n.nanos)}(t))}function Kw(t,e){return L0(t,e).canonicalString()}function L0(t,e){const r=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function CC(t){const e=Qe.fromString(t);return Re(LC(e)),e}function V0(t,e){return Kw(t.databaseId,e.path)}function qy(t,e){const r=CC(e);if(r.get(1)!==t.databaseId.projectId)throw new ne(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ne(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new le(DC(r))}function RC(t,e){return Kw(t.databaseId,e)}function K8(t){const e=CC(t);return e.length===4?Qe.emptyPath():DC(e)}function F0(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DC(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qA(t,e,r){return{name:V0(t,e),fields:r.value.mapValue.fields}}function Y8(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Re(c===void 0||typeof c=="string"),Wt.fromBase64String(c||"")):(Re(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Wt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?q.UNKNOWN:OC(u.code);return new ne(c,u.message||"")}(a);r=new NC(n,i,o,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=qy(t,n.document.name),o=Ln(n.document.updateTime),a=n.document.createTime?Ln(n.document.createTime):me.min(),s=new yr({mapValue:{fields:n.document.fields}}),l=rr.newFoundDocument(i,o,a,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new vh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=qy(t,n.document),o=n.readTime?Ln(n.readTime):me.min(),a=rr.newNoDocument(i,o),s=n.removedTargetIds||[];r=new vh([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=qy(t,n.document),o=n.removedTargetIds||[];r=new vh([],o,i,null)}else{if(!("filter"in e))return he();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,a=new L8(i,o),s=n.targetId;r=new kC(s,a)}}return r}function X8(t,e){let r;if(e instanceof Bd)r={update:qA(t,e.key,e.value)};else if(e instanceof Gw)r={delete:V0(t,e.key)};else if(e instanceof Ro)r={update:qA(t,e.key,e.data),updateMask:oz(e.fieldMask)};else{if(!(e instanceof D8))return he();r={verify:V0(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(o,a){const s=a.transform;if(s instanceof op)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof qc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Hc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ap)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw he()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:H8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:he()}(t,e.precondition)),r}function Q8(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(r=>function(i,o){let a=i.updateTime?Ln(i.updateTime):Ln(o);return a.isEqual(me.min())&&(a=Ln(o)),new j8(a,i.transformResults||[])}(r,e))):[]}function J8(t,e){return{documents:[RC(t,e.path)]}}function Z8(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=RC(t,i);const o=function(u){if(u.length!==0)return $C(Sn.create(u,"and"))}(e.filters);o&&(r.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:us(p.field),direction:rz(p.dir)}}(c))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const s=$0(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function ez(t){let e=K8(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Re(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];r.where&&(o=function(d){const p=MC(d);return p instanceof Sn&&fC(p)?p.getFilters():[p]}(r.where));let a=[];r.orderBy&&(a=function(d){return d.map(p=>function(w){return new Gc(cs(w.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(r.orderBy));let s=null;r.limit&&(s=function(d){let p;return p=typeof d=="object"?d.value:d,Dm(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new np(m,p)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const p=!d.before,m=d.values||[];return new np(m,p)}(r.endAt)),b8(e,i,a,o,s,"F",l,u)}function tz(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function MC(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=cs(r.unaryFilter.field);return xt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=cs(r.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cs(r.unaryFilter.field);return xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cs(r.unaryFilter.field);return xt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(r){return xt.create(cs(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Sn.create(r.compositeFilter.filters.map(n=>MC(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(r.compositeFilter.op))}(t):he()}function rz(t){return z8[t]}function nz(t){return W8[t]}function iz(t){return G8[t]}function us(t){return{fieldPath:t.canonicalString()}}function cs(t){return Ft.fromServerFormat(t.fieldPath)}function $C(t){return t instanceof xt?function(r){if(r.op==="=="){if(jA(r.value))return{unaryFilter:{field:us(r.field),op:"IS_NAN"}};if(NA(r.value))return{unaryFilter:{field:us(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(jA(r.value))return{unaryFilter:{field:us(r.field),op:"IS_NOT_NAN"}};if(NA(r.value))return{unaryFilter:{field:us(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(r.field),op:nz(r.op),value:r.value}}}(t):t instanceof Sn?function(r){const n=r.getFilters().map(i=>$C(i));return n.length===1?n[0]:{compositeFilter:{op:iz(r.op),filters:n}}}(t):he()}function oz(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function LC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,r,n,i,o=me.min(),a=me.min(),s=Wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.ct=e}}function sz(t){const e=ez({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(){this.un=new uz}addToCollectionParentIndex(e,r){return this.un.add(r),K.resolve()}getCollectionParents(e,r){return K.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return K.resolve()}deleteFieldIndex(e,r){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,r){return K.resolve()}getDocumentsMatchingTarget(e,r){return K.resolve(null)}getIndexType(e,r){return K.resolve(0)}getFieldIndexes(e,r){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,r){return K.resolve(So.min())}getMinOffsetFromCollectionGroup(e,r){return K.resolve(So.min())}updateCollectionGroup(e,r,n){return K.resolve()}updateIndexEntries(e,r){return K.resolve()}}class uz{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Ut(Qe.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ut(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new rl(0)}static kn(){return new rl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.changes=new zl(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?K.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&fc(n.mutation,i,Cr.empty(),be.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,_e()).next(()=>n))}getLocalViewOfDocuments(e,r,n=_e()){const i=ua();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(o=>{let a=Ku();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=ua();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,_e()))}populateOverlays(e,r,n){const i=[];return n.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{r.set(a,s)})})}computeViews(e,r,n,i){let o=Ai();const a=dc(),s=function(){return dc()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ro)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),fc(c.mutation,u,c.mutation.getFieldMask(),be.now())):a.set(u.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),r.forEach((u,c)=>{var d;return s.set(u,new dz(c,(d=a.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,r){const n=dc();let i=new lt((a,s)=>a-s),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Cr.empty();c=s.applyToLocalView(u,c),n.set(l,c);const d=(i.get(s.batchId)||_e()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=wC();c.forEach(p=>{if(!o.has(p)){const m=PC(r.get(p),n.get(p));m!==null&&d.set(p,m),o=o.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,d))}return K.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return le.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):gC(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):K.resolve(ua());let s=-1,l=o;return a.next(u=>K.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),o.get(c)?K.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,_e())).next(c=>({batchId:s,changes:xC(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new le(r)).next(n=>{let i=Ku();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let a=Ku();return this.indexManager.getCollectionParents(e,o).next(s=>K.forEach(s,l=>{const u=function(d,p){return new Ul(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((d,p)=>{a=a.insert(d,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,rr.newInvalidDocument(c)))});let s=Ku();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&fc(c.mutation,u,Cr.empty(),be.now()),$m(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return K.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ln(i.createTime)}}(r)),K.resolve()}getNamedQuery(e,r){return K.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:sz(i.bundledQuery),readTime:Ln(i.readTime)}}(r)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(){this.overlays=new lt(le.comparator),this.Ir=new Map}getOverlay(e,r){return K.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ua();return K.forEach(r,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,o)=>{this.ht(e,r,o)}),K.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(n)),K.resolve()}getOverlaysForCollection(e,r,n){const i=ua(),o=r.length+1,a=new le(r.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>n&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new lt((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=o.get(u.largestBatchId);c===null&&(c=ua(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=ua(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return K.resolve(s)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new $8(r,n));let o=this.Ir.get(r);o===void 0&&(o=_e(),this.Ir.set(r,o)),this.Ir.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.Tr=new Ut(Ot.Er),this.dr=new Ut(Ot.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Ot(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Ot(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new le(new Qe([])),n=new Ot(r,e),i=new Ot(r,e+1),o=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new le(new Qe([])),n=new Ot(r,e),i=new Ot(r,e+1);let o=_e();return this.dr.forEachInRange([n,i],a=>{o=o.add(a.key)}),o}containsKey(e){const r=new Ot(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ot{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return le.comparator(e.key,r.key)||Oe(e.wr,r.wr)}static Ar(e,r){return Oe(e.wr,r.wr)||le.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ut(Ot.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new M8(o,r,n,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Ot(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,r){return K.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),o=i<0?0:i;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ot(r,0),i=new Ot(r,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([n,i],a=>{const s=this.Dr(a.wr);o.push(s)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ut(Oe);return r.forEach(i=>{const o=new Ot(i,0),a=new Ot(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{n=n.add(s.wr)})}),K.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;le.isDocumentKey(o)||(o=o.child(""));const a=new Ot(new le(o),0);let s=new Ut(Oe);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),K.resolve(this.Cr(s))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Re(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return K.forEach(r.mutations,i=>{const o=new Ot(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Ot(r,0),i=this.br.firstAfterOrEqual(n);return K.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.Mr=e,this.docs=function(){return new lt(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return K.resolve(n?n.document.mutableCopy():rr.newInvalidDocument(r))}getEntries(e,r){let n=Ai();return r.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():rr.newInvalidDocument(i))}),K.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=Ai();const a=r.path,s=new le(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||e8(Z9(c),n)<=0||(i.has(c.key)||$m(r,c))&&(o=o.insert(c.key,c.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,r,n,i){he()}Or(e,r){return K.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new vz(this)}getSize(e){return K.resolve(this.size)}}class vz extends cz{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),K.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.persistence=e,this.Nr=new zl(r=>Bw(r),Uw),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Yw,this.targetCount=0,this.kr=rl.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),K.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new rl(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,K.resolve()}updateTargetData(e,r){return this.Kn(r),K.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),K.waitFor(o).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return K.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),K.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),K.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return K.resolve(n)}containsKey(e,r){return K.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,r){this.qr={},this.overlays={},this.Qr=new $w(0),this.Kr=!1,this.Kr=!0,this.$r=new mz,this.referenceDelegate=e(this),this.Ur=new bz(this),this.indexManager=new lz,this.remoteDocumentCache=function(i){return new yz(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new az(r),this.Gr=new hz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new pz,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new gz(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ae("MemoryPersistence","Starting transaction:",e);const i=new wz(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,r){return K.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class wz extends r8{constructor(e){super(),this.currentSequenceNumber=e}}class Xw{constructor(e){this.persistence=e,this.Jr=new Yw,this.Yr=null}static Zr(e){return new Xw(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),K.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),K.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),K.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,n=>{const i=le.fromPath(n);return this.ei(e,i).next(o=>{o||r.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return K.or([()=>K.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=_e(),i=_e();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Qw(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return B6()?8:n8(or())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.Yi(e,r).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,r,i,n).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new _z;return this.Xi(e,r,a).next(s=>{if(o.result=s,this.zi)return this.es(e,r,a,s.size)})}).next(()=>o.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Ou()<=Ee.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",ls(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(Ou()<=Ee.DEBUG&&ae("QueryEngine","Query:",ls(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Ou()<=Ee.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",ls(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(r))):K.resolve())}Yi(e,r){if(MA(r))return K.resolve(null);let n=$n(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=ip(r,null,"F"),n=$n(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const a=_e(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(r,s);return this.ns(r,u,a,l.readTime)?this.Yi(e,ip(r,null,"F")):this.rs(e,u,r,l)}))})))}Zi(e,r,n,i){return MA(r)||i.isEqual(me.min())?K.resolve(null):this.Ji.getDocuments(e,n).next(o=>{const a=this.ts(r,o);return this.ns(r,a,n,i)?K.resolve(null):(Ou()<=Ee.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ls(r)),this.rs(e,a,r,J9(i,-1)).next(s=>s))})}ts(e,r){let n=new Ut(vC(e));return r.forEach((i,o)=>{$m(e,o)&&(n=n.add(o))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,r,n){return Ou()<=Ee.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",ls(r)),this.Ji.getDocumentsMatchingQuery(e,r,So.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(o=>(r.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new lt(Oe),this._s=new zl(o=>Bw(o),Uw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fz(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Az(t,e,r,n){return new Ez(t,e,r,n)}async function VC(t,e){const r=ge(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(o=>{const a=[],s=[];let l=_e();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function Tz(t,e){const r=ge(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,p=d.keys();let m=K.resolve();return p.forEach(w=>{m=m.next(()=>c.getEntry(l,w)).next(g=>{const y=u.docVersions.get(w);Re(y!==null),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,e,o).next(()=>o.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=_e();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function FC(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Pz(t,e){const r=ge(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];e.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;s.push(r.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(o,c.addedDocuments,d)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Wt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(d,m),function(g,y,x){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,c)&&s.push(r.Ur.updateTargetData(o,m))});let l=Ai(),u=_e();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(Iz(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(me.min())){const c=r.Ur.getLastRemoteSnapshotVersion(o).next(d=>r.Ur.setTargetsMetadata(o,o.currentSequenceNumber,n));s.push(c)}return K.waitFor(s).next(()=>a.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(r.os=i,o))}function Iz(t,e,r){let n=_e(),i=_e();return r.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let a=Ai();return r.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):ae("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function Oz(t,e){const r=ge(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function kz(t,e){const r=ge(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(o=>o?(i=o,K.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new no(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function B0(t,e,r){const n=ge(t),i=n.os.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Fd(a))throw a;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function HA(t,e,r){const n=ge(t);let i=me.min(),o=_e();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const d=ge(l),p=d._s.get(c);return p!==void 0?K.resolve(d.os.get(p)):d.Ur.getTargetData(u,c)}(n,a,$n(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:me.min(),r?o:_e())).next(s=>(Nz(n,w8(e),s),{documents:s,Ts:o})))}function Nz(t,e,r){let n=t.us.get(e)||me.min();r.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.us.set(e,n)}class KA{constructor(){this.activeTargetIds=P8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jz{constructor(){this.so=new KA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new KA,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f=null;function Hy(){return $f===null?$f=function(){return 268435456+Math.round(2147483648*Math.random())}():$f++,"0x"+$f.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class Mz extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(r,n,i,o,a){const s=Hy(),l=this.xo(r,n.toUriEncodedString());ae("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(r,l,u,i).then(c=>(ae("RestConnection",`Received RPC '${r}' ${s}: `,c),c),c=>{throw Js("RestConnection",`RPC '${r}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,o,a,s){return this.Mo(r,n,i,o,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bl}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,a)=>r[a]=o),i&&i.headers.forEach((o,a)=>r[a]=o)}xo(r,n){const i=Rz[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const o=Hy();return new Promise((a,s)=>{const l=new eC;l.setWithCredentials(!0),l.listenOnce(tC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case mh.NO_ERROR:const c=l.getResponseJson();ae(Jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case mh.TIMEOUT:ae(Jt,`RPC '${e}' ${o} timed out`),s(new ne(q.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const d=l.getStatus();if(ae(Jt,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const w=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(x)>=0?x:q.UNKNOWN}(m.status);s(new ne(w,m.message))}else s(new ne(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ne(q.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ae(Jt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ae(Jt,`RPC '${e}' ${o} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=Hy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=iC(),s=nC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=o.join("");ae(Jt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=a.createWebChannel(c,l);let p=!1,m=!1;const w=new Dz({Io:y=>{m?ae(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(p||(ae(Jt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),ae(Jt,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),g=(y,x,v)=>{y.listen(x,_=>{try{v(_)}catch(I){setTimeout(()=>{throw I},0)}})};return g(d,Hu.EventType.OPEN,()=>{m||(ae(Jt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),g(d,Hu.EventType.CLOSE,()=>{m||(m=!0,ae(Jt,`RPC '${e}' stream ${i} transport closed`),w.So())}),g(d,Hu.EventType.ERROR,y=>{m||(m=!0,Js(Jt,`RPC '${e}' stream ${i} transport errored:`,y),w.So(new ne(q.UNAVAILABLE,"The operation could not be completed")))}),g(d,Hu.EventType.MESSAGE,y=>{var x;if(!m){const v=y.data[0];Re(!!v);const _=v,I=_.error||((x=_[0])===null||x===void 0?void 0:x.error);if(I){ae(Jt,`RPC '${e}' stream ${i} received error:`,I);const b=I.status;let T=function(P){const N=yt[P];if(N!==void 0)return OC(N)}(b),A=I.message;T===void 0&&(T=q.INTERNAL,A="Unknown error status: "+b+" with message "+I.message),m=!0,w.So(new ne(T,A)),d.close()}else ae(Jt,`RPC '${e}' stream ${i} received:`,v),w.bo(v)}}),g(s,rC.STAT_EVENT,y=>{y.stat===N0.PROXY?ae(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===N0.NOPROXY&&ae(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Ky(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t){return new q8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,r,n=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,r,n,i,o,a,s,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new BC(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===q.RESOURCE_EXHAUSTED?(Ei(r.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new ne(q.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $z extends UC{constructor(e,r,n,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=o}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Y8(this.serializer,e),n=function(o){if(!("targetChange"in o))return me.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?me.min():a.readTime?Ln(a.readTime):me.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=F0(this.serializer),r.addTarget=function(o,a){let s;const l=a.target;if(s=D0(l)?{documents:J8(o,l)}:{query:Z8(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=jC(o,a.resumeToken);const u=$0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(me.min())>0){s.readTime=sp(o,a.snapshotVersion.toTimestamp());const u=$0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const n=tz(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=F0(this.serializer),r.removeTarget=e,this.a_(r)}}class Lz extends UC{constructor(e,r,n,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=Q8(e.writeResults,e.commitTime),n=Ln(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=F0(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>X8(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ne(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,L0(r,n),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(q.UNKNOWN,o.toString())})}Lo(e,r,n,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,L0(r,n),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ne(q.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Fz{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ei(r),this.D_=!1):ae("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{n.enqueueAndForget(async()=>{Ha(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ge(l);u.L_.add(4),await zd(u),u.q_.set("Unknown"),u.L_.delete(4),await Um(u)}(this))})}),this.q_=new Fz(n,i)}}async function Um(t){if(Ha(t))for(const e of t.B_)await e(!0)}async function zd(t){for(const e of t.B_)await e(!1)}function zC(t,e){const r=ge(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),t_(r)?e_(r):Wl(r).r_()&&Zw(r,e))}function Jw(t,e){const r=ge(t),n=Wl(r);r.N_.delete(e),n.r_()&&WC(r,e),r.N_.size===0&&(n.r_()?n.o_():Ha(r)&&r.q_.set("Unknown"))}function Zw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Wl(t).A_(e)}function WC(t,e){t.Q_.xe(e),Wl(t).R_(e)}function e_(t){t.Q_=new U8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Wl(t).start(),t.q_.v_()}function t_(t){return Ha(t)&&!Wl(t).n_()&&t.N_.size>0}function Ha(t){return ge(t).L_.size===0}function GC(t){t.Q_=void 0}async function Uz(t){t.q_.set("Online")}async function zz(t){t.N_.forEach((e,r)=>{Zw(t,e)})}async function Wz(t,e){GC(t),t_(t)?(t.q_.M_(e),e_(t)):t.q_.set("Unknown")}async function Gz(t,e,r){if(t.q_.set("Online"),e instanceof NC&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(n){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await lp(t,n)}else if(e instanceof vh?t.Q_.Ke(e):e instanceof kC?t.Q_.He(e):t.Q_.We(e),!r.isEqual(me.min()))try{const n=await FC(t.localStore);r.compareTo(n)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Wt.EMPTY_BYTE_STRING,c.snapshotVersion)),WC(o,l);const d=new no(c.target,l,u,c.sequenceNumber);Zw(o,d)}),o.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){ae("RemoteStore","Failed to raise snapshot:",n),await lp(t,n)}}async function lp(t,e,r){if(!Fd(e))throw e;t.L_.add(1),await zd(t),t.q_.set("Offline"),r||(r=()=>FC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Um(t)})}function qC(t,e){return e().catch(r=>lp(t,r,e))}async function zm(t){const e=ge(t),r=Ao(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qz(e);)try{const i=await Oz(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,Hz(e,i)}catch(i){await lp(e,i)}HC(e)&&KC(e)}function qz(t){return Ha(t)&&t.O_.length<10}function Hz(t,e){t.O_.push(e);const r=Ao(t);r.r_()&&r.V_&&r.m_(e.mutations)}function HC(t){return Ha(t)&&!Ao(t).n_()&&t.O_.length>0}function KC(t){Ao(t).start()}async function Kz(t){Ao(t).p_()}async function Yz(t){const e=Ao(t);for(const r of t.O_)e.m_(r.mutations)}async function Xz(t,e,r){const n=t.O_.shift(),i=qw.from(n,e,r);await qC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zm(t)}async function Qz(t,e){e&&Ao(t).V_&&await async function(n,i){if(function(a){return V8(a)&&a!==q.ABORTED}(i.code)){const o=n.O_.shift();Ao(n).s_(),await qC(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await zm(n)}}(t,e),HC(t)&&KC(t)}async function XA(t,e){const r=ge(t);r.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const n=Ha(r);r.L_.add(3),await zd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Um(r)}async function Jz(t,e){const r=ge(t);e?(r.L_.delete(2),await Um(r)):e||(r.L_.add(2),await zd(r),r.q_.set("Unknown"))}function Wl(t){return t.K_||(t.K_=function(r,n,i){const o=ge(r);return o.w_(),new $z(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Uz.bind(null,t),Ro:zz.bind(null,t),mo:Wz.bind(null,t),d_:Gz.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),t_(t)?e_(t):t.q_.set("Unknown")):(await t.K_.stop(),GC(t))})),t.K_}function Ao(t){return t.U_||(t.U_=function(r,n,i){const o=ge(r);return o.w_(),new Lz(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Kz.bind(null,t),mo:Qz.bind(null,t),f_:Yz.bind(null,t),g_:Xz.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await zm(t)):(await t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const a=Date.now()+n,s=new r_(e,r,a,i,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n_(t,e){if(Ei("AsyncQueue",`${e}: ${t}`),Fd(t))return new ne(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.comparator=e?(r,n)=>e(r,n)||le.comparator(r.key,n.key):(r,n)=>le.comparator(r.key,n.key),this.keyedMap=Ku(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new Ls(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ls)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ls;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.W_=new lt(le.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class nl{constructor(e,r,n,i,o,a,s,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,o){const a=[];return r.forEach(s=>{a.push({type:0,doc:s})}),new nl(e,r,Ls.emptySet(r),a,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class eW{constructor(){this.queries=JA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=ge(r),o=i.queries;i.queries=JA(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(n)})})(this,new ne(q.ABORTED,"Firestore shutting down"))}}function JA(){return new zl(t=>yC(t),Mm)}async function YC(t,e){const r=ge(t);let n=3;const i=e.query;let o=r.queries.get(i);o?!o.H_()&&e.J_()&&(n=2):(o=new Zz,n=e.J_()?0:1);try{switch(n){case 0:o.z_=await r.onListen(i,!0);break;case 1:o.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const s=n_(a,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,o),o.j_.push(e),e.Z_(r.onlineState),o.z_&&e.X_(o.z_)&&i_(r)}async function XC(t,e){const r=ge(t),n=e.query;let i=3;const o=r.queries.get(n);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function tW(t,e){const r=ge(t);let n=!1;for(const i of e){const o=i.query,a=r.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(n=!0);a.z_=i}}n&&i_(r)}function rW(t,e,r){const n=ge(t),i=n.queries.get(e);if(i)for(const o of i.j_)o.onError(r);n.queries.delete(e)}function i_(t){t.Y_.forEach(e=>{e.next()})}var U0,ZA;(ZA=U0||(U0={})).ea="default",ZA.Cache="cache";class QC{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new nl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==U0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.key=e}}class ZC{constructor(e){this.key=e}}class nW{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=vC(e),this.Ra=new Ls(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new QA,i=r?r.Ra:this.Ra;let o=r?r.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const p=i.get(c),m=$m(this.query,d)?d:null,w=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;p&&m?p.data.isEqual(m.data)?w!==g&&(n.track({type:3,doc:m}),y=!0):this.ga(p,m)||(n.track({type:2,doc:m}),y=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(s=!0)):!p&&m?(n.track({type:0,doc:m}),y=!0):p&&!m&&(n.track({type:1,doc:p}),y=!0,(l||u)&&(s=!0)),y&&(m?(a=a.add(m),o=g?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),n.track({type:1,doc:c})}return{Ra:a,fa:n,ns:s,mutatedKeys:o}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,d)=>function(m,w){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return g(m)-g(w)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new nl(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new QA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_e(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new ZC(n))}),this.da.forEach(n=>{e.has(n)||r.push(new JC(n))}),r}ba(e){this.Ta=e.Ts,this.da=_e();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return nl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class iW{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class oW{constructor(e){this.key=e,this.va=!1}}class aW{constructor(e,r,n,i,o,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new zl(s=>yC(s),Mm),this.Ma=new Map,this.xa=new Set,this.Oa=new lt(le.comparator),this.Na=new Map,this.La=new Yw,this.Ba={},this.ka=new Map,this.qa=rl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function sW(t,e,r=!0){const n=oR(t);let i;const o=n.Fa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await eR(n,e,r,!0),i}async function lW(t,e){const r=oR(t);await eR(r,e,!0,!1)}async function eR(t,e,r,n){const i=await kz(t.localStore,$n(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,r);let s;return n&&(s=await uW(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&zC(t.remoteStore,i),s}async function uW(t,e,r,n,i){t.Ka=(d,p,m)=>async function(g,y,x,v){let _=y.view.ma(x);_.ns&&(_=await HA(g.localStore,y.query,!1).then(({documents:A})=>y.view.ma(A,_)));const I=v&&v.targetChanges.get(y.targetId),b=v&&v.targetMismatches.get(y.targetId)!=null,T=y.view.applyChanges(_,g.isPrimaryClient,I,b);return tT(g,y.targetId,T.wa),T.snapshot}(t,d,p,m);const o=await HA(t.localStore,e,!0),a=new nW(e,o.Ts),s=a.ma(o.documents),l=Ud.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);tT(t,r,u.wa);const c=new iW(e,r,a);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function cW(t,e,r){const n=ge(t),i=n.Fa.get(e),o=n.Ma.get(i.targetId);if(o.length>1)return n.Ma.set(i.targetId,o.filter(a=>!Mm(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await B0(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Jw(n.remoteStore,i.targetId),z0(n,i.targetId)}).catch(Vd)):(z0(n,i.targetId),await B0(n.localStore,i.targetId,!0))}async function dW(t,e){const r=ge(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Jw(r.remoteStore,n.targetId))}async function fW(t,e,r){const n=bW(t);try{const i=await function(a,s){const l=ge(a),u=be.now(),c=s.reduce((m,w)=>m.add(w.key),_e());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Ai(),g=_e();return l.cs.getEntries(m,c).next(y=>{w=y,w.forEach((x,v)=>{v.isValidDocument()||(g=g.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(y=>{d=y;const x=[];for(const v of s){const _=R8(v,d.get(v.key).overlayedDocument);_!=null&&x.push(new Ro(v.key,_,uC(_.value.mapValue),vn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,s)}).next(y=>{p=y;const x=y.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(m,y.batchId,x)})}).then(()=>({batchId:p.batchId,changes:xC(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new lt(Oe)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(n,i.batchId,r),await Wd(n,i.changes),await zm(n.remoteStore)}catch(i){const o=n_(i,"Failed to persist write");r.reject(o)}}async function tR(t,e){const r=ge(t);try{const n=await Pz(r.localStore,e);e.targetChanges.forEach((i,o)=>{const a=r.Na.get(o);a&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Re(a.va):i.removedDocuments.size>0&&(Re(a.va),a.va=!1))}),await Wd(r,n,e)}catch(n){await Vd(n)}}function eT(t,e,r){const n=ge(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=ge(a);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const p of d.j_)p.Z_(s)&&(u=!0)}),u&&i_(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function hW(t,e,r){const n=ge(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),o=i&&i.key;if(o){let a=new lt(le.comparator);a=a.insert(o,rr.newNoDocument(o,me.min()));const s=_e().add(o),l=new Fm(me.min(),new Map,new lt(Oe),a,s);await tR(n,l),n.Oa=n.Oa.remove(o),n.Na.delete(e),o_(n)}else await B0(n.localStore,e,!1).then(()=>z0(n,e,r)).catch(Vd)}async function pW(t,e){const r=ge(t),n=e.batch.batchId;try{const i=await Tz(r.localStore,e);nR(r,n,null),rR(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Wd(r,i)}catch(i){await Vd(i)}}async function mW(t,e,r){const n=ge(t);try{const i=await function(a,s){const l=ge(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(Re(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);nR(n,e,r),rR(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Wd(n,i)}catch(i){await Vd(i)}}function rR(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function nR(t,e,r){const n=ge(t);let i=n.Ba[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function z0(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||iR(t,n)})}function iR(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Jw(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),o_(t))}function tT(t,e,r){for(const n of r)n instanceof JC?(t.La.addReference(n.key,e),gW(t,n)):n instanceof ZC?(ae("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||iR(t,n.key)):he()}function gW(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ae("SyncEngine","New document in limbo: "+r),t.xa.add(n),o_(t))}function o_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new le(Qe.fromString(e)),n=t.qa.next();t.Na.set(n,new oW(r)),t.Oa=t.Oa.insert(r,n),zC(t.remoteStore,new no($n(zw(r.path)),n,"TargetPurposeLimboResolution",$w.oe))}}async function Wd(t,e,r){const n=ge(t),i=[],o=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{a.push(n.Ka(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Qw.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,u){const c=ge(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(u,p=>K.forEach(p.$i,m=>c.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>K.forEach(p.Ui,m=>c.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!Fd(d))throw d;ae("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=c.os.get(p),w=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(w);c.os=c.os.insert(p,g)}}}(n.localStore,o))}async function yW(t,e){const r=ge(t);if(!r.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const n=await VC(r.localStore,e);r.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new ne(q.CANCELLED,a))})}),o.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Wd(r,n.hs)}}function vW(t,e){const r=ge(t),n=r.Na.get(e);if(n&&n.va)return _e().add(n.key);{let i=_e();const o=r.Ma.get(e);if(!o)return i;for(const a of o){const s=r.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function oR(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hW.bind(null,e),e.Ca.d_=tW.bind(null,e.eventManager),e.Ca.$a=rW.bind(null,e.eventManager),e}function bW(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mW.bind(null,e),e}class up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return Az(this.persistence,new Sz,e.initialUser,this.serializer)}Ga(e){return new xz(Xw.Zr,this.serializer)}Wa(e){return new jz}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}up.provider={build:()=>new up};class W0{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>eT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=yW.bind(null,this.syncEngine),await Jz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eW}()}createDatastore(e){const r=Bm(e.databaseInfo.databaseId),n=function(o){return new Mz(o)}(e.databaseInfo);return function(o,a,s,l){return new Vz(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,o,a,s){return new Bz(n,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,r=>eT(this.syncEngine,r,0),function(){return YA.D()?new YA:new Cz}())}createSyncEngine(e,r){return function(i,o,a,s,l,u,c){const d=new aW(i,o,a,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const o=ge(i);ae("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await zd(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}W0.provider={build:()=>new W0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,r,n,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=er.UNAUTHENTICATED,this.clientId=aC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async a=>{ae("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(ae("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=n_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Yy(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await VC(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await wW(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>XA(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>XA(e.remoteStore,i)),t._onlineComponents=e}async function wW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yy(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Js("Error using user provided cache. Falling back to memory cache: "+r),await Yy(t,new up)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Yy(t,new up);return t._offlineComponents}async function sR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await rT(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await rT(t,new W0))),t._onlineComponents}function _W(t){return sR(t).then(e=>e.syncEngine)}async function lR(t){const e=await sR(t),r=e.eventManager;return r.onListen=sW.bind(null,e.syncEngine),r.onUnlisten=cW.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=lW.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=dW.bind(null,e.syncEngine),r}function SW(t,e,r={}){const n=new pi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new aR({next:p=>{c.Za(),a.enqueueAndForget(()=>XC(o,d));const m=p.docs.has(s);!m&&p.fromCache?u.reject(new ne(q.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new ne(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new QC(zw(s.path),c,{includeMetadataChanges:!0,_a:!0});return YC(o,d)}(await lR(t),t.asyncQueue,e,r,n)),n.promise}function EW(t,e,r={}){const n=new pi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new aR({next:p=>{c.Za(),a.enqueueAndForget(()=>XC(o,d)),p.fromCache&&l.source==="server"?u.reject(new ne(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new QC(s,c,{includeMetadataChanges:!0,_a:!0});return YC(o,d)}(await lR(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e,r){if(!r)throw new ne(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AW(t,e,r,n){if(e===!0&&n===!0)throw new ne(q.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function iT(t){if(!le.isDocumentKey(t))throw new ne(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oT(t){if(le.isDocumentKey(t))throw new ne(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Wm(t);throw new ne(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uR((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ne(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gm{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new z9;switch(n.type){case"firstParty":return new H9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ne(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=nT.get(r);n&&(ae("ComponentProvider","Removing Datastore"),nT.delete(r),n.terminate())}(this),Promise.resolve()}}function TW(t,e,r,n={}){var i;const o=(t=Ti(t,Gm))._getSettings(),a=`${e}:${r}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=er.MOCK_USER;else{s=D6(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new ne(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new er(u)}t._authCredentials=new W9(new oC(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class Er{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class vo extends Do{constructor(e,r,n){super(e,r,zw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new le(e))}withConverter(e){return new vo(this.firestore,e,this._path)}}function bn(t,e,...r){if(t=gt(t),cR("collection","path",e),t instanceof Gm){const n=Qe.fromString(e,...r);return oT(n),new vo(t,null,n)}{if(!(t instanceof Er||t instanceof vo))throw new ne(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Qe.fromString(e,...r));return oT(n),new vo(t.firestore,null,n)}}function Mr(t,e,...r){if(t=gt(t),arguments.length===1&&(e=aC.newId()),cR("doc","path",e),t instanceof Gm){const n=Qe.fromString(e,...r);return iT(n),new Er(t,null,new le(n))}{if(!(t instanceof Er||t instanceof vo))throw new ne(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Qe.fromString(e,...r));return iT(n),new Er(t.firestore,t instanceof vo?t.converter:null,new le(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new BC(this,"async_queue_retry"),this.Vu=()=>{const n=Ky();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Ky();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ky();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new pi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Fd(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(n);throw Ei("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=r_.createAndSchedule(this,e,r,n,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class Gl extends Gm{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new sT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sT(e),this._firestoreClient=void 0,await e}}}function PW(t,e){const r=typeof t=="object"?t:bw(),n=typeof t=="string"?t:"(default)",i=Ga(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=C6("firestore");o&&TW(i,...o)}return i}function a_(t){if(t._terminated)throw new ne(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IW(t),t._firestoreClient}function IW(t){var e,r,n;const i=t._freezeSettings(),o=function(s,l,u,c){return new a8(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,uR(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new xW(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new il(Wt.fromBase64String(e))}catch(r){throw new ne(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new il(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ne(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ne(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ne(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=/^__.*__$/;class kW{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Ro(e,this.data,this.fieldMask,r,this.fieldTransforms):new Bd(e,this.data,r,this.fieldTransforms)}}class dR{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Ro(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function fR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class c_{constructor(e,r,n,i,o,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new c_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return cp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(fR(this.Cu)&&OW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class NW{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Bm(e)}Qu(e,r,n,i=!1){return new c_({Cu:e,methodName:r,qu:n,path:Ft.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function d_(t){const e=t._freezeSettings(),r=Bm(t._databaseId);return new NW(t._databaseId,!!e.ignoreUndefinedProperties,r)}function jW(t,e,r,n,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,r,i);f_("Data must be an object, but it was:",a,n);const s=hR(n,a);let l,u;if(o.merge)l=new Cr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const p=G0(e,d,r);if(!a.contains(p))throw new ne(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);mR(c,p)||c.push(p)}l=new Cr(c),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new kW(new yr(s),l,u)}class Hm extends s_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hm}}function CW(t,e,r,n){const i=t.Qu(1,e,r);f_("Data must be an object, but it was:",i,n);const o=[],a=yr.empty();qa(n,(l,u)=>{const c=h_(e,l,r);u=gt(u);const d=i.Nu(c);if(u instanceof Hm)o.push(c);else{const p=Gd(u,d);p!=null&&(o.push(c),a.set(c,p))}});const s=new Cr(o);return new dR(a,s,i.fieldTransforms)}function RW(t,e,r,n,i,o){const a=t.Qu(1,e,r),s=[G0(e,n,r)],l=[i];if(o.length%2!=0)throw new ne(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)s.push(G0(e,o[p])),l.push(o[p+1]);const u=[],c=yr.empty();for(let p=s.length-1;p>=0;--p)if(!mR(u,s[p])){const m=s[p];let w=l[p];w=gt(w);const g=a.Nu(m);if(w instanceof Hm)u.push(m);else{const y=Gd(w,g);y!=null&&(u.push(m),c.set(m,y))}}const d=new Cr(u);return new dR(c,d,a.fieldTransforms)}function DW(t,e,r,n=!1){return Gd(r,t.Qu(n?4:3,e))}function Gd(t,e){if(pR(t=gt(t)))return f_("Unsupported field value:",e,t),hR(t,e);if(t instanceof s_)return function(n,i){if(!fR(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const o=[];let a=0;for(const s of n){let l=Gd(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=gt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return I8(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=be.fromDate(n);return{timestampValue:sp(i.serializer,o)}}if(n instanceof be){const o=new be(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sp(i.serializer,o)}}if(n instanceof l_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof il)return{bytesValue:jC(i.serializer,n._byteString)};if(n instanceof Er){const o=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Kw(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof u_)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return Ww(s.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Wm(n)}`)}(t,e)}function hR(t,e){const r={};return sC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(t,(n,i)=>{const o=Gd(i,e.Mu(n));o!=null&&(r[n]=o)}),{mapValue:{fields:r}}}function pR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof be||t instanceof l_||t instanceof il||t instanceof Er||t instanceof s_||t instanceof u_)}function f_(t,e,r){if(!pR(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Wm(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function G0(t,e,r){if((e=gt(e))instanceof qm)return e._internalPath;if(typeof e=="string")return h_(t,e);throw cp("Field path arguments must be of type string or ",t,!1,void 0,r)}const MW=new RegExp("[~\\*/\\[\\]]");function h_(t,e,r){if(e.search(MW)>=0)throw cp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new qm(...e.split("."))._internalPath}catch{throw cp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function cp(t,e,r,n,i){const o=n&&!n.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new ne(q.INVALID_ARGUMENT,s+t+l)}function mR(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $W(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Km("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class $W extends gR{data(){return super.data()}}function Km(t,e){return typeof e=="string"?h_(t,e):e instanceof qm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p_{}class m_ extends p_{}function Ra(t,e,...r){let n=[];e instanceof p_&&n.push(e),n=n.concat(r),function(o){const a=o.filter(l=>l instanceof g_).length,s=o.filter(l=>l instanceof Ym).length;if(a>1||a>0&&s>0)throw new ne(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Ym extends m_{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Ym(e,r,n)}_apply(e){const r=this._parse(e);return yR(e._query,r),new Do(e.firestore,e.converter,M0(e._query,r))}_parse(e){const r=d_(e.firestore);return function(o,a,s,l,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ne(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){uT(d,c);const m=[];for(const w of d)m.push(lT(l,o,w));p={arrayValue:{values:m}}}else p=lT(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||uT(d,c),p=DW(s,a,d,c==="in"||c==="not-in");return xt.create(u,c,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function bo(t,e,r){const n=e,i=Km("where",t);return Ym._create(i,n,r)}class g_ extends p_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new g_(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Sn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)yR(a,l),a=M0(a,l)}(e._query,r),new Do(e.firestore,e.converter,M0(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class y_ extends m_{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new y_(e,r)}_apply(e){const r=function(i,o,a){if(i.startAt!==null)throw new ne(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(o,a)}(e._query,this._field,this._direction);return new Do(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new Ul(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function ol(t,e="asc"){const r=e,n=Km("orderBy",t);return y_._create(n,r)}class v_ extends m_{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new v_(e,r,n)}_apply(e){return new Do(e.firestore,e.converter,ip(e._query,this._limit,this._limitType))}}function VW(t){return v_._create("limit",t,"F")}function lT(t,e,r){if(typeof(r=gt(r))=="string"){if(r==="")throw new ne(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gC(e)&&r.indexOf("/")!==-1)throw new ne(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Qe.fromString(r));if(!le.isDocumentKey(n))throw new ne(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return kA(t,new le(n))}if(r instanceof Er)return kA(t,r._key);throw new ne(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wm(r)}.`)}function uT(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yR(t,e){const r=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ne(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class FW{convertValue(e,r="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return qa(e,(i,o)=>{n[i]=this.convertValue(o,r)}),n}convertVectorValue(e){var r,n,i;const o=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>ht(a.doubleValue));return new u_(o)}convertGeoPoint(e){return new l_(ht(e.latitude),ht(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Vw(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){const r=Eo(e);return new be(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Qe.fromString(e);Re(LC(n));const i=new zc(n.get(1),n.get(3)),o=new le(n.popFirst(5));return i.isEqual(r)||Ei(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vR extends gR{constructor(e,r,n,i,o,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Km("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class bh extends vR{data(e={}){return super.data(e)}}class UW{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Xu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new bh(this._firestore,this._userDataWriter,n.key,n,new Xu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ne(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new bh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Xu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new bh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Xu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:zW(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function zW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t){t=Ti(t,Er);const e=Ti(t.firestore,Gl);return SW(a_(e),t._key).then(r=>WW(e,t,r))}class bR extends FW{constructor(e){super(),this.firestore=e}convertBytes(e){return new il(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,r)}}function al(t){t=Ti(t,Do);const e=Ti(t.firestore,Gl),r=a_(e),n=new bR(e);return LW(t._query),EW(r,t._query).then(i=>new UW(e,n,t,i))}function Qm(t,e,r,...n){t=Ti(t,Er);const i=Ti(t.firestore,Gl),o=d_(i);let a;return a=typeof(e=gt(e))=="string"||e instanceof qm?RW(o,"updateDoc",t._key,e,r,n):CW(o,"updateDoc",t._key,e),b_(i,[a.toMutation(t._key,vn.exists(!0))])}function Jm(t){return b_(Ti(t.firestore,Gl),[new Gw(t._key,vn.none())])}function Zm(t,e){const r=Ti(t.firestore,Gl),n=Mr(t),i=BW(t.converter,e);return b_(r,[jW(d_(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,vn.exists(!1))]).then(()=>n)}function b_(t,e){return function(n,i){const o=new pi;return n.asyncQueue.enqueueAndForget(async()=>fW(await _W(n),i,o)),o.promise}(a_(t),e)}function WW(t,e,r){const n=r.docs.get(e._key),i=new bR(t);return new vR(t,i,e._key,n,new Xu(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Bl=i})(Vl),Un(new _n("firestore",(n,{instanceIdentifier:i,options:o})=>{const a=n.getProvider("app").getImmediate(),s=new Gl(new G9(n.getProvider("auth-internal")),new Y9(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:r},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Xr(AA,"4.7.3",e),Xr(AA,"4.7.3","esm2017")})();const GW={apiKey:"AIzaSyDyQ6v--G5C4jiWWS9NwU047InSxkXj4vI",authDomain:"fitness-tracking-app-cc88c.firebaseapp.com",databaseURL:"https://fitness-tracking-app-cc88c-default-rtdb.firebaseio.com",projectId:"fitness-tracking-app-cc88c",storageBucket:"fitness-tracking-app-cc88c.firebasestorage.app",messagingSenderId:"88533464875",appId:"1:88533464875:web:1a876dc3558f9786fbf76e",measurementId:"G-K4ZEZX8WCC"},x_=YN(GW);V9(x_);const ku=xU(x_),ot=PW(x_),qW=new ni,HW=()=>{const[t,e]=D.useState(null),[r,n]=D.useState(!0),[i,o]=D.useState(null);return D.useEffect(()=>{const c=lB(ku,d=>{e(d?{uid:d.uid,email:d.email,displayName:d.displayName,photoURL:d.photoURL}:null),n(!1)});return()=>c()},[]),{user:t,loading:r,error:i,login:async(c,d)=>{try{return o(null),n(!0),(await nB(ku,c,d)).user}catch(p){throw o(p.message),p}finally{n(!1)}},signup:async(c,d,p)=>{try{o(null),n(!0),console.log("Attempting to create user with email:",c);const m=await rB(ku,c,d);return console.log("User created successfully:",m.user.uid),p&&m.user&&(console.log("Updating profile with display name:",p),await oB(m.user,{displayName:p}),console.log("Profile updated successfully")),m.user}catch(m){console.error("Signup error details:",{code:m.code,message:m.message,email:c});let w=m.message;throw m.code==="auth/email-already-in-use"?w="This email is already registered. Please try logging in instead.":m.code==="auth/invalid-email"?w="Please enter a valid email address.":m.code==="auth/weak-password"?w="Password should be at least 6 characters long.":m.code==="auth/network-request-failed"?w="Network error. Please check your internet connection.":m.code==="auth/too-many-requests"&&(w="Too many failed attempts. Please try again later."),o(w),m}finally{n(!1)}},signInWithGoogle:async()=>{try{return o(null),n(!0),(await OB(ku,qW)).user}catch(c){throw o(c.message),c}finally{n(!1)}},logout:async()=>{try{o(null),await uB(ku)}catch(c){throw o(c.message),c}}}},xR=D.createContext(void 0),qn=()=>{const t=D.useContext(xR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},KW=({children:t})=>{var m;const{user:e,loading:r,login:n,logout:i,signup:o,signInWithGoogle:a}=HW(),p={user:e?{id:e.uid,email:e.email||"",name:e.displayName||((m=e.email)==null?void 0:m.split("@")[0])||"User",profilePicture:e.photoURL||void 0}:null,login:async(w,g)=>{try{return await n(w,g),{success:!0}}catch(y){console.error("Login failed:",y);let x="Invalid email or password";return y.code==="auth/user-not-found"?x="No account found with this email address.":y.code==="auth/wrong-password"?x="Incorrect password. Please try again.":y.code==="auth/invalid-email"?x="Please enter a valid email address.":y.code==="auth/too-many-requests"?x="Too many failed attempts. Please try again later.":y.code==="auth/network-request-failed"&&(x="Network error. Please check your internet connection."),{success:!1,error:x}}},logout:async()=>{try{await i()}catch(w){console.error("Logout failed:",w)}},signup:async(w,g,y)=>{try{return await o(w,g,y),{success:!0}}catch(x){console.error("Signup failed:",x),x.code&&(console.error("Firebase Error Code:",x.code),console.error("Firebase Error Message:",x.message));let v=x.message;return x.code==="auth/email-already-in-use"?v="This email is already registered. Please try logging in instead.":x.code==="auth/invalid-email"?v="Please enter a valid email address.":x.code==="auth/weak-password"?v="Password should be at least 6 characters long.":x.code==="auth/network-request-failed"?v="Network error. Please check your internet connection.":x.code==="auth/too-many-requests"&&(v="Too many failed attempts. Please try again later."),{success:!1,error:v}}},signInWithGoogle:async()=>{try{return await a(),!0}catch(w){return console.error("Google sign-in failed:",w),!1}},loading:r};return f.jsx(xR.Provider,{value:p,children:t})},YW=({size:t="md",text:e,className:r=""})=>{const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"};return f.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[f.jsx("div",{className:`animate-spin rounded-full border-b-2 border-primary-500 ${n[t]}`}),e&&f.jsx("p",{className:"mt-2 text-text-secondary text-sm",children:e})]})},qo=({children:t})=>{const{user:e,loading:r}=qn();return r?f.jsx("div",{className:"min-h-screen bg-bg-secondary flex items-center justify-center",children:f.jsx(YW,{})}):e?f.jsx(f.Fragment,{children:t}):f.jsx(RN,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wR=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:a,...s},l)=>D.createElement("svg",{ref:l,...QW,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:wR("lucide",i),...s},[...a.map(([u,c])=>D.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=(t,e)=>{const r=D.forwardRef(({className:n,...i},o)=>D.createElement(JW,{ref:o,iconNode:e,className:wR(`lucide-${XW(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=_R("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=_R("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),t7=()=>{const{mode:t,toggleTheme:e}=x6();return f.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-bg-secondary hover:bg-bg-tertiary transition-colors","aria-label":"Toggle theme",children:t==="light"?f.jsx(ZW,{className:"w-5 h-5 text-text-primary"}):f.jsx(e7,{className:"w-5 h-5 text-text-primary"})})},r7=({children:t})=>{const e=Ll(),{user:r}=qn(),n=["/login","/signup","/"].includes(e.pathname),i=[{path:"/dashboard",label:"Dashboard",icon:"🏠"},{path:"/plans",label:"Plans",icon:"📋"},{path:"/track",label:"Track",icon:"🏋️"},{path:"/goals",label:"Goals",icon:"🎯"},{path:"/analytics",label:"Analytics",icon:"📊"},{path:"/records",label:"Records",icon:"🏆"},{path:"/profile",label:"Profile",icon:"👤"}];return n?f.jsx("div",{className:"min-h-screen bg-bg-primary text-text-primary",children:f.jsx("main",{className:"max-w-7xl mx-auto p-4",children:t})}):f.jsxs("div",{className:"min-h-screen bg-bg-primary text-text-primary",children:[f.jsx("header",{className:"bg-bg-secondary border-b border-border-default p-4",children:f.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Fitness Tracker"}),f.jsx(t7,{})]})}),f.jsx("nav",{className:"bg-bg-secondary border-b border-border-default",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4",children:f.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:i.map(o=>f.jsxs(DN,{to:o.path,className:`flex items-center px-4 py-3 rounded-lg transition-colors whitespace-nowrap ${e.pathname===o.path?"bg-accent-primary text-white":"text-text-secondary hover:text-text-primary hover:bg-bg-tertiary"}`,children:[f.jsx("span",{className:"mr-2",children:o.icon}),o.label]},o.path))})})}),f.jsx("main",{className:"max-w-7xl mx-auto p-4",children:t})]})};function cT(){const[t,e]=D.useState(!1),[r,n]=D.useState(""),[i,o]=D.useState(""),[a,s]=D.useState(!1),[l,u]=D.useState(""),{user:c,login:d,signInWithGoogle:p}=qn();if(c)return f.jsx(RN,{to:"/dashboard",replace:!0});const m=async g=>{g.preventDefault(),s(!0),u("");try{const y=await d(r,i);y.success||u(y.error||"Invalid email or password")}catch{u("Login failed. Please try again.")}finally{s(!1)}},w=async()=>{s(!0),u("");try{console.log("Starting Google sign-in..."),await p()?console.log("Google sign-in successful"):(console.error("Google sign-in failed"),u("Failed to sign in with Google. Please check your internet connection and try again."))}catch(g){console.error("Google sign-in error:",g),g.code==="auth/popup-closed-by-user"?u("Sign-in was cancelled. Please try again."):g.code==="auth/popup-blocked"?u("Popup was blocked. Please allow popups and try again."):g.code==="auth/network-request-failed"?u("Network error. Please check your internet connection."):u("Google sign-in failed. Please try again.")}finally{s(!1)}};return f.jsxs("div",{className:"min-h-screen hero-gradient relative flex",children:[f.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:f.jsxs("div",{className:"glassmorphism rounded-3xl p-12 w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"LOGIN"}),f.jsx("div",{className:"w-16 h-0.5 bg-white mx-auto"})]}),l&&f.jsx("div",{className:"mb-4 p-4 bg-red-600/90 border border-red-500 text-white rounded-lg text-sm font-medium shadow-lg",children:l}),f.jsxs("form",{onSubmit:m,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"username",className:"block high-contrast-label text-sm mb-2",children:"Username"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"email",id:"username",value:r,onChange:g=>n(g.target.value),className:"w-full px-4 py-3 high-contrast-input rounded-xl focus:outline-none backdrop-blur-sm",placeholder:"Enter your email",required:!0}),f.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70",children:"***"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block high-contrast-label text-sm mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:t?"text":"password",id:"password",value:i,onChange:g=>o(g.target.value),className:"w-full px-4 py-3 high-contrast-input rounded-xl focus:outline-none backdrop-blur-sm",placeholder:"Enter your password",required:!0}),f.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-2",children:[f.jsx("button",{type:"button",onClick:()=>e(!t),className:"text-white/70 hover:text-white transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})}),f.jsx("span",{className:"text-white/70",children:"***"})]})]})]}),f.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gray-800 text-white py-3 px-6 rounded-xl font-semibold hover:bg-gray-700 disabled:bg-gray-600 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-white/30 transition-colors",children:a?"LOGGING IN...":"LOG IN"}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"high-contrast-text",children:["Forgot your password? ",f.jsx("span",{className:"text-yellow-300 cursor-pointer hover:text-yellow-200 font-bold",children:"Press here"})]})}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-white/20"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-4 bg-transparent high-contrast-text",children:"Or Continue With"})})]}),f.jsx("div",{className:"flex justify-center",children:f.jsxs("button",{type:"button",onClick:w,disabled:a,className:"flex items-center justify-center space-x-3 bg-white/20 border-2 border-white/40 text-white py-3 px-8 rounded-xl hover:bg-white/30 hover:border-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f.jsx("span",{children:a?"Signing in...":"Google"})]})}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"high-contrast-text",children:["Don't have an account? ",f.jsx("a",{href:"/signup",className:"text-yellow-300 cursor-pointer hover:text-yellow-200 font-bold",children:"Sign up"})]})})]})]})}),f.jsx("div",{className:"flex-1 relative",children:f.jsxs("div",{className:"absolute inset-0 rounded-l-3xl overflow-hidden",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Fitness training session with personal trainer and client doing push-ups",className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/20 to-blue-600/20"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/30 to-blue-500/30 flex items-center justify-center",children:f.jsxs("div",{className:"text-center text-white/90",children:[f.jsx("h3",{className:"text-3xl font-bold mb-2",children:"Fitness Training"}),f.jsx("p",{className:"text-xl",children:"Transform your body, transform your life"})]})})]})})]})}const n7=()=>(Object.values({apiKey:"AIzaSyDyQ6v--G5C4jiWWS9NwU047InSxkXj4vI",authDomain:"fitness-tracking-app-cc88c.firebaseapp.com",projectId:"fitness-tracking-app-cc88c",storageBucket:"fitness-tracking-app-cc88c.firebasestorage.app",messagingSenderId:"88533464875",appId:"1:88533464875:web:1a876dc3558f9786fbf76e"}).every(e=>e&&e!=="demo-key"&&!e.includes("123456789")),null);function i7(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[i,o]=D.useState({fullName:"",email:"",password:"",confirmPassword:"",terms:!1}),[a,s]=D.useState(!1),[l,u]=D.useState(""),{signup:c,signInWithGoogle:d}=qn(),p=Ni(),m=y=>{const{name:x,value:v,type:_,checked:I}=y.target;o(b=>({...b,[x]:_==="checkbox"?I:v}))},w=async y=>{if(y.preventDefault(),u(""),i.password!==i.confirmPassword){u("Passwords do not match");return}if(!i.terms){u("Please accept the terms and conditions");return}if(i.password.length<6){u("Password must be at least 6 characters long");return}s(!0);try{console.log("Starting signup process...");const x=await c(i.email,i.password,i.fullName);x.success?(console.log("Signup successful, navigating to dashboard"),p("/dashboard")):u(x.error||"Failed to create account. Please try again.")}catch(x){console.error("Signup error in component:",x),u(x.message||"An error occurred. Please try again.")}finally{s(!1)}},g=async()=>{u(""),s(!0);try{console.log("Starting Google sign-in..."),await d()?(console.log("Google sign-in successful, navigating to dashboard"),p("/dashboard")):(console.error("Google sign-in failed"),u("Failed to sign in with Google. Please check your internet connection and try again."))}catch(y){console.error("Google sign-in error:",y),y.code==="auth/popup-closed-by-user"?u("Sign-in was cancelled. Please try again."):y.code==="auth/popup-blocked"?u("Popup was blocked. Please allow popups and try again."):y.code==="auth/network-request-failed"?u("Network error. Please check your internet connection."):u("Google sign-in failed. Please try again.")}finally{s(!1)}};return f.jsxs("div",{className:"min-h-screen hero-gradient relative flex",children:[f.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:f.jsxs("div",{className:"glassmorphism rounded-3xl p-12 w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"SIGN UP"}),f.jsx("div",{className:"w-16 h-0.5 bg-white mx-auto"})]}),l&&f.jsx("div",{className:"mb-4 p-4 bg-red-600/90 border border-red-500 text-white rounded-lg text-sm font-medium shadow-lg",children:l}),f.jsxs("form",{onSubmit:w,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fullName",className:"block high-contrast-label text-sm mb-2",children:"Full Name"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",id:"fullName",name:"fullName",value:i.fullName,onChange:m,className:"w-full px-4 py-3 high-contrast-input rounded-xl focus:outline-none backdrop-blur-sm",placeholder:"Enter your full name",required:!0}),f.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70",children:"***"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block high-contrast-label text-sm mb-2",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:m,className:"w-full px-4 py-3 high-contrast-input rounded-xl focus:outline-none backdrop-blur-sm",placeholder:"Enter your email",required:!0}),f.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70",children:"***"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block high-contrast-label text-sm mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:t?"text":"password",id:"password",name:"password",value:i.password,onChange:m,className:"w-full px-4 py-3 high-contrast-input rounded-xl focus:outline-none backdrop-blur-sm",placeholder:"Enter your password",required:!0}),f.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-2",children:[f.jsx("button",{type:"button",onClick:()=>e(!t),className:"text-white/70 hover:text-white transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):f.jsxs(f.Fragment,{children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})}),f.jsx("span",{className:"text-white/70",children:"***"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmPassword",className:"block high-contrast-label text-sm mb-2",children:"Confirm Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:r?"text":"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:m,className:"w-full px-4 py-3 high-contrast-input rounded-xl focus:outline-none backdrop-blur-sm",placeholder:"Confirm your password",required:!0}),f.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-2",children:[f.jsx("button",{type:"button",onClick:()=>n(!r),className:"text-white/70 hover:text-white transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):f.jsxs(f.Fragment,{children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})}),f.jsx("span",{className:"text-white/70",children:"***"})]})]})]}),f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("input",{type:"checkbox",id:"terms",name:"terms",checked:i.terms,onChange:m,className:"mt-1 w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-white/30 focus:ring-2",required:!0}),f.jsxs("label",{htmlFor:"terms",className:"high-contrast-text text-sm",children:["I agree to the ",f.jsx("span",{className:"text-yellow-300 cursor-pointer hover:text-yellow-200 font-medium",children:"Terms and Conditions"})," and ",f.jsx("span",{className:"text-yellow-300 cursor-pointer hover:text-yellow-200 font-medium",children:"Privacy Policy"})]})]}),f.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gray-800 text-white py-3 px-6 rounded-xl font-semibold hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-white/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating Account...":"SIGN UP"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-white/20"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-4 bg-transparent high-contrast-text",children:"Or Continue With"})})]}),f.jsx("div",{className:"flex justify-center",children:f.jsxs("button",{type:"button",onClick:g,disabled:a,className:"flex items-center justify-center space-x-3 bg-white/20 border-2 border-white/40 text-white py-3 px-8 rounded-xl hover:bg-white/30 hover:border-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f.jsx("span",{children:a?"Signing in...":"Google"})]})}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"high-contrast-text",children:["Already have an account? ",f.jsx(DN,{to:"/login",className:"text-yellow-300 cursor-pointer hover:text-yellow-200 font-bold",children:"Login"})]})})]})]})}),f.jsx("div",{className:"flex-1 relative",children:f.jsxs("div",{className:"absolute inset-0 rounded-l-3xl overflow-hidden",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Fitness training session with personal trainer and client doing push-ups",className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/20 to-blue-600/20"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/30 to-blue-500/30 flex items-center justify-center",children:f.jsxs("div",{className:"text-center text-white/90",children:[f.jsx("h3",{className:"text-3xl font-bold mb-2",children:"Join Our Community"}),f.jsx("p",{className:"text-xl",children:"Start your fitness journey today"})]})})]})}),f.jsx(n7,{})]})}const Vn=t=>{const e=t.data(),r=t.id,n=i=>i&&typeof i=="object"?i.seconds&&i.nanoseconds?new Date(i.seconds*1e3):Array.isArray(i)?i.map(n):Object.fromEntries(Object.entries(i).map(([o,a])=>[o,n(a)])):i;return{id:r,...n(e)}},Ss={async create(t){const e=new Date,r={...t,createdAt:be.fromDate(e),updatedAt:be.fromDate(e)},n=await Zm(bn(ot,"workoutPlans"),r);return{...t,id:n.id,createdAt:e,updatedAt:e}},async getAll(t){let e=Ra(bn(ot,"workoutPlans"),ol("createdAt","desc"));return t&&(e=Ra(bn(ot,"workoutPlans"),bo("createdBy","==",t),ol("createdAt","desc"))),(await al(e)).docs.map(Vn)},async getById(t){const e=Mr(ot,"workoutPlans",t),r=await Xm(e);return r.exists()?Vn(r):null},async update(t,e){const r=Mr(ot,"workoutPlans",t),n={...e,updatedAt:be.fromDate(new Date)};await Qm(r,n)},async delete(t){const e=Mr(ot,"workoutPlans",t);await Jm(e)}},kn={async create(t){const e=new Date,r={...t,startedAt:be.fromDate(t.startedAt),completedAt:t.completedAt?be.fromDate(t.completedAt):null,createdAt:be.fromDate(e),updatedAt:be.fromDate(e)},n=await Zm(bn(ot,"workouts"),r);return{...t,id:n.id,createdAt:e,updatedAt:e}},async getAll(t){const e=Ra(bn(ot,"workouts"),bo("userId","==",t),ol("createdAt","desc"));return(await al(e)).docs.map(Vn)},async getActive(t){const e=Ra(bn(ot,"workouts"),bo("userId","==",t),bo("status","==","active"),VW(1)),r=await al(e);return r.empty?null:Vn(r.docs[0])},async getById(t){const e=Mr(ot,"workouts",t),r=await Xm(e);return r.exists()?Vn(r):null},async update(t,e){const r=Mr(ot,"workouts",t),n={...e,completedAt:e.completedAt?be.fromDate(e.completedAt):void 0,updatedAt:be.fromDate(new Date)};await Qm(r,n)},async delete(t){const e=Mr(ot,"workouts",t);await Jm(e)}},qi={async create(t){const e=new Date,r={...t,targetDate:be.fromDate(t.targetDate),completedAt:t.completedAt?be.fromDate(t.completedAt):null,createdAt:be.fromDate(e),updatedAt:be.fromDate(e)},n=await Zm(bn(ot,"goals"),r);return{...t,id:n.id,createdAt:e,updatedAt:e}},async getAll(t){const e=Ra(bn(ot,"goals"),bo("userId","==",t),ol("createdAt","desc"));return(await al(e)).docs.map(Vn)},async getById(t){const e=Mr(ot,"goals",t),r=await Xm(e);return r.exists()?Vn(r):null},async update(t,e){const r=Mr(ot,"goals",t),n={...e,targetDate:e.targetDate?be.fromDate(e.targetDate):void 0,completedAt:e.completedAt?be.fromDate(e.completedAt):void 0,updatedAt:be.fromDate(new Date)};await Qm(r,n)},async delete(t){const e=Mr(ot,"goals",t);await Jm(e)}},SR={async create(t){const e=new Date,r={...t,dateAchieved:be.fromDate(t.dateAchieved),createdAt:be.fromDate(e),updatedAt:be.fromDate(e)},n=await Zm(bn(ot,"personalRecords"),r);return{...t,id:n.id,createdAt:e,updatedAt:e}},async getAll(t){const e=Ra(bn(ot,"personalRecords"),bo("userId","==",t),ol("dateAchieved","desc"));return(await al(e)).docs.map(Vn)},async getByExercise(t,e){const r=Ra(bn(ot,"personalRecords"),bo("userId","==",t),bo("exerciseName","==",e),ol("dateAchieved","desc"));return(await al(r)).docs.map(Vn)},async getById(t){const e=Mr(ot,"personalRecords",t),r=await Xm(e);return r.exists()?Vn(r):null},async update(t,e){const r=Mr(ot,"personalRecords",t),n={...e,dateAchieved:e.dateAchieved?be.fromDate(e.dateAchieved):void 0,updatedAt:be.fromDate(new Date)};await Qm(r,n)},async delete(t){const e=Mr(ot,"personalRecords",t);await Jm(e)}};function o7(){const{user:t,logout:e}=qn(),r=Ni(),[n,i]=D.useState(!0),[o,a]=D.useState({workoutPlans:0,completedWorkouts:0,personalRecords:0,goalsAchieved:0}),[s,l]=D.useState([]),u=za.dashboard||{accentBorder:"var(--border-focus)"};D.useEffect(()=>{(async()=>{if(t)try{i(!0);const[p,m,w,g]=await Promise.all([Ss.getAll(t.id),kn.getAll(t.id),qi.getAll(t.id),SR.getAll(t.id)]),y=m.filter(b=>b.status==="completed").length,x=w.filter(b=>b.status==="completed").length;a({workoutPlans:p.length,completedWorkouts:y,personalRecords:g.length,goalsAchieved:x});const v=[];m.filter(b=>b.status==="completed").sort((b,T)=>new Date(T.completedAt||T.startedAt).getTime()-new Date(b.completedAt||b.startedAt).getTime()).slice(0,2).forEach(b=>{v.push({action:`Completed "${b.name}" workout`,time:c(b.completedAt||b.startedAt),type:"workout"})}),w.filter(b=>b.status==="completed").sort((b,T)=>new Date(T.completedAt||T.updatedAt).getTime()-new Date(b.completedAt||b.updatedAt).getTime()).slice(0,2).forEach(b=>{v.push({action:`Achieved "${b.title}" goal`,time:c(b.completedAt||b.updatedAt),type:"goal"})}),l(v.slice(0,4))}catch(p){console.error("Error loading dashboard data:",p),a({workoutPlans:0,completedWorkouts:0,personalRecords:0,goalsAchieved:0}),l([])}finally{i(!1)}})()},[t]);const c=d=>{const m=Math.floor((new Date().getTime()-d.getTime())/(1e3*60*60));if(m<1)return"Just now";if(m<24)return`${m} hour${m>1?"s":""} ago`;const w=Math.floor(m/24);if(w<7)return`${w} day${w>1?"s":""} ago`;const g=Math.floor(w/7);return`${g} week${g>1?"s":""} ago`};return n?f.jsxs("div",{className:"min-h-screen hero-gradient relative flex items-center justify-center",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}20`}}),f.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.primary[500]}20`}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}10`}})]}),f.jsxs("div",{className:"text-center relative z-10",children:[f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500 mx-auto"}),f.jsx("p",{className:"mt-4 text-secondary",children:"Loading dashboard..."})]})]}):f.jsxs("div",{className:"min-h-screen hero-gradient relative p-6",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}20`}}),f.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.primary[500]}20`}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}10`}})]}),f.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[f.jsx("div",{className:"mb-8",children:f.jsx("div",{className:"glassmorphism p-8 rounded-3xl",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl font-bold mb-2 text-primary",children:["Welcome back, ",t==null?void 0:t.name,"!"]}),f.jsx("p",{className:"text-secondary",children:"Track your fitness journey and achieve your goals"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>r("/profile"),className:"glassmorphism px-6 py-3 rounded-xl hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300",style:{color:"var(--glassmorphism-text)"},children:"Profile"}),f.jsx("button",{onClick:e,className:"glassmorphism px-6 py-3 rounded-xl hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300",style:{color:"var(--glassmorphism-text)"},children:"Logout"})]})]})})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsx("div",{className:"glassmorphism p-6 rounded-2xl transition-all duration-300 hover:scale-105",style:{borderLeft:`4px solid ${u.accentBorder||"var(--glassmorphism-border)"}`},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",style:{color:"var(--glassmorphism-text-muted)"},children:"Workout Plans"}),f.jsx("p",{className:"text-3xl font-bold mt-2",style:{color:"var(--glassmorphism-text)"},children:o.workoutPlans})]}),f.jsx("div",{className:"text-4xl filter drop-shadow-lg",children:"📋"})]})}),f.jsx("div",{className:"glassmorphism p-6 rounded-2xl transition-all duration-300 hover:scale-105",style:{borderLeft:`4px solid ${u.accentBorder||"var(--glassmorphism-border)"}`},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",style:{color:"var(--glassmorphism-text-muted)"},children:"Completed Workouts"}),f.jsx("p",{className:"text-3xl font-bold mt-2",style:{color:"var(--glassmorphism-text)"},children:o.completedWorkouts})]}),f.jsx("div",{className:"text-4xl filter drop-shadow-lg",children:"✅"})]})}),f.jsx("div",{className:"glassmorphism p-6 rounded-2xl transition-all duration-300 hover:scale-105",style:{borderLeft:`4px solid ${u.accentBorder||"var(--glassmorphism-border)"}`},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",style:{color:"var(--glassmorphism-text-muted)"},children:"Personal Records"}),f.jsx("p",{className:"text-3xl font-bold mt-2",style:{color:"var(--glassmorphism-text)"},children:o.personalRecords})]}),f.jsx("div",{className:"text-4xl filter drop-shadow-lg",children:"🏆"})]})}),f.jsx("div",{className:"glassmorphism p-6 rounded-2xl transition-all duration-300 hover:scale-105",style:{borderLeft:`4px solid ${u.accentBorder||"var(--glassmorphism-border)"}`},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",style:{color:"var(--glassmorphism-text-muted)"},children:"Goals Achieved"}),f.jsx("p",{className:"text-3xl font-bold mt-2",style:{color:"var(--glassmorphism-text)"},children:o.goalsAchieved})]}),f.jsx("div",{className:"text-4xl filter drop-shadow-lg",children:"🎯"})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"glassmorphism p-6 rounded-2xl",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--glassmorphism-text)"},children:"Quick Actions"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("button",{onClick:()=>r("/track"),className:"w-full glassmorphism p-4 rounded-xl hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300 text-left",style:{color:"var(--glassmorphism-text)"},children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-2xl mr-4 filter drop-shadow-lg",children:"🏋️"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold",children:"Start New Workout"}),f.jsx("div",{className:"text-sm",style:{color:"var(--glassmorphism-text-muted)"},children:"Begin a workout from your plans"})]})]})}),f.jsx("button",{onClick:()=>r("/plans"),className:"w-full glassmorphism p-4 rounded-xl hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300 text-left",style:{color:"var(--glassmorphism-text)"},children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-2xl mr-4 filter drop-shadow-lg",children:"📋"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold",children:"Create Workout Plan"}),f.jsx("div",{className:"text-sm",style:{color:"var(--glassmorphism-text-muted)"},children:"Design a new workout routine"})]})]})}),f.jsx("button",{onClick:()=>r("/goals"),className:"w-full glassmorphism p-4 rounded-xl hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300 text-left",style:{color:"var(--glassmorphism-text)"},children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-2xl mr-4 filter drop-shadow-lg",children:"🎯"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold",children:"Set New Goal"}),f.jsx("div",{className:"text-sm",style:{color:"var(--glassmorphism-text-muted)"},children:"Track your fitness objectives"})]})]})}),f.jsx("button",{onClick:()=>r("/analytics"),className:"w-full glassmorphism p-4 rounded-xl hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-300 text-left",style:{color:"var(--glassmorphism-text)"},children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-2xl mr-4 filter drop-shadow-lg",children:"📊"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold",children:"View Analytics"}),f.jsx("div",{className:"text-sm",style:{color:"var(--glassmorphism-text-muted)"},children:"Analyze your fitness progress"})]})]})})]})]}),f.jsxs("div",{className:"glassmorphism p-6 rounded-2xl",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--glassmorphism-text)"},children:"Recent Activity"}),f.jsx("div",{className:"space-y-4",children:s.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"text-4xl mb-3",children:"📈"}),f.jsx("p",{className:"text-sm",style:{color:"var(--glassmorphism-text-secondary)"},children:"No recent activity yet. Start working out to see your progress here!"})]}):s.map((d,p)=>f.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-xl glassmorphism hover:scale-105 transition-all duration-300",children:[f.jsx("div",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0 shadow-lg",style:{backgroundColor:"var(--glassmorphism-border)"}}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm",style:{color:"var(--glassmorphism-text)"},children:d.action}),f.jsx("p",{className:"text-xs mt-1",style:{color:"var(--glassmorphism-text-muted)"},children:d.time})]})]},p))})]})]})]})]})}const na=class na{constructor(){xu(this,"speechSynthesis");xu(this,"isEnabled",!0);this.speechSynthesis=window.speechSynthesis}static getInstance(){return na.instance||(na.instance=new na),na.instance}setEnabled(e){this.isEnabled=e}isVoiceEnabled(){return this.isEnabled}speak(e,r="normal"){if(!this.isEnabled||!this.speechSynthesis)return;r==="high"&&this.speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(e);n.rate=.9,n.pitch=1,n.volume=.8;const o=this.speechSynthesis.getVoices().find(a=>a.lang.includes("en")&&(a.name.includes("Google")||a.name.includes("Microsoft")));o&&(n.voice=o),this.speechSynthesis.speak(n)}announceWorkoutStart(e){this.speak(`Workout started: ${e}. Let's begin!`,"high")}announceHalfway(){this.speak("Halfway through your workout. Keep going! You're doing great!","high")}announceWorkoutComplete(e,r){this.speak(`Congratulations! You've completed ${e} in ${r} minutes. Great job!`,"high")}announceExerciseStart(e,r){this.speak(`Next exercise: ${e}. ${r} sets to complete.`,"normal")}announceSetComplete(e,r){e===r?this.speak(`Set ${e} complete. Exercise finished!`,"normal"):this.speak(`Set ${e} complete. ${r-e} sets remaining.`,"normal")}announceRestTime(e){e>0&&this.speak(`Rest for ${e} seconds.`,"normal")}announceEncouragement(){const e=["Keep pushing! You're stronger than you think!","Great work! One more set!","You're crushing it! Don't give up!","Amazing progress! Keep going!","You're doing fantastic! Stay focused!"],r=e[Math.floor(Math.random()*e.length)];this.speak(r,"normal")}announceTimeRemaining(e){e>0&&this.speak(`${e} minutes remaining in your workout.`,"normal")}};xu(na,"instance");let q0=na;const ze=q0.getInstance();function a7(){const[t,e]=D.useState([]),[r,n]=D.useState(!0),[i,o]=D.useState(!1),[a,s]=D.useState(null),[l,u]=D.useState({difficulty:"",category:"",search:""}),c=Ni(),{user:d}=qn(),p=za.workoutPlans;D.useEffect(()=>{(async()=>{try{if(n(!0),d)try{const _=await Ss.getAll(d.id);e(_),localStorage.setItem("workoutPlans",JSON.stringify(_))}catch(_){console.log("Firebase not available, using local storage:",_);const I=JSON.parse(localStorage.getItem("workoutPlans")||"[]");if(I.length>0){const b=I.map(T=>({...T,createdAt:new Date(T.createdAt),updatedAt:new Date(T.updatedAt)}));e(b)}else e([])}else{const _=JSON.parse(localStorage.getItem("workoutPlans")||"[]");if(_.length>0){const I=_.map(b=>({...b,createdAt:new Date(b.createdAt),updatedAt:new Date(b.updatedAt)}));e(I)}else e([])}}catch(_){console.error("Error loading workout plans:",_),e([])}finally{n(!1)}})()},[d]);const m=t.filter(v=>{var T;const _=!l.difficulty||v.difficulty===l.difficulty,I=!l.category||v.category===l.category,b=!l.search||v.name.toLowerCase().includes(l.search.toLowerCase())||((T=v.description)==null?void 0:T.toLowerCase().includes(l.search.toLowerCase()));return _&&I&&b}),w=async v=>{if(window.confirm("Are you sure you want to delete this workout plan?"))try{if(d)try{await Ss.delete(v);const I=JSON.parse(localStorage.getItem("workoutPlans")||"[]").filter(b=>b.id!==v);localStorage.setItem("workoutPlans",JSON.stringify(I))}catch(_){console.log("Firebase not available, using local storage:",_);const b=JSON.parse(localStorage.getItem("workoutPlans")||"[]").filter(T=>T.id!==v);localStorage.setItem("workoutPlans",JSON.stringify(b))}else{const I=JSON.parse(localStorage.getItem("workoutPlans")||"[]").filter(b=>b.id!==v);localStorage.setItem("workoutPlans",JSON.stringify(I))}e(t.filter(_=>_.id!==v))}catch(_){console.error("Error deleting workout plan:",_),alert("Failed to delete workout plan. Please try again.")}},g=v=>{localStorage.setItem("selectedPlan",JSON.stringify(v)),c("/track")},y=async v=>{try{let _;if(d)try{_=await Ss.create({...v,createdBy:d.id});const I=JSON.parse(localStorage.getItem("workoutPlans")||"[]"),b=[_,...I];localStorage.setItem("workoutPlans",JSON.stringify(b))}catch(I){console.log("Firebase not available, using local storage:",I),_={...v,id:crypto.randomUUID(),createdBy:d.id,createdAt:new Date,updatedAt:new Date};const b=JSON.parse(localStorage.getItem("workoutPlans")||"[]"),T=[_,...b];localStorage.setItem("workoutPlans",JSON.stringify(T))}else{_={...v,id:crypto.randomUUID(),createdBy:"anonymous",createdAt:new Date,updatedAt:new Date};const I=JSON.parse(localStorage.getItem("workoutPlans")||"[]"),b=[_,...I];localStorage.setItem("workoutPlans",JSON.stringify(b))}e([_,...t]),o(!1),ze.announceWorkoutStart(`Workout plan created successfully! ${v.name} is now available.`),alert("Workout plan created successfully!")}catch(_){console.error("Error creating workout plan:",_),alert("Failed to create workout plan. Please try again.")}},x=async v=>{if(!(!a||!a.id))try{const _={...a,...v,updatedAt:new Date};if(d)try{await Ss.update(a.id,v);const b=JSON.parse(localStorage.getItem("workoutPlans")||"[]").map(T=>T.id===a.id?_:T);localStorage.setItem("workoutPlans",JSON.stringify(b))}catch(I){console.log("Firebase not available, using local storage:",I);const T=JSON.parse(localStorage.getItem("workoutPlans")||"[]").map(A=>A.id===a.id?_:A);localStorage.setItem("workoutPlans",JSON.stringify(T))}else{const b=JSON.parse(localStorage.getItem("workoutPlans")||"[]").map(T=>T.id===a.id?_:T);localStorage.setItem("workoutPlans",JSON.stringify(b))}e(t.map(I=>I.id===a.id?_:I)),s(null)}catch(_){console.error("Error updating workout plan:",_),alert("Failed to update workout plan. Please try again.")}};return r?f.jsxs("div",{className:"min-h-screen hero-gradient relative flex items-center justify-center",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}20`}}),f.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.primary[500]}20`}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}10`}})]}),f.jsxs("div",{className:"text-center relative z-10",children:[f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500 mx-auto"}),f.jsx("p",{className:"mt-4 text-gray-300",children:"Loading workout plans..."})]})]}):f.jsxs("div",{className:"min-h-screen hero-gradient relative p-6",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}20`}}),f.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.primary[500]}20`}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}10`}})]}),f.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("button",{onClick:()=>c("/dashboard"),className:"flex items-center gap-2 transition-colors nav-button text-white hover:text-gray-300",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),f.jsx("div",{className:"text-sm text-secondary",children:"Workout Plans"})]})}),f.jsx("div",{className:"mb-6 md:mb-8",style:{backgroundColor:p.headerBg,color:p.headerText},children:f.jsxs("div",{className:"p-4 md:p-8 rounded-lg",children:[f.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 text-primary",children:"Workout Plans"}),f.jsx("p",{className:"text-secondary text-sm md:text-base",children:"Create and manage your workout routines"})]})}),f.jsxs("div",{className:"mb-6 md:mb-8 flex flex-col lg:flex-row gap-4 justify-between items-start lg:items-center",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 w-full lg:w-auto",children:[f.jsxs("select",{value:l.difficulty,onChange:v=>u({...l,difficulty:v.target.value}),className:"px-3 md:px-4 py-2 glassmorphism rounded-lg style={{ color: 'var(--glassmorphism-text)' }} focus:outline-none focus:ring-2 focus:ring-border-focus text-sm md:text-base",children:[f.jsx("option",{value:"",children:"All Difficulties"}),f.jsx("option",{value:"beginner",children:"Beginner"}),f.jsx("option",{value:"intermediate",children:"Intermediate"}),f.jsx("option",{value:"advanced",children:"Advanced"})]}),f.jsxs("select",{value:l.category,onChange:v=>u({...l,category:v.target.value}),className:"px-3 md:px-4 py-2 glassmorphism rounded-lg style={{ color: 'var(--glassmorphism-text)' }} focus:outline-none focus:ring-2 focus:ring-border-focus text-sm md:text-base",children:[f.jsx("option",{value:"",children:"All Categories"}),f.jsx("option",{value:"strength",children:"Strength"}),f.jsx("option",{value:"cardio",children:"Cardio"}),f.jsx("option",{value:"flexibility",children:"Flexibility"}),f.jsx("option",{value:"mixed",children:"Mixed"})]}),f.jsx("input",{type:"text",placeholder:"Search plans...",value:l.search,onChange:v=>u({...l,search:v.target.value}),className:"px-3 md:px-4 py-2 glassmorphism rounded-lg style={{ color: 'var(--glassmorphism-text)' }} placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-border-focus text-sm md:text-base"})]}),f.jsx("button",{onClick:()=>o(!0),className:"w-full sm:w-auto bg-btn-primary-bg text-btn-primary-text px-4 md:px-6 py-2 rounded-lg hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors text-sm md:text-base",children:"Create New Plan"})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:m.map(v=>f.jsxs("div",{className:"glassmorphism rounded-lg p-6 hover:shadow-lg transition-shadow",style:{borderLeftColor:p.accentBorder,borderLeftWidth:"4px"},children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx("h3",{className:"text-xl font-semibold style={{ color: 'var(--glassmorphism-text)' }}",children:v.name}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>s(v),className:"style={{ color: 'var(--glassmorphism-text-muted)' }} hover:style={{ color: 'var(--glassmorphism-text)' }} transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),f.jsx("button",{onClick:()=>v.id&&w(v.id),className:"style={{ color: 'var(--glassmorphism-text-muted)' }} hover:text-red-500 transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),v.description&&f.jsx("p",{className:"style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-4",children:v.description}),f.jsxs("div",{className:"space-y-2 mb-4",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text-muted)' }}",children:"Difficulty:"}),f.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${v.difficulty==="beginner"?"bg-green-100 text-green-800":v.difficulty==="intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:v.difficulty.charAt(0).toUpperCase()+v.difficulty.slice(1)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text-muted)' }}",children:"Category:"}),f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text)' }} capitalize",children:v.category})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text-muted)' }}",children:"Duration:"}),f.jsxs("span",{className:"style={{ color: 'var(--glassmorphism-text)' }}",children:[v.duration," min"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text-muted)' }}",children:"Exercises:"}),f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text)' }}",children:v.exercises.length})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>g(v),className:"flex-1 bg-btn-primary-bg text-btn-primary-text py-2 px-4 rounded-lg hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Start Workout"}),f.jsx("button",{className:"px-4 py-2 border border-card-border style={{ color: 'var(--glassmorphism-text)' }} rounded-lg hover:glassmorphism focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"View Details"})]})]},v.id))}),m.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"w-24 h-24 mx-auto mb-4 glassmorphism rounded-full flex items-center justify-center",children:f.jsx("svg",{className:"w-12 h-12 style={{ color: 'var(--glassmorphism-text-muted)' }}",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),f.jsx("h3",{className:"text-xl font-semibold style={{ color: 'var(--glassmorphism-text)' }} mb-2",children:"No workout plans found"}),f.jsx("p",{className:"style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-4",children:"Create your first workout plan to get started"}),f.jsx("button",{onClick:()=>o(!0),className:"bg-btn-primary-bg text-btn-primary-text px-6 py-2 rounded-lg hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Create New Plan"})]})]}),(i||a)&&f.jsx(s7,{plan:a,onSave:a?x:y,onClose:()=>{o(!1),s(null)}})]})}function s7({plan:t,onSave:e,onClose:r}){const[n,i]=D.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",difficulty:(t==null?void 0:t.difficulty)||"beginner",category:(t==null?void 0:t.category)||"strength",duration:(t==null?void 0:t.duration)||30,isPublic:(t==null?void 0:t.isPublic)||!1}),[o,a]=D.useState((t==null?void 0:t.exercises)||[{id:crypto.randomUUID(),name:"",sets:1,reps:1,weight:0,restTime:60,notes:""}]),s=d=>{d.preventDefault(),e({...n,exercises:o})},l=()=>{a([...o,{id:crypto.randomUUID(),name:"",sets:1,reps:1,weight:0,restTime:60,notes:""}])},u=d=>{o.length>1&&a(o.filter(p=>p.id!==d))},c=(d,p,m)=>{a(o.map(w=>w.id===d?{...w,[p]:m}:w))};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:f.jsx("div",{className:"glassmorphism rounded-lg max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-4 sm:p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-bold style={{ color: 'var(--glassmorphism-text)' }}",children:t?"Edit Workout Plan":"Create New Workout Plan"}),f.jsx("button",{onClick:r,className:"style={{ color: 'var(--glassmorphism-text-muted)' }} hover:style={{ color: 'var(--glassmorphism-text)' }} transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("form",{onSubmit:s,className:"space-y-4 sm:space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Plan Name"}),f.jsx("input",{type:"text",value:n.name,onChange:d=>i({...n,name:d.target.value}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Duration (minutes)"}),f.jsx("input",{type:"number",value:n.duration,onChange:d=>i({...n,duration:parseInt(d.target.value)}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",min:"1",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Description"}),f.jsx("textarea",{value:n.description,onChange:d=>i({...n,description:d.target.value}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",rows:3})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Difficulty"}),f.jsxs("select",{value:n.difficulty,onChange:d=>i({...n,difficulty:d.target.value}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",children:[f.jsx("option",{value:"beginner",children:"Beginner"}),f.jsx("option",{value:"intermediate",children:"Intermediate"}),f.jsx("option",{value:"advanced",children:"Advanced"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Category"}),f.jsxs("select",{value:n.category,onChange:d=>i({...n,category:d.target.value}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",children:[f.jsx("option",{value:"strength",children:"Strength"}),f.jsx("option",{value:"cardio",children:"Cardio"}),f.jsx("option",{value:"flexibility",children:"Flexibility"}),f.jsx("option",{value:"mixed",children:"Mixed"})]})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",id:"isPublic",checked:n.isPublic,onChange:d=>i({...n,isPublic:d.target.checked}),className:"mr-2"}),f.jsx("label",{htmlFor:"isPublic",className:"style={{ color: 'var(--glassmorphism-text-secondary)' }}",children:"Make this plan public"})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold style={{ color: 'var(--glassmorphism-text)' }}",children:"Exercises"}),f.jsx("button",{type:"button",onClick:l,className:"bg-btn-primary-bg text-btn-primary-text px-4 py-2 rounded-md hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Add Exercise"})]}),f.jsx("div",{className:"space-y-4",children:o.map((d,p)=>f.jsxs("div",{className:"border border-card-border rounded-lg p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("h4",{className:"text-md font-medium style={{ color: 'var(--glassmorphism-text)' }}",children:["Exercise ",p+1]}),o.length>1&&f.jsx("button",{type:"button",onClick:()=>u(d.id),className:"text-red-500 hover:text-red-700 transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-1",children:"Exercise Name"}),f.jsx("input",{type:"text",value:d.name,onChange:m=>c(d.id,"name",m.target.value),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-1",children:"Sets"}),f.jsx("input",{type:"number",value:d.sets,onChange:m=>c(d.id,"sets",parseInt(m.target.value)),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",min:"1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-1",children:"Reps"}),f.jsx("input",{type:"number",value:d.reps,onChange:m=>c(d.id,"reps",parseInt(m.target.value)),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",min:"1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-1",children:"Weight (lbs)"}),f.jsx("input",{type:"number",value:d.weight||0,onChange:m=>c(d.id,"weight",parseFloat(m.target.value)),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",min:"0",step:"0.5"})]})]}),f.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-1",children:"Rest Time (seconds)"}),f.jsx("input",{type:"number",value:d.restTime||60,onChange:m=>c(d.id,"restTime",parseInt(m.target.value)),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",min:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-1",children:"Notes"}),f.jsx("input",{type:"text",value:d.notes||"",onChange:m=>c(d.id,"notes",m.target.value),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",placeholder:"Optional notes..."})]})]})]},d.id))})]}),f.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-card-border",children:[f.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 border border-card-border style={{ color: 'var(--glassmorphism-text)' }} rounded-md hover:glassmorphism focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-6 py-2 bg-btn-primary-bg text-btn-primary-text rounded-md hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:t?"Update Plan":"Create Plan"})]})]})]})})})}function l7({totalDuration:t,onHalfway:e,onComplete:r,onTimeUpdate:n,isActive:i,onStart:o,onPause:a,onResume:s}){const[l,u]=D.useState(t*60),[c,d]=D.useState(!1),[p,m]=D.useState(!1),[w,g]=D.useState(!1),y=D.useRef(null),x=A=>{const S=Math.floor(A/60),P=A%60;return`${S.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`},v=(t*60-l)/(t*60)*100;D.useEffect(()=>(i&&!c&&p?y.current=setInterval(()=>{u(A=>{const S=A-1;!w&&S<=t*60/2&&(g(!0),ze.announceHalfway(),e==null||e());const P=Math.floor(S/60);return P>0&&P%5===0&&S%60===0&&ze.announceTimeRemaining(P),S<=0?(ze.announceWorkoutComplete("Workout",t),r==null||r(),0):(n==null||n(S),S)})},1e3):y.current&&(clearInterval(y.current),y.current=null),()=>{y.current&&clearInterval(y.current)}),[i,c,p,t,e,r,n,w]);const _=()=>{m(!0),d(!1),ze.announceWorkoutStart("Your Workout"),o==null||o()},I=()=>{d(!0),ze.speak("Workout paused.","normal"),a==null||a()},b=()=>{d(!1),ze.speak("Workout resumed. Let's continue!","normal"),s==null||s()},T=()=>{m(!1),d(!1),u(t*60),g(!1),ze.speak("Workout stopped.","normal")};return f.jsx("div",{className:"glassmorphism p-6 rounded-2xl",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-2xl font-bold mb-4",style:{color:"var(--glassmorphism-text)"},children:"Workout Timer"}),f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"text-6xl font-mono font-bold mb-2",style:{color:"var(--glassmorphism-text)"},children:x(l)}),f.jsx("div",{className:"text-sm",style:{color:"var(--glassmorphism-text-muted)"},children:c?"Paused":p?"In Progress":"Ready to Start"})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 mb-2",children:f.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 h-3 rounded-full transition-all duration-1000",style:{width:`${v}%`}})}),f.jsxs("div",{className:"text-sm",style:{color:"var(--glassmorphism-text-muted)"},children:[Math.round(v),"% Complete"]})]}),f.jsx("div",{className:"flex justify-center gap-4",children:p?f.jsxs(f.Fragment,{children:[c?f.jsx("button",{onClick:b,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 font-semibold",children:"Resume"}):f.jsx("button",{onClick:I,className:"bg-yellow-600 text-white px-6 py-3 rounded-xl hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 transition-all duration-300 font-semibold",children:"Pause"}),f.jsx("button",{onClick:T,className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-all duration-300 font-semibold",children:"Stop"})]}):f.jsx("button",{onClick:_,className:"bg-green-600 text-white px-8 py-3 rounded-xl hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-all duration-300 font-semibold",children:"Start Workout"})}),f.jsx("div",{className:"mt-4 pt-4 border-t border-gray-600",children:f.jsxs("div",{className:"flex items-center justify-center gap-4",children:[f.jsx("span",{className:"text-sm",style:{color:"var(--glassmorphism-text-muted)"},children:"Voice Notes:"}),f.jsx("button",{onClick:()=>ze.setEnabled(!ze.isVoiceEnabled()),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ${ze.isVoiceEnabled()?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-gray-300 hover:bg-gray-700"}`,children:ze.isVoiceEnabled()?"Enabled":"Disabled"}),f.jsx("button",{onClick:()=>ze.announceEncouragement(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 transition-all duration-300",children:"Encouragement"})]})})]})})}function u7({plan:t,onWorkoutComplete:e,onWorkoutProgress:r}){const[n,i]=D.useState(0),[o,a]=D.useState(1),[s,l]=D.useState(!1),[u,c]=D.useState(null),[d,p]=D.useState({}),[m,w]=D.useState([]),g=t.exercises[n],y=t.exercises.reduce((P,N)=>P+N.sets,0),x=Object.values(d).reduce((P,N)=>P+N,0),v=x/y*100;D.useEffect(()=>{if(s&&g){const P=setTimeout(()=>{_()},3e4);return()=>clearTimeout(P)}},[s,g,o]);const _=()=>{if(!g)return;const P=g.id,N={...d,[P]:(d[P]||0)+1};p(N);const O={exerciseId:g.id,exerciseName:g.name,setNumber:o,reps:g.reps,weight:g.weight,completedAt:new Date,timestamp:Date.now()},C=[...m,O];w(C),ze.announceSetComplete(o,g.sets),r({exerciseId:g.id,exerciseName:g.name,setNumber:o,totalSets:g.sets,completedSets:N[P],progress:C}),o>=g.sets?n<t.exercises.length-1?(i(j=>j+1),a(1),ze.announceExerciseStart(t.exercises[n+1].name,t.exercises[n+1].sets)):I():(a(j=>j+1),ze.announceRestTime(30))},I=()=>{const P=new Date,N=u?Math.round((P.getTime()-u.getTime())/6e4):0,O={planId:t.id,planName:t.name,exercises:t.exercises.map(C=>({...C,completedSets:d[C.id]||0})),totalSets:y,completedSets:x,duration:N,startedAt:u,completedAt:P,progress:m,status:"completed"};ze.announceWorkoutComplete(t.name,N),e(O),l(!1)},b=()=>{l(!0),c(new Date),ze.announceWorkoutStart(t.name),ze.announceExerciseStart(g.name,g.sets)},T=()=>{ze.announceHalfway()},A=()=>{I()},S=P=>{};return f.jsxs("div",{className:"space-y-6",children:[f.jsx(l7,{totalDuration:t.duration,isActive:s,onStart:b,onHalfway:T,onComplete:A,onTimeUpdate:S}),s&&g&&f.jsxs("div",{className:"glassmorphism p-6 rounded-2xl",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--glassmorphism-text)"},children:"Current Exercise"}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h4",{className:"text-2xl font-semibold mb-2",style:{color:"var(--glassmorphism-text)"},children:g.name}),f.jsxs("div",{className:"text-lg",style:{color:"var(--glassmorphism-text-secondary)"},children:["Set ",o," of ",g.sets]}),f.jsxs("div",{className:"text-sm",style:{color:"var(--glassmorphism-text-muted)"},children:[g.reps," reps × ",g.weight," lbs"]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 mb-2",children:f.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 h-3 rounded-full transition-all duration-500",style:{width:`${o/g.sets*100}%`}})}),f.jsxs("div",{className:"text-sm text-center",style:{color:"var(--glassmorphism-text-muted)"},children:[Math.round(o/g.sets*100),"% Complete"]})]}),f.jsx("div",{className:"text-center",children:f.jsx("button",{onClick:_,className:"bg-primary-600 text-white px-8 py-3 rounded-xl hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-300 font-semibold",children:"Complete Set"})})]}),f.jsxs("div",{className:"glassmorphism p-6 rounded-2xl",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--glassmorphism-text)"},children:"Workout Progress"}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[f.jsx("span",{style:{color:"var(--glassmorphism-text-muted)"},children:"Overall Progress"}),f.jsxs("span",{style:{color:"var(--glassmorphism-text)"},children:[Math.round(v),"%"]})]}),f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:f.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${v}%`}})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold",style:{color:"var(--glassmorphism-text)"},children:x}),f.jsx("div",{style:{color:"var(--glassmorphism-text-muted)"},children:"Sets Completed"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold",style:{color:"var(--glassmorphism-text)"},children:y-x}),f.jsx("div",{style:{color:"var(--glassmorphism-text-muted)"},children:"Sets Remaining"})]})]})]}),f.jsxs("div",{className:"glassmorphism p-6 rounded-2xl",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--glassmorphism-text)"},children:"Exercise Plan"}),f.jsx("div",{className:"space-y-3",children:t.exercises.map((P,N)=>{const O=N===n,C=N<n,j=d[P.id]||0;return f.jsx("div",{className:`p-4 rounded-lg transition-all duration-300 ${O?"bg-primary-500/20 border-2 border-primary-500":C?"bg-green-500/20 border-2 border-green-500":"bg-gray-700/50 border border-gray-600"}`,children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold",style:{color:"var(--glassmorphism-text)"},children:P.name}),f.jsxs("p",{className:"text-sm",style:{color:"var(--glassmorphism-text-muted)"},children:[P.sets," sets × ",P.reps," reps × ",P.weight," lbs"]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--glassmorphism-text)"},children:[j,"/",P.sets]}),f.jsx("div",{className:"text-xs",style:{color:"var(--glassmorphism-text-muted)"},children:O?"Current":C?"Completed":"Pending"})]})]})},P.id)})})]})]})}function c7(){const[t,e]=D.useState([]),[r,n]=D.useState([]),[i,o]=D.useState(!0),[a,s]=D.useState(null),[l,u]=D.useState(!1),[c,d]=D.useState(!1),[p,m]=D.useState(null),[w,g]=D.useState(!1),[y,x]=D.useState(null),v=Ni(),{user:_}=qn(),I=za.tracking;D.useEffect(()=>{(async()=>{try{if(o(!0),_)try{const[C,j]=await Promise.all([Ss.getAll(_.id),kn.getAll(_.id)]);n(C),e(j),localStorage.setItem("workoutPlans",JSON.stringify(C)),localStorage.setItem("workouts",JSON.stringify(j));const L=await kn.getActive(_.id);s(L)}catch(C){console.log("Firebase not available, using local storage:",C);const j=JSON.parse(localStorage.getItem("workoutPlans")||"[]"),L=JSON.parse(localStorage.getItem("workouts")||"[]");if(j.length>0){const F=j.map(B=>({...B,createdAt:new Date(B.createdAt),updatedAt:new Date(B.updatedAt)}));n(F)}else n([]);if(L.length>0){const F=L.map(G=>({...G,startedAt:new Date(G.startedAt),completedAt:G.completedAt?new Date(G.completedAt):void 0,updatedAt:new Date(G.updatedAt)}));e(F);const B=F.find(G=>G.status==="active");s(B||null)}else e([]),s(null)}else{const C=JSON.parse(localStorage.getItem("workoutPlans")||"[]"),j=JSON.parse(localStorage.getItem("workouts")||"[]");if(C.length>0){const L=C.map(F=>({...F,createdAt:new Date(F.createdAt),updatedAt:new Date(F.updatedAt)}));n(L)}else n([]);if(j.length>0){const L=j.map(B=>({...B,startedAt:new Date(B.startedAt),completedAt:B.completedAt?new Date(B.completedAt):void 0,updatedAt:new Date(B.updatedAt)}));e(L);const F=L.find(B=>B.status==="active");s(F||null)}else e([]),s(null)}}catch(C){console.error("Error loading data:",C),n([]),e([]),s(null)}finally{o(!1)}})()},[_]),D.useEffect(()=>{const O=localStorage.getItem("selectedPlan");if(O&&!a)try{const C=JSON.parse(O),j=r.find(L=>L.id===C.id)||C;j&&b(j),localStorage.removeItem("selectedPlan")}catch(C){console.error("Error parsing selected plan:",C),localStorage.removeItem("selectedPlan")}},[a]);const b=async O=>{if(_)try{const C=await kn.create({userId:_.id,planId:O.id,planName:O.name,name:O.name,exercises:O.exercises.map(j=>({id:crypto.randomUUID(),exerciseName:j.name,sets:[],completed:!1})),status:"active",startedAt:new Date});e([C,...t]),s(C),m(O),g(!0),u(!1)}catch(C){console.error("Error starting workout:",C),alert("Failed to start workout. Please try again.")}},T=async O=>{if(_)try{const C=await kn.update(a.id,{...O,status:"completed",completedAt:new Date,duration:O.duration});e(L=>L.map(F=>F.id===a.id?C:F)),s(null),m(null),g(!1),x(null);const j=await kn.getAll(_.id);e(j),ze.announceWorkoutComplete(O.planName,O.duration)}catch(C){console.error("Error completing workout:",C)}},A=O=>{x(O)},S=async(O,C)=>{if(!(!a||!a.id))try{const j={...a,exercises:a.exercises.map(B=>{if(B.id===O){const G={id:crypto.randomUUID(),setNumber:C.setNumber,reps:C.reps,weight:C.weight,restTime:C.restTime,completed:!0,notes:C.notes};return{...B,sets:[...B.sets,G]}}return B}),updatedAt:new Date};if(_)try{await kn.update(a.id,{exercises:j.exercises,updatedAt:j.updatedAt})}catch(B){console.log("Firebase not available, using local storage:",B)}const F=JSON.parse(localStorage.getItem("workouts")||"[]").map(B=>B.id===a.id?j:B);localStorage.setItem("workouts",JSON.stringify(F)),s(j),e(t.map(B=>B.id===a.id?j:B)),ze.speak(`Set ${C.setNumber} logged successfully!`,"medium")}catch(j){console.error("Error logging set:",j),alert("Failed to log set. Please try again.")}},P=async()=>{if(!(!a||!a.id))try{const O={...a,status:"completed",completedAt:new Date,duration:Math.floor((new Date().getTime()-a.startedAt.getTime())/6e4),updatedAt:new Date};if(_)try{await kn.update(a.id,{status:"completed",completedAt:O.completedAt,duration:O.duration,updatedAt:O.updatedAt})}catch(L){console.log("Firebase not available, using local storage:",L)}const j=JSON.parse(localStorage.getItem("workouts")||"[]").map(L=>L.id===a.id?O:L);localStorage.setItem("workouts",JSON.stringify(j)),e(t.map(L=>L.id===a.id?O:L)),s(null),ze.announceWorkoutComplete(a.name,O.duration)}catch(O){console.error("Error completing workout:",O),alert("Failed to complete workout. Please try again.")}},N=async O=>{if(window.confirm("Are you sure you want to delete this workout?"))try{if(_)try{await kn.delete(O)}catch(L){console.log("Firebase not available, using local storage:",L)}const j=JSON.parse(localStorage.getItem("workouts")||"[]").filter(L=>L.id!==O);localStorage.setItem("workouts",JSON.stringify(j)),e(t.filter(L=>L.id!==O)),(a==null?void 0:a.id)===O&&s(null)}catch(C){console.error("Error deleting workout:",C),alert("Failed to delete workout. Please try again.")}};return i?f.jsxs("div",{className:"min-h-screen hero-gradient relative flex items-center justify-center",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}20`}}),f.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.primary[500]}20`}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}10`}})]}),f.jsxs("div",{className:"text-center relative z-10",children:[f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500 mx-auto"}),f.jsx("p",{className:"mt-4 text-gray-300",children:"Loading workout data..."})]})]}):f.jsxs("div",{className:"min-h-screen hero-gradient relative p-6",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}20`}}),f.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.primary[500]}20`}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}10`}})]}),f.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("button",{onClick:()=>v("/dashboard"),className:"flex items-center gap-2 transition-colors nav-button text-white hover:text-gray-300",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),f.jsx("div",{className:"text-sm text-secondary",children:a?"Active Workout":"Workout Tracking"})]})}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-2 text-primary",children:"Workout Tracking"}),f.jsx("p",{className:"text-secondary",children:"Track your workouts and monitor your progress"})]}),w&&p&&f.jsx("div",{className:"mb-8",children:f.jsx(u7,{plan:p,onWorkoutComplete:T,onWorkoutProgress:A})}),a&&!w&&f.jsxs("div",{className:"mb-8 glassmorphism rounded-lg p-6",style:{backgroundColor:I.activeBg},children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h2",{className:"text-2xl font-semibold",style:{color:"var(--glassmorphism-text)"},children:["Active Workout: ",a.name]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:P,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors",children:"Complete Workout"}),f.jsx("button",{onClick:()=>s(null),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"Pause"})]})]}),f.jsx("div",{className:"space-y-4",children:a.exercises.map(O=>f.jsx(d7,{exercise:O,onLogSet:C=>S(O.id,C)},O.id))})]}),!a&&!w&&f.jsx("div",{className:"mb-8",children:f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-2xl font-semibold",style:{color:"var(--glassmorphism-text)"},children:"Start New Workout"}),f.jsx("button",{onClick:()=>u(!0),className:"bg-btn-primary-bg text-btn-primary-text px-6 py-2 rounded-lg hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Start Workout"})]})}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--glassmorphism-text)"},children:"Workout History"}),f.jsx("div",{className:"space-y-4",children:t.length===0?f.jsxs("div",{className:"glassmorphism rounded-lg p-8 text-center",children:[f.jsx("div",{className:"text-6xl mb-4",children:"📊"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--glassmorphism-text)"},children:"No Workouts Yet"}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},className:"mb-4",children:"Start your first workout to begin tracking your fitness journey and see your progress here."}),f.jsx("button",{onClick:()=>u(!0),className:"bg-btn-primary-bg text-btn-primary-text px-6 py-2 rounded-lg hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Start Your First Workout"})]}):t.map(O=>f.jsxs("div",{className:"glassmorphism rounded-lg p-4",style:{backgroundColor:O.status==="completed"?I.completedBg:void 0},children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--glassmorphism-text)"},children:O.name}),O.planName&&f.jsxs("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:["From: ",O.planName]}),f.jsxs("div",{className:"flex gap-4 mt-2 text-sm",style:{color:"var(--glassmorphism-text-muted)"},children:[f.jsxs("span",{children:["Started: ",O.startedAt.toLocaleDateString()]}),O.completedAt&&f.jsxs("span",{children:["Completed: ",O.completedAt.toLocaleDateString()]}),O.duration&&f.jsxs("span",{children:["Duration: ",O.duration," min"]}),f.jsx("span",{className:`px-2 py-1 rounded text-xs ${O.status==="completed"?"bg-green-100 text-green-800":O.status==="in_progress"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:O.status.charAt(0).toUpperCase()+O.status.slice(1)})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>s(O),className:"text-gray-300 hover:text-white transition-colors",disabled:O.status==="completed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("button",{onClick:()=>N(O.id),className:"text-gray-300 hover:text-red-500 transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),O.exercises.length>0&&f.jsxs("div",{className:"mt-4",children:[f.jsx("h4",{className:"text-md font-medium mb-2",style:{color:"var(--glassmorphism-text)"},children:"Exercises:"}),f.jsx("div",{className:"space-y-2",children:O.exercises.map(C=>f.jsxs("div",{className:"text-sm",style:{color:"var(--glassmorphism-text-secondary)"},children:[f.jsx("span",{className:"font-medium",children:C.exerciseName}),C.sets.length>0&&f.jsxs("span",{className:"ml-2",children:["(",C.sets.length," sets completed)"]})]},C.id))})]})]},O.id))})]}),l&&f.jsx(f7,{plans:r,onStartWorkout:b,onClose:()=>u(!1)})]})]})}function d7({exercise:t,onLogSet:e}){const[r,n]=D.useState({reps:0,weight:0,restTime:60,notes:""}),i=t.sets.length+1,o=()=>{r.reps>0&&(e({exerciseId:t.id,setNumber:i,reps:r.reps,weight:r.weight,restTime:r.restTime,notes:r.notes}),n({reps:0,weight:0,restTime:60,notes:""}))};return f.jsxs("div",{className:"border border-card-border rounded-lg p-4",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--glassmorphism-text)"},children:t.exerciseName}),t.sets.length>0&&f.jsxs("div",{className:"mb-4",children:[f.jsx("h4",{className:"text-md font-medium mb-2",style:{color:"var(--glassmorphism-text-secondary)"},children:"Completed Sets:"}),f.jsx("div",{className:"space-y-2",children:t.sets.map(a=>f.jsxs("div",{className:"flex justify-between items-center glassmorphism rounded p-2",children:[f.jsxs("span",{style:{color:"var(--glassmorphism-text)"},children:["Set ",a.setNumber]}),f.jsxs("span",{style:{color:"var(--glassmorphism-text-secondary)"},children:[a.reps," reps ",a.weight>0&&`@ ${a.weight} lbs`]}),f.jsx("span",{className:"text-green-600",children:"✓"})]},a.id))})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-1",children:"Reps"}),f.jsx("input",{type:"number",value:r.reps,onChange:a=>n({...r,reps:parseInt(a.target.value)||0}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",min:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-1",children:"Weight (lbs)"}),f.jsx("input",{type:"number",value:r.weight,onChange:a=>n({...r,weight:parseFloat(a.target.value)||0}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",min:"0",step:"0.5"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-1",children:"Rest (sec)"}),f.jsx("input",{type:"number",value:r.restTime,onChange:a=>n({...r,restTime:parseInt(a.target.value)||60}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",min:"0"})]}),f.jsx("div",{className:"flex items-end",children:f.jsxs("button",{onClick:o,disabled:r.reps===0,className:"w-full bg-btn-primary-bg text-btn-primary-text py-2 px-4 rounded-md hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Log Set ",i]})})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-1",children:"Notes"}),f.jsx("input",{type:"text",value:r.notes,onChange:a=>n({...r,notes:a.target.value}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",placeholder:"Optional notes..."})]})]})}function f7({plans:t,onStartWorkout:e,onClose:r}){const[n,i]=D.useState(null),o=()=>{n&&e(n)};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsx("div",{className:"glassmorphism rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--glassmorphism-text)"},children:"Start New Workout"}),f.jsx("button",{onClick:r,className:"text-gray-300 hover:text-white transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"space-y-4",children:t.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"text-6xl mb-4",children:"💪"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--glassmorphism-text)"},children:"No Workout Plans Available"}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},className:"mb-4",children:"Create your first workout plan to get started with tracking workouts."}),f.jsx("button",{onClick:()=>{r(),window.location.href="/plans"},className:"bg-btn-primary-bg text-btn-primary-text px-6 py-2 rounded-lg hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Create Workout Plan"})]}):t.map(a=>f.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${(n==null?void 0:n.id)===a.id?"border-btn-primary-bg bg-btn-primary-bg bg-opacity-10":"border-card-border hover:border-btn-primary-bg"}`,onClick:()=>i(a),children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--glassmorphism-text)"},children:a.name}),a.description&&f.jsx("p",{className:"mt-1",style:{color:"var(--glassmorphism-text-secondary)"},children:a.description}),f.jsxs("div",{className:"flex gap-4 mt-2 text-sm",style:{color:"var(--glassmorphism-text-muted)"},children:[f.jsxs("span",{children:["Duration: ",a.duration," min"]}),f.jsxs("span",{children:["Exercises: ",a.exercises.length]}),f.jsx("span",{className:"capitalize",children:a.difficulty})]})]}),f.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${(n==null?void 0:n.id)===a.id?"border-btn-primary-bg bg-btn-primary-bg":"border-card-border"}`})]})},a.id))}),f.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-card-border",children:[f.jsx("button",{onClick:r,className:"px-6 py-2 border border-card-border text-white rounded-md hover:glassmorphism focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Cancel"}),f.jsx("button",{onClick:o,disabled:!n,className:"px-6 py-2 bg-btn-primary-bg text-btn-primary-text rounded-md hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Workout"})]})]})})})}function h7(){const[t,e]=D.useState([]),[r,n]=D.useState(!0),[i,o]=D.useState(!1),[a,s]=D.useState(null),[l,u]=D.useState({type:"",status:"",priority:"",search:""}),c=Ni(),{user:d}=qn(),p=za.goals;D.useEffect(()=>{(async()=>{try{if(n(!0),d)try{const T=await qi.getAll(d.id);e(T),localStorage.setItem("goals",JSON.stringify(T))}catch(T){console.log("Firebase not available, using local storage:",T);const A=JSON.parse(localStorage.getItem("goals")||"[]");if(A.length>0){const S=A.map(P=>({...P,createdAt:new Date(P.createdAt),updatedAt:new Date(P.updatedAt),targetDate:new Date(P.targetDate),completedAt:P.completedAt?new Date(P.completedAt):void 0}));e(S)}else e([])}else{const T=JSON.parse(localStorage.getItem("goals")||"[]");if(T.length>0){const A=T.map(S=>({...S,createdAt:new Date(S.createdAt),updatedAt:new Date(S.updatedAt),targetDate:new Date(S.targetDate),completedAt:S.completedAt?new Date(S.completedAt):void 0}));e(A)}else e([])}}catch(T){console.error("Error loading goals:",T),e([])}finally{n(!1)}})()},[d]);const m=t.filter(b=>{var N;const T=!l.type||b.type===l.type,A=!l.status||b.status===l.status,S=!l.priority||b.priority===l.priority,P=!l.search||b.title.toLowerCase().includes(l.search.toLowerCase())||((N=b.description)==null?void 0:N.toLowerCase().includes(l.search.toLowerCase()));return T&&A&&S&&P}),w=async b=>{if(window.confirm("Are you sure you want to delete this goal?"))try{if(d)try{await qi.delete(b);const A=JSON.parse(localStorage.getItem("goals")||"[]").filter(S=>S.id!==b);localStorage.setItem("goals",JSON.stringify(A))}catch(T){console.log("Firebase not available, using local storage:",T);const S=JSON.parse(localStorage.getItem("goals")||"[]").filter(P=>P.id!==b);localStorage.setItem("goals",JSON.stringify(S))}else{const A=JSON.parse(localStorage.getItem("goals")||"[]").filter(S=>S.id!==b);localStorage.setItem("goals",JSON.stringify(A))}e(t.filter(T=>T.id!==b))}catch(T){console.error("Error deleting goal:",T),alert("Failed to delete goal. Please try again.")}},g=async b=>{try{let T;if(d)try{T=await qi.create({...b,userId:d.id});const S=[...JSON.parse(localStorage.getItem("goals")||"[]"),T];localStorage.setItem("goals",JSON.stringify(S))}catch(A){console.log("Firebase not available, using local storage:",A),T={...b,id:crypto.randomUUID(),userId:d.id,createdAt:new Date,updatedAt:new Date};const P=[...JSON.parse(localStorage.getItem("goals")||"[]"),T];localStorage.setItem("goals",JSON.stringify(P))}else{T={...b,id:crypto.randomUUID(),userId:"anonymous",createdAt:new Date,updatedAt:new Date};const S=[...JSON.parse(localStorage.getItem("goals")||"[]"),T];localStorage.setItem("goals",JSON.stringify(S))}e(A=>[...A,T]),o(!1),ze.speak(`Goal created successfully! ${b.title} is now active.`,"high"),alert("Goal created successfully!")}catch(T){console.error("Error creating goal:",T),alert("Failed to create goal. Please try again.")}},y=async b=>{if(a)try{const T={...a,...b,updatedAt:new Date};if(d)try{await qi.update(a.id,b);const S=JSON.parse(localStorage.getItem("goals")||"[]").map(P=>P.id===a.id?T:P);localStorage.setItem("goals",JSON.stringify(S))}catch(A){console.log("Firebase not available, using local storage:",A);const P=JSON.parse(localStorage.getItem("goals")||"[]").map(N=>N.id===a.id?T:N);localStorage.setItem("goals",JSON.stringify(P))}else{const S=JSON.parse(localStorage.getItem("goals")||"[]").map(P=>P.id===a.id?T:P);localStorage.setItem("goals",JSON.stringify(S))}e(t.map(A=>A.id===a.id?T:A)),s(null)}catch(T){console.error("Error updating goal:",T),alert("Failed to update goal. Please try again.")}},x=async(b,T)=>{const A=t.find(P=>P.id===b);if(!A)return;const S={...A,currentValue:T.currentValue,updatedAt:new Date};T.currentValue>=A.targetValue&&A.status==="active"&&(S.status="completed",S.completedAt=new Date,ze.speak(`Congratulations! You've achieved your goal: ${A.title}!`,"high"));try{if(d)try{await qi.update(b,{currentValue:T.currentValue,status:S.status,completedAt:S.completedAt,updatedAt:S.updatedAt});const N=JSON.parse(localStorage.getItem("goals")||"[]").map(O=>O.id===b?S:O);localStorage.setItem("goals",JSON.stringify(N))}catch(P){console.log("Firebase not available, using local storage:",P);const O=JSON.parse(localStorage.getItem("goals")||"[]").map(C=>C.id===b?S:C);localStorage.setItem("goals",JSON.stringify(O))}else{const N=JSON.parse(localStorage.getItem("goals")||"[]").map(O=>O.id===b?S:O);localStorage.setItem("goals",JSON.stringify(N))}e(t.map(P=>P.id===b?S:P))}catch(P){console.error("Error updating goal progress:",P)}},v=async b=>{const T=t.find(S=>S.id===b);if(!T)return;const A={...T,status:"completed",completedAt:new Date,updatedAt:new Date};ze.speak(`Great job! You've completed your goal: ${T.title}!`,"high");try{if(d)try{await qi.update(b,{status:"completed",completedAt:A.completedAt,updatedAt:A.updatedAt});const P=JSON.parse(localStorage.getItem("goals")||"[]").map(N=>N.id===b?A:N);localStorage.setItem("goals",JSON.stringify(P))}catch(S){console.log("Firebase not available, using local storage:",S);const N=JSON.parse(localStorage.getItem("goals")||"[]").map(O=>O.id===b?A:O);localStorage.setItem("goals",JSON.stringify(N))}else{const P=JSON.parse(localStorage.getItem("goals")||"[]").map(N=>N.id===b?A:N);localStorage.setItem("goals",JSON.stringify(P))}e(t.map(S=>S.id===b?A:S))}catch(S){console.error("Error completing goal:",S)}},_=b=>Math.min(b.currentValue/b.targetValue*100,100),I=b=>{const T=new Date,A=b.getTime()-T.getTime();return Math.ceil(A/(1e3*60*60*24))};return r?f.jsx("div",{className:"min-h-screen hero-gradient flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500 mx-auto"}),f.jsx("p",{className:"mt-4 style={{ color: 'var(--glassmorphism-text-secondary)' }}",children:"Loading goals..."})]})}):f.jsxs("div",{className:"min-h-screen hero-gradient p-6",children:[f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("button",{onClick:()=>c("/dashboard"),className:"flex items-center gap-2 transition-colors nav-button text-white hover:text-gray-300",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),f.jsx("div",{className:"text-sm text-secondary",children:"Goals"})]})}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-2 text-primary",children:"Goals"}),f.jsx("p",{className:"text-secondary",children:"Set and track your fitness goals"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[f.jsx("div",{className:"glassmorphism rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:f.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-2xl font-bold style={{ color: 'var(--glassmorphism-text)' }}",children:t.filter(b=>b.status==="completed").length}),f.jsx("p",{className:"style={{ color: 'var(--glassmorphism-text-secondary)' }}",children:"Completed"})]})]})}),f.jsx("div",{className:"glassmorphism rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-2xl font-bold style={{ color: 'var(--glassmorphism-text)' }}",children:t.filter(b=>b.status==="active").length}),f.jsx("p",{className:"style={{ color: 'var(--glassmorphism-text-secondary)' }}",children:"Active"})]})]})}),f.jsx("div",{className:"glassmorphism rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:f.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-2xl font-bold style={{ color: 'var(--glassmorphism-text)' }}",children:t.filter(b=>b.status==="active"&&I(b.targetDate)<30).length}),f.jsx("p",{className:"style={{ color: 'var(--glassmorphism-text-secondary)' }}",children:"Due Soon"})]})]})}),f.jsx("div",{className:"glassmorphism rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:f.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsxs("p",{className:"text-2xl font-bold style={{ color: 'var(--glassmorphism-text)' }}",children:[Math.round(t.filter(b=>b.status==="completed").length/t.length*100)||0,"%"]}),f.jsx("p",{className:"style={{ color: 'var(--glassmorphism-text-secondary)' }}",children:"Success Rate"})]})]})})]}),f.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsxs("select",{value:l.type,onChange:b=>u({...l,type:b.target.value}),className:"px-4 py-2 glassmorphism rounded-lg style={{ color: 'var(--glassmorphism-text)' }} focus:outline-none focus:ring-2 focus:ring-border-focus",children:[f.jsx("option",{value:"",children:"All Types"}),f.jsx("option",{value:"weight_loss",children:"Weight Loss"}),f.jsx("option",{value:"weight_gain",children:"Weight Gain"}),f.jsx("option",{value:"muscle_gain",children:"Muscle Gain"}),f.jsx("option",{value:"endurance",children:"Endurance"}),f.jsx("option",{value:"strength",children:"Strength"}),f.jsx("option",{value:"flexibility",children:"Flexibility"}),f.jsx("option",{value:"custom",children:"Custom"})]}),f.jsxs("select",{value:l.status,onChange:b=>u({...l,status:b.target.value}),className:"px-4 py-2 glassmorphism rounded-lg style={{ color: 'var(--glassmorphism-text)' }} focus:outline-none focus:ring-2 focus:ring-border-focus",children:[f.jsx("option",{value:"",children:"All Status"}),f.jsx("option",{value:"active",children:"Active"}),f.jsx("option",{value:"completed",children:"Completed"}),f.jsx("option",{value:"paused",children:"Paused"}),f.jsx("option",{value:"cancelled",children:"Cancelled"})]}),f.jsxs("select",{value:l.priority,onChange:b=>u({...l,priority:b.target.value}),className:"px-4 py-2 glassmorphism rounded-lg style={{ color: 'var(--glassmorphism-text)' }} focus:outline-none focus:ring-2 focus:ring-border-focus",children:[f.jsx("option",{value:"",children:"All Priorities"}),f.jsx("option",{value:"low",children:"Low"}),f.jsx("option",{value:"medium",children:"Medium"}),f.jsx("option",{value:"high",children:"High"})]}),f.jsx("input",{type:"text",placeholder:"Search goals...",value:l.search,onChange:b=>u({...l,search:b.target.value}),className:"px-4 py-2 glassmorphism rounded-lg style={{ color: 'var(--glassmorphism-text)' }} placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-border-focus"})]}),f.jsx("button",{onClick:()=>o(!0),className:"bg-btn-primary-bg text-btn-primary-text px-6 py-2 rounded-lg hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Create New Goal"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.length===0?f.jsxs("div",{className:"col-span-full glassmorphism rounded-lg p-8 text-center",children:[f.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--glassmorphism-text)"},children:"No Goals Set Yet"}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},className:"mb-4",children:"Set your first fitness goal to start tracking your progress and stay motivated on your fitness journey."}),f.jsx("button",{onClick:()=>o(!0),className:"bg-btn-primary-bg text-btn-primary-text px-6 py-2 rounded-lg hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Create Your First Goal"})]}):m.map(b=>f.jsxs("div",{className:"glassmorphism rounded-lg p-6 hover:shadow-lg transition-shadow",style:{backgroundColor:p.cardBg},children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx("h3",{className:"text-xl font-semibold style={{ color: 'var(--glassmorphism-text)' }}",children:b.title}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>s(b),className:"style={{ color: 'var(--glassmorphism-text-muted)' }} hover:style={{ color: 'var(--glassmorphism-text)' }} transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),f.jsx("button",{onClick:()=>w(b.id),className:"style={{ color: 'var(--glassmorphism-text-muted)' }} hover:text-red-500 transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),b.description&&f.jsx("p",{className:"style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-4",children:b.description}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }}",children:"Progress"}),f.jsxs("span",{className:"text-sm font-medium style={{ color: 'var(--glassmorphism-text)' }}",children:[b.currentValue," / ",b.targetValue," ",b.unit]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${_(b)}%`,backgroundColor:b.status==="completed"?p.completedIcon:p.progressFill}})}),f.jsx("div",{className:"text-right mt-1",children:f.jsxs("span",{className:"text-sm style={{ color: 'var(--glassmorphism-text-muted)' }}",children:[Math.round(_(b)),"%"]})})]}),f.jsxs("div",{className:"space-y-2 mb-4",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text-muted)' }}",children:"Type:"}),f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text)' }} capitalize",children:b.type.replace("_"," ")})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text-muted)' }}",children:"Priority:"}),f.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${b.priority==="high"?"bg-red-100 text-red-800":b.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:b.priority.charAt(0).toUpperCase()+b.priority.slice(1)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text-muted)' }}",children:"Target Date:"}),f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text)' }}",children:b.targetDate.toLocaleDateString()})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text-muted)' }}",children:"Days Remaining:"}),f.jsx("span",{className:`text-sm font-medium ${I(b.targetDate)<0?"text-red-500":I(b.targetDate)<30?"text-yellow-500":"text-green-500"}`,children:I(b.targetDate)<0?"Overdue":`${I(b.targetDate)} days`})]})]}),f.jsxs("div",{className:"flex gap-2",children:[b.status==="active"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>{const T=prompt(`Enter new progress value (current: ${b.currentValue} ${b.unit}):`);T!==null&&!isNaN(parseFloat(T))&&x(b.id,{currentValue:parseFloat(T)})},className:"flex-1 bg-btn-primary-bg text-btn-primary-text py-2 px-4 rounded-lg hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Update Progress"}),f.jsx("button",{onClick:()=>v(b.id),className:"px-4 py-2 border border-green-500 text-green-500 rounded-lg hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors",children:"Complete"})]}),b.status==="completed"&&f.jsx("div",{className:"flex-1 text-center py-2 px-4 rounded-lg font-medium",style:{backgroundColor:p.completedIcon+"20",color:p.completedIcon},children:"✓ Completed"})]})]},b.id))})]}),(i||a)&&f.jsx(p7,{goal:a,onSave:a?y:g,onClose:()=>{o(!1),s(null)}})]})}function p7({goal:t,onSave:e,onClose:r}){const[n,i]=D.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",type:(t==null?void 0:t.type)||"custom",targetValue:(t==null?void 0:t.targetValue)||0,currentValue:(t==null?void 0:t.currentValue)||0,unit:(t==null?void 0:t.unit)||"",targetDate:t!=null&&t.targetDate?t.targetDate.toISOString().split("T")[0]:"",priority:(t==null?void 0:t.priority)||"medium",isPublic:(t==null?void 0:t.isPublic)||!1}),o=a=>{a.preventDefault(),e({...n,targetDate:new Date(n.targetDate)})};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsx("div",{className:"glassmorphism rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold style={{ color: 'var(--glassmorphism-text)' }}",children:t?"Edit Goal":"Create New Goal"}),f.jsx("button",{onClick:r,className:"style={{ color: 'var(--glassmorphism-text-muted)' }} hover:style={{ color: 'var(--glassmorphism-text)' }} transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("form",{onSubmit:o,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Goal Title"}),f.jsx("input",{type:"text",value:n.title,onChange:a=>i({...n,title:a.target.value}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Description"}),f.jsx("textarea",{value:n.description,onChange:a=>i({...n,description:a.target.value}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",rows:3})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Goal Type"}),f.jsxs("select",{value:n.type,onChange:a=>i({...n,type:a.target.value}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",children:[f.jsx("option",{value:"weight_loss",children:"Weight Loss"}),f.jsx("option",{value:"weight_gain",children:"Weight Gain"}),f.jsx("option",{value:"muscle_gain",children:"Muscle Gain"}),f.jsx("option",{value:"endurance",children:"Endurance"}),f.jsx("option",{value:"strength",children:"Strength"}),f.jsx("option",{value:"flexibility",children:"Flexibility"}),f.jsx("option",{value:"custom",children:"Custom"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Priority"}),f.jsxs("select",{value:n.priority,onChange:a=>i({...n,priority:a.target.value}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",children:[f.jsx("option",{value:"low",children:"Low"}),f.jsx("option",{value:"medium",children:"Medium"}),f.jsx("option",{value:"high",children:"High"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Target Value"}),f.jsx("input",{type:"number",value:n.targetValue,onChange:a=>i({...n,targetValue:parseFloat(a.target.value)||0}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",min:"0",step:"0.1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Current Value"}),f.jsx("input",{type:"number",value:n.currentValue,onChange:a=>i({...n,currentValue:parseFloat(a.target.value)||0}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",min:"0",step:"0.1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Unit"}),f.jsx("input",{type:"text",value:n.unit,onChange:a=>i({...n,unit:a.target.value}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",placeholder:"e.g., lbs, kg, miles",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-2",children:"Target Date"}),f.jsx("input",{type:"date",value:n.targetDate,onChange:a=>i({...n,targetDate:a.target.value}),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",required:!0})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",id:"isPublic",checked:n.isPublic,onChange:a=>i({...n,isPublic:a.target.checked}),className:"mr-2"}),f.jsx("label",{htmlFor:"isPublic",className:"style={{ color: 'var(--glassmorphism-text-secondary)' }}",children:"Make this goal public"})]}),f.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-card-border",children:[f.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 border border-card-border style={{ color: 'var(--glassmorphism-text)' }} rounded-md hover:glassmorphism focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-6 py-2 bg-btn-primary-bg text-btn-primary-text rounded-md hover:bg-btn-primary-hover focus:outline-none focus:ring-2 focus:ring-border-focus transition-colors",children:t?"Update Goal":"Create Goal"})]})]})]})})})}function m7(){const[t,e]=D.useState([]),[r,n]=D.useState(null),[i,o]=D.useState(!0),[a,s]=D.useState({exerciseId:"",recordType:"",search:""}),l=za.analytics;D.useEffect(()=>{(async()=>{try{o(!0),e([]),n({totalRecords:0,recordsThisMonth:0,recordsThisYear:0,recentRecords:[]})}catch(w){console.error("Error loading records:",w)}finally{o(!1)}})()},[]);const u=t.filter(m=>{var x;const w=!a.exerciseId||m.exerciseId===a.exerciseId,g=!a.recordType||m.recordType===a.recordType,y=!a.search||m.exerciseName.toLowerCase().includes(a.search.toLowerCase())||((x=m.notes)==null?void 0:x.toLowerCase().includes(a.search.toLowerCase()));return w&&g&&y}),c=m=>({max_weight:"Max Weight",max_reps:"Max Reps",max_volume:"Max Volume",max_duration:"Max Duration",best_time:"Best Time"})[m]||m,d=m=>({max_weight:"🏋️",max_reps:"💪",max_volume:"📊",max_duration:"⏱️",best_time:"⚡"})[m]||"🏆",p=m=>m?m>20?"text-green-600":m>10?"text-green-500":m>5?"text-yellow-500":"text-orange-500":"text-gray-400";return i?f.jsx("div",{className:"min-h-screen hero-gradient flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500 mx-auto"}),f.jsx("p",{className:"mt-4",style:{color:"var(--glassmorphism-text-secondary)"},children:"Loading personal records..."})]})}):f.jsx("div",{className:"min-h-screen hero-gradient p-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"mb-8",style:{backgroundColor:l.chartPrimary,color:"white"},children:f.jsxs("div",{className:"p-8 rounded-lg",children:[f.jsx("h1",{className:"text-4xl font-bold mb-2 text-primary",children:"Personal Records"}),f.jsx("p",{className:"text-secondary",children:"Track your achievements and celebrate your progress"})]})}),r&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[f.jsx("div",{className:"glassmorphism rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:f.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--glassmorphism-text)"},children:r.totalRecords}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:"Total Records"})]})]})}),f.jsx("div",{className:"glassmorphism rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--glassmorphism-text)"},children:r.recordsThisMonth}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:"This Month"})]})]})}),f.jsx("div",{className:"glassmorphism rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:f.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsxs("p",{className:"text-2xl font-bold",style:{color:"var(--glassmorphism-text)"},children:[r.biggestImprovement||0,"%"]}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:"Biggest Improvement"})]})]})}),f.jsx("div",{className:"glassmorphism rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:f.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--glassmorphism-text)"},children:r.mostImprovedExercise||"N/A"}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:"Most Improved"})]})]})})]}),f.jsx("div",{className:"mb-8 flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsxs("select",{value:a.recordType,onChange:m=>s({...a,recordType:m.target.value}),className:"px-4 py-2 glassmorphism rounded-lg style={{ color: 'var(--glassmorphism-text)' }} focus:outline-none focus:ring-2 focus:ring-border-focus",children:[f.jsx("option",{value:"",children:"All Record Types"}),f.jsx("option",{value:"max_weight",children:"Max Weight"}),f.jsx("option",{value:"max_reps",children:"Max Reps"}),f.jsx("option",{value:"max_volume",children:"Max Volume"}),f.jsx("option",{value:"max_duration",children:"Max Duration"}),f.jsx("option",{value:"best_time",children:"Best Time"})]}),f.jsx("input",{type:"text",placeholder:"Search records...",value:a.search,onChange:m=>s({...a,search:m.target.value}),className:"px-4 py-2 glassmorphism rounded-lg style={{ color: 'var(--glassmorphism-text)' }} placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-border-focus"})]})}),f.jsx("div",{className:"space-y-4",children:u.length===0?f.jsxs("div",{className:"glassmorphism rounded-lg p-8 text-center",children:[f.jsx("div",{className:"text-6xl mb-4",children:"🏆"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--glassmorphism-text)"},children:"No Personal Records Yet"}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:"Start tracking your workouts to see your personal records here. Records will be automatically tracked when you complete workouts."})]}):u.map(m=>f.jsxs("div",{className:"glassmorphism rounded-lg p-6 hover:shadow-lg transition-shadow",style:{borderLeftColor:l.chartSecondary,borderLeftWidth:"4px"},children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:"text-2xl",children:d(m.recordType)}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold style={{ color: 'var(--glassmorphism-text)' }}",children:m.exerciseName}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:c(m.recordType)})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-2xl font-bold",style:{color:"var(--glassmorphism-text)"},children:[m.value," ",m.unit]}),f.jsx("p",{className:"text-sm style={{ color: 'var(--glassmorphism-text-muted)' }}",children:m.workoutDate.toLocaleDateString()})]})]}),m.previousRecord&&f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text-muted)' }}",children:"Previous Record:"}),f.jsxs("span",{className:"style={{ color: 'var(--glassmorphism-text)' }}",children:[m.previousRecord," ",m.unit]})]}),m.improvement&&f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"style={{ color: 'var(--glassmorphism-text-muted)' }}",children:"Improvement:"}),f.jsxs("span",{className:`font-semibold ${p(m.improvement)}`,children:["+",m.improvement,"%"]})]})]}),m.notes&&f.jsx("div",{className:"mt-4 p-3 bg-bg-tertiary rounded-lg",children:f.jsxs("p",{className:"style={{ color: 'var(--glassmorphism-text-secondary)' }} italic",children:['"',m.notes,'"']})})]},m.id))})]})})}function ER(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=ER(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ve(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=ER(t))&&(n&&(n+=" "),n+=e);return n}var g7=Array.isArray,Ar=g7,y7=typeof mf=="object"&&mf&&mf.Object===Object&&mf,AR=y7,v7=AR,b7=typeof self=="object"&&self&&self.Object===Object&&self,x7=v7||b7||Function("return this")(),Hn=x7,w7=Hn,_7=w7.Symbol,qd=_7,dT=qd,TR=Object.prototype,S7=TR.hasOwnProperty,E7=TR.toString,Nu=dT?dT.toStringTag:void 0;function A7(t){var e=S7.call(t,Nu),r=t[Nu];try{t[Nu]=void 0;var n=!0}catch{}var i=E7.call(t);return n&&(e?t[Nu]=r:delete t[Nu]),i}var T7=A7,P7=Object.prototype,I7=P7.toString;function O7(t){return I7.call(t)}var k7=O7,fT=qd,N7=T7,j7=k7,C7="[object Null]",R7="[object Undefined]",hT=fT?fT.toStringTag:void 0;function D7(t){return t==null?t===void 0?R7:C7:hT&&hT in Object(t)?N7(t):j7(t)}var Ci=D7;function M7(t){return t!=null&&typeof t=="object"}var Ri=M7,$7=Ci,L7=Ri,V7="[object Symbol]";function F7(t){return typeof t=="symbol"||L7(t)&&$7(t)==V7}var ql=F7,B7=Ar,U7=ql,z7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W7=/^\w*$/;function G7(t,e){if(B7(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||U7(t)?!0:W7.test(t)||!z7.test(t)||e!=null&&t in Object(e)}var w_=G7;function q7(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Mo=q7;const Hl=De(Mo);var H7=Ci,K7=Mo,Y7="[object AsyncFunction]",X7="[object Function]",Q7="[object GeneratorFunction]",J7="[object Proxy]";function Z7(t){if(!K7(t))return!1;var e=H7(t);return e==X7||e==Q7||e==Y7||e==J7}var __=Z7;const ce=De(__);var eG=Hn,tG=eG["__core-js_shared__"],rG=tG,Xy=rG,pT=function(){var t=/[^.]+$/.exec(Xy&&Xy.keys&&Xy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function nG(t){return!!pT&&pT in t}var iG=nG,oG=Function.prototype,aG=oG.toString;function sG(t){if(t!=null){try{return aG.call(t)}catch{}try{return t+""}catch{}}return""}var PR=sG,lG=__,uG=iG,cG=Mo,dG=PR,fG=/[\\^$.*+?()[\]{}|]/g,hG=/^\[object .+?Constructor\]$/,pG=Function.prototype,mG=Object.prototype,gG=pG.toString,yG=mG.hasOwnProperty,vG=RegExp("^"+gG.call(yG).replace(fG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bG(t){if(!cG(t)||uG(t))return!1;var e=lG(t)?vG:hG;return e.test(dG(t))}var xG=bG;function wG(t,e){return t==null?void 0:t[e]}var _G=wG,SG=xG,EG=_G;function AG(t,e){var r=EG(t,e);return SG(r)?r:void 0}var Ka=AG,TG=Ka,PG=TG(Object,"create"),eg=PG,mT=eg;function IG(){this.__data__=mT?mT(null):{},this.size=0}var OG=IG;function kG(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var NG=kG,jG=eg,CG="__lodash_hash_undefined__",RG=Object.prototype,DG=RG.hasOwnProperty;function MG(t){var e=this.__data__;if(jG){var r=e[t];return r===CG?void 0:r}return DG.call(e,t)?e[t]:void 0}var $G=MG,LG=eg,VG=Object.prototype,FG=VG.hasOwnProperty;function BG(t){var e=this.__data__;return LG?e[t]!==void 0:FG.call(e,t)}var UG=BG,zG=eg,WG="__lodash_hash_undefined__";function GG(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=zG&&e===void 0?WG:e,this}var qG=GG,HG=OG,KG=NG,YG=$G,XG=UG,QG=qG;function Kl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Kl.prototype.clear=HG;Kl.prototype.delete=KG;Kl.prototype.get=YG;Kl.prototype.has=XG;Kl.prototype.set=QG;var JG=Kl;function ZG(){this.__data__=[],this.size=0}var eq=ZG;function tq(t,e){return t===e||t!==t&&e!==e}var S_=tq,rq=S_;function nq(t,e){for(var r=t.length;r--;)if(rq(t[r][0],e))return r;return-1}var tg=nq,iq=tg,oq=Array.prototype,aq=oq.splice;function sq(t){var e=this.__data__,r=iq(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():aq.call(e,r,1),--this.size,!0}var lq=sq,uq=tg;function cq(t){var e=this.__data__,r=uq(e,t);return r<0?void 0:e[r][1]}var dq=cq,fq=tg;function hq(t){return fq(this.__data__,t)>-1}var pq=hq,mq=tg;function gq(t,e){var r=this.__data__,n=mq(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var yq=gq,vq=eq,bq=lq,xq=dq,wq=pq,_q=yq;function Yl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Yl.prototype.clear=vq;Yl.prototype.delete=bq;Yl.prototype.get=xq;Yl.prototype.has=wq;Yl.prototype.set=_q;var rg=Yl,Sq=Ka,Eq=Hn,Aq=Sq(Eq,"Map"),E_=Aq,gT=JG,Tq=rg,Pq=E_;function Iq(){this.size=0,this.__data__={hash:new gT,map:new(Pq||Tq),string:new gT}}var Oq=Iq;function kq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Nq=kq,jq=Nq;function Cq(t,e){var r=t.__data__;return jq(e)?r[typeof e=="string"?"string":"hash"]:r.map}var ng=Cq,Rq=ng;function Dq(t){var e=Rq(this,t).delete(t);return this.size-=e?1:0,e}var Mq=Dq,$q=ng;function Lq(t){return $q(this,t).get(t)}var Vq=Lq,Fq=ng;function Bq(t){return Fq(this,t).has(t)}var Uq=Bq,zq=ng;function Wq(t,e){var r=zq(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Gq=Wq,qq=Oq,Hq=Mq,Kq=Vq,Yq=Uq,Xq=Gq;function Xl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xl.prototype.clear=qq;Xl.prototype.delete=Hq;Xl.prototype.get=Kq;Xl.prototype.has=Yq;Xl.prototype.set=Xq;var A_=Xl,IR=A_,Qq="Expected a function";function T_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Qq);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(T_.Cache||IR),r}T_.Cache=IR;var OR=T_;const Jq=De(OR);var Zq=OR,eH=500;function tH(t){var e=Zq(t,function(n){return r.size===eH&&r.clear(),n}),r=e.cache;return e}var rH=tH,nH=rH,iH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oH=/\\(\\)?/g,aH=nH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(iH,function(r,n,i,o){e.push(i?o.replace(oH,"$1"):n||r)}),e}),sH=aH;function lH(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var P_=lH,yT=qd,uH=P_,cH=Ar,dH=ql,vT=yT?yT.prototype:void 0,bT=vT?vT.toString:void 0;function kR(t){if(typeof t=="string")return t;if(cH(t))return uH(t,kR)+"";if(dH(t))return bT?bT.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var fH=kR,hH=fH;function pH(t){return t==null?"":hH(t)}var NR=pH,mH=Ar,gH=w_,yH=sH,vH=NR;function bH(t,e){return mH(t)?t:gH(t,e)?[t]:yH(vH(t))}var jR=bH,xH=ql;function wH(t){if(typeof t=="string"||xH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ig=wH,_H=jR,SH=ig;function EH(t,e){e=_H(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[SH(e[r++])];return r&&r==n?t:void 0}var I_=EH,AH=I_;function TH(t,e,r){var n=t==null?void 0:AH(t,e);return n===void 0?r:n}var CR=TH;const $r=De(CR);function PH(t){return t==null}var IH=PH;const ye=De(IH);var OH=Ci,kH=Ar,NH=Ri,jH="[object String]";function CH(t){return typeof t=="string"||!kH(t)&&NH(t)&&OH(t)==jH}var RH=CH;const Da=De(RH);var RR={exports:{}},Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_=Symbol.for("react.element"),k_=Symbol.for("react.portal"),og=Symbol.for("react.fragment"),ag=Symbol.for("react.strict_mode"),sg=Symbol.for("react.profiler"),lg=Symbol.for("react.provider"),ug=Symbol.for("react.context"),DH=Symbol.for("react.server_context"),cg=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),fg=Symbol.for("react.suspense_list"),hg=Symbol.for("react.memo"),pg=Symbol.for("react.lazy"),MH=Symbol.for("react.offscreen"),DR;DR=Symbol.for("react.module.reference");function rn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case O_:switch(t=t.type,t){case og:case sg:case ag:case dg:case fg:return t;default:switch(t=t&&t.$$typeof,t){case DH:case ug:case cg:case pg:case hg:case lg:return t;default:return e}}case k_:return e}}}Me.ContextConsumer=ug;Me.ContextProvider=lg;Me.Element=O_;Me.ForwardRef=cg;Me.Fragment=og;Me.Lazy=pg;Me.Memo=hg;Me.Portal=k_;Me.Profiler=sg;Me.StrictMode=ag;Me.Suspense=dg;Me.SuspenseList=fg;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(t){return rn(t)===ug};Me.isContextProvider=function(t){return rn(t)===lg};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===O_};Me.isForwardRef=function(t){return rn(t)===cg};Me.isFragment=function(t){return rn(t)===og};Me.isLazy=function(t){return rn(t)===pg};Me.isMemo=function(t){return rn(t)===hg};Me.isPortal=function(t){return rn(t)===k_};Me.isProfiler=function(t){return rn(t)===sg};Me.isStrictMode=function(t){return rn(t)===ag};Me.isSuspense=function(t){return rn(t)===dg};Me.isSuspenseList=function(t){return rn(t)===fg};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===og||t===sg||t===ag||t===dg||t===fg||t===MH||typeof t=="object"&&t!==null&&(t.$$typeof===pg||t.$$typeof===hg||t.$$typeof===lg||t.$$typeof===ug||t.$$typeof===cg||t.$$typeof===DR||t.getModuleId!==void 0)};Me.typeOf=rn;RR.exports=Me;var $H=RR.exports,LH=Ci,VH=Ri,FH="[object Number]";function BH(t){return typeof t=="number"||VH(t)&&LH(t)==FH}var MR=BH;const UH=De(MR);var zH=MR;function WH(t){return zH(t)&&t!=+t}var GH=WH;const Ql=De(GH);var ur=function(e){return e===0?0:e>0?1:-1},ca=function(e){return Da(e)&&e.indexOf("%")===e.length-1},Q=function(e){return UH(e)&&!Ql(e)},qH=function(e){return ye(e)},Pt=function(e){return Q(e)||Da(e)},HH=0,Jl=function(e){var r=++HH;return"".concat(e||"").concat(r)},cr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(e)&&!Da(e))return n;var o;if(ca(e)){var a=e.indexOf("%");o=r*parseFloat(e.slice(0,a))/100}else o=+e;return Ql(o)&&(o=n),i&&o>r&&(o=r),o},Zi=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},KH=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},gr=function(e,r){return Q(e)&&Q(r)?function(n){return e+n*(r-e)}:function(){return r}};function dp(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):$r(n,e))===r})}var YH=function(e,r){return Q(e)&&Q(r)?e-r:Da(e)&&Da(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Vs(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}var XH=["viewBox","children"],QH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xT=["points","pathLength"],Qy={svg:XH,polygon:xT,polyline:xT},N_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(D.isValidElement(e)&&(n=e.props),!Hl(n))return null;var i={};return Object.keys(n).forEach(function(o){N_.includes(o)&&(i[o]=r||function(a){return n[o](n,a)})}),i},JH=function(e,r,n){return function(i){return e(r,n,i),null}},Ma=function(e,r,n){if(!Hl(e)||H0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];N_.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=JH(a,r,n))}),i},ZH=["children"],eK=["children"];function wT(t,e){if(t==null)return{};var r=tK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}var _T={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},mi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ST=null,Jy=null,j_=function t(e){if(e===ST&&Array.isArray(Jy))return Jy;var r=[];return D.Children.forEach(e,function(n){ye(n)||($H.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Jy=r,ST=e,r};function Qr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return mi(i)}):n=[mi(e)],j_(t).forEach(function(i){var o=$r(i,"type.displayName")||$r(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function Or(t,e){var r=Qr(t,e);return r&&r[0]}var ET=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Q(n)||n<=0||!Q(i)||i<=0)},rK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nK=function(e){return e&&e.type&&Da(e.type)&&rK.indexOf(e.type)>=0},iK=function(e){return e&&K0(e)==="object"&&"clipDot"in e},oK=function(e,r,n,i){var o,a=(o=Qy==null?void 0:Qy[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!ce(e)&&(i&&a.includes(r)||QH.includes(r))||n&&N_.includes(r)},se=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!Hl(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;oK((s=i)===null||s===void 0?void 0:s[a],a,r,n)&&(o[a]=i[a])}),o},Y0=function t(e,r){if(e===r)return!0;var n=D.Children.count(e);if(n!==D.Children.count(r))return!1;if(n===0)return!0;if(n===1)return AT(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],a=r[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!AT(o,a))return!1}return!0},AT=function(e,r){if(ye(e)&&ye(r))return!0;if(!ye(e)&&!ye(r)){var n=e.props||{},i=n.children,o=wT(n,ZH),a=r.props||{},s=a.children,l=wT(a,eK);return i&&s?Vs(o,l)&&Y0(i,s):!i&&!s?Vs(o,l):!1}return!1},TT=function(e,r){var n=[],i={};return j_(e).forEach(function(o,a){if(nK(o))n.push(o);else if(o){var s=mi(o.type),l=r[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);n.push(d),i[s]=!0}}}),n},aK=function(e){var r=e&&e.type;return r&&_T[r]?_T[r]:null},sK=function(e,r){return j_(r).indexOf(e)},lK=["children","width","height","viewBox","className","style","title","desc"];function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X0.apply(this,arguments)}function uK(t,e){if(t==null)return{};var r=cK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q0(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=uK(t,lK),c=i||{width:r,height:n,x:0,y:0},d=ve("recharts-surface",o);return M.createElement("svg",X0({},se(u,!0,"svg"),{className:d,width:r,height:n,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var dK=["children","className"];function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J0.apply(this,arguments)}function fK(t,e){if(t==null)return{};var r=hK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Te=M.forwardRef(function(t,e){var r=t.children,n=t.className,i=fK(t,dK),o=ve("recharts-layer",n);return M.createElement("g",J0({className:o},se(i,!0),{ref:e}),r)}),xn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function pK(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}var mK=pK,gK=mK;function yK(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:gK(t,e,r)}var vK=yK,bK="\\ud800-\\udfff",xK="\\u0300-\\u036f",wK="\\ufe20-\\ufe2f",_K="\\u20d0-\\u20ff",SK=xK+wK+_K,EK="\\ufe0e\\ufe0f",AK="\\u200d",TK=RegExp("["+AK+bK+SK+EK+"]");function PK(t){return TK.test(t)}var $R=PK;function IK(t){return t.split("")}var OK=IK,LR="\\ud800-\\udfff",kK="\\u0300-\\u036f",NK="\\ufe20-\\ufe2f",jK="\\u20d0-\\u20ff",CK=kK+NK+jK,RK="\\ufe0e\\ufe0f",DK="["+LR+"]",Z0="["+CK+"]",eb="\\ud83c[\\udffb-\\udfff]",MK="(?:"+Z0+"|"+eb+")",VR="[^"+LR+"]",FR="(?:\\ud83c[\\udde6-\\uddff]){2}",BR="[\\ud800-\\udbff][\\udc00-\\udfff]",$K="\\u200d",UR=MK+"?",zR="["+RK+"]?",LK="(?:"+$K+"(?:"+[VR,FR,BR].join("|")+")"+zR+UR+")*",VK=zR+UR+LK,FK="(?:"+[VR+Z0+"?",Z0,FR,BR,DK].join("|")+")",BK=RegExp(eb+"(?="+eb+")|"+FK+VK,"g");function UK(t){return t.match(BK)||[]}var zK=UK,WK=OK,GK=$R,qK=zK;function HK(t){return GK(t)?qK(t):WK(t)}var KK=HK,YK=vK,XK=$R,QK=KK,JK=NR;function ZK(t){return function(e){e=JK(e);var r=XK(e)?QK(e):void 0,n=r?r[0]:e.charAt(0),i=r?YK(r,1).join(""):e.slice(1);return n[t]()+i}}var eY=ZK,tY=eY,rY=tY("toUpperCase"),nY=rY;const mg=De(nY);function We(t){return function(){return t}}const WR=Math.cos,hp=Math.sin,An=Math.sqrt,pp=Math.PI,gg=2*pp,tb=Math.PI,rb=2*tb,Zo=1e-6,iY=rb-Zo;function GR(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function oY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return GR;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class aY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?GR:oY(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=n-e,u=i-r,c=a-e,d=s-r,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Zo)if(!(Math.abs(d*l-u*c)>Zo)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-a,w=i-s,g=l*l+u*u,y=m*m+w*w,x=Math.sqrt(g),v=Math.sqrt(p),_=o*Math.tan((tb-Math.acos((g+p-y)/(2*x*v)))/2),I=_/v,b=_/x;Math.abs(I-1)>Zo&&this._append`L${e+I*c},${r+I*d}`,this._append`A${o},${o},0,0,${+(d*m>c*w)},${this._x1=e+b*l},${this._y1=r+b*u}`}}arc(e,r,n,i,o,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,c=r+l,d=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Zo||Math.abs(this._y1-c)>Zo)&&this._append`L${u},${c}`,n&&(p<0&&(p=p%rb+rb),p>iY?this._append`A${n},${n},0,1,${d},${e-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:p>Zo&&this._append`A${n},${n},0,${+(p>=tb)},${d},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function C_(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new aY(e)}function R_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qR(t){this._context=t}qR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yg(t){return new qR(t)}function HR(t){return t[0]}function KR(t){return t[1]}function YR(t,e){var r=We(!0),n=null,i=yg,o=null,a=C_(s);t=typeof t=="function"?t:t===void 0?HR:We(t),e=typeof e=="function"?e:e===void 0?KR:We(e);function s(l){var u,c=(l=R_(l)).length,d,p=!1,m;for(n==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(d,u,l),+e(d,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:We(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:We(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:We(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),s):n},s}function Lf(t,e,r){var n=null,i=We(!0),o=null,a=yg,s=null,l=C_(u);t=typeof t=="function"?t:t===void 0?HR:We(+t),e=typeof e=="function"?e:We(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?KR:We(+r);function u(d){var p,m,w,g=(d=R_(d)).length,y,x=!1,v,_=new Array(g),I=new Array(g);for(o==null&&(s=a(v=l())),p=0;p<=g;++p){if(!(p<g&&i(y=d[p],p,d))===x)if(x=!x)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),w=p-1;w>=m;--w)s.point(_[w],I[w]);s.lineEnd(),s.areaEnd()}x&&(_[p]=+t(y,p,d),I[p]=+e(y,p,d),s.point(n?+n(y,p,d):_[p],r?+r(y,p,d):I[p]))}if(v)return s=null,v+""||null}function c(){return YR().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:We(+d),n=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:We(+d),u):t},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:We(+d),u):n},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:We(+d),r=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:We(+d),u):e},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:We(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(n).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:We(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class XR{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function sY(t){return new XR(t,!0)}function lY(t){return new XR(t,!1)}const D_={draw(t,e){const r=An(e/pp);t.moveTo(r,0),t.arc(0,0,r,0,gg)}},uY={draw(t,e){const r=An(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},QR=An(1/3),cY=QR*2,dY={draw(t,e){const r=An(e/cY),n=r*QR;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},fY={draw(t,e){const r=An(e),n=-r/2;t.rect(n,n,r,r)}},hY=.8908130915292852,JR=hp(pp/10)/hp(7*pp/10),pY=hp(gg/10)*JR,mY=-WR(gg/10)*JR,gY={draw(t,e){const r=An(e*hY),n=pY*r,i=mY*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const a=gg*o/5,s=WR(a),l=hp(a);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},Zy=An(3),yY={draw(t,e){const r=-An(e/(Zy*3));t.moveTo(0,r*2),t.lineTo(-Zy*r,-r),t.lineTo(Zy*r,-r),t.closePath()}},Br=-.5,Ur=An(3)/2,nb=1/An(12),vY=(nb/2+1)*3,bY={draw(t,e){const r=An(e/vY),n=r/2,i=r*nb,o=n,a=r*nb+r,s=-o,l=a;t.moveTo(n,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Br*n-Ur*i,Ur*n+Br*i),t.lineTo(Br*o-Ur*a,Ur*o+Br*a),t.lineTo(Br*s-Ur*l,Ur*s+Br*l),t.lineTo(Br*n+Ur*i,Br*i-Ur*n),t.lineTo(Br*o+Ur*a,Br*a-Ur*o),t.lineTo(Br*s+Ur*l,Br*l-Ur*s),t.closePath()}};function xY(t,e){let r=null,n=C_(i);t=typeof t=="function"?t:We(t||D_),e=typeof e=="function"?e:We(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:We(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:We(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function mp(){}function gp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function ZR(t){this._context=t}ZR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wY(t){return new ZR(t)}function eD(t){this._context=t}eD.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _Y(t){return new eD(t)}function tD(t){this._context=t}tD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SY(t){return new tD(t)}function rD(t){this._context=t}rD.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function EY(t){return new rD(t)}function PT(t){return t<0?-1:1}function IT(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),s=(o*i+a*n)/(n+i);return(PT(o)+PT(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function OT(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ev(t,e,r){var n=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-n)/3;t._context.bezierCurveTo(n+s,i+s*e,o-s,a-s*r,o,a)}function yp(t){this._context=t}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ev(this,this._t0,OT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ev(this,OT(this,r=IT(this,t,e)),r);break;default:ev(this,this._t0,r=IT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function nD(t){this._context=new iD(t)}(nD.prototype=Object.create(yp.prototype)).point=function(t,e){yp.prototype.point.call(this,e,t)};function iD(t){this._context=t}iD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function AY(t){return new yp(t)}function TY(t){return new nD(t)}function oD(t){this._context=t}oD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=kT(t),i=kT(e),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function kT(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function PY(t){return new oD(t)}function vg(t,e){this._context=t,this._t=e}vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function IY(t){return new vg(t,.5)}function OY(t){return new vg(t,0)}function kY(t){return new vg(t,1)}function sl(t,e){if((a=t.length)>1)for(var r=1,n,i,o=t[e[0]],a,s=o.length;r<a;++r)for(i=o,o=t[e[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ib(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function NY(t,e){return t[e]}function jY(t){const e=[];return e.key=t,e}function CY(){var t=We([]),e=ib,r=sl,n=NY;function i(o){var a=Array.from(t.apply(this,arguments),jY),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+n(d,a[s].key,u,o)]).data=d;for(s=0,c=R_(e(a));s<l;++s)a[c[s]].index=s;return r(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:We(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:We(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?ib:typeof o=="function"?o:We(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??sl,i):r},i}function RY(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,a;i<o;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}sl(t,e)}}function DY(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var a=0,s=0;a<i;++a)s+=t[a][r][1]||0;n[r][1]+=n[r][0]=-s/2}sl(t,e)}}function MY(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,a;n<o;++n){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[n][1]||0,p=c[n-1][1]||0,m=(d-p)/2,w=0;w<s;++w){var g=t[e[w]],y=g[n][1]||0,x=g[n-1][1]||0;m+=y-x}l+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,sl(t,e)}}function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}var $Y=["type","size","sizeType"];function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ob.apply(this,arguments)}function NT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(r),!0).forEach(function(n){LY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LY(t,e,r){return e=VY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VY(t){var e=FY(t,"string");return Kc(e)=="symbol"?e:e+""}function FY(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BY(t,e){if(t==null)return{};var r=UY(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var aD={symbolCircle:D_,symbolCross:uY,symbolDiamond:dY,symbolSquare:fY,symbolStar:gY,symbolTriangle:yY,symbolWye:bY},zY=Math.PI/180,WY=function(e){var r="symbol".concat(mg(e));return aD[r]||D_},GY=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*zY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qY=function(e,r){aD["symbol".concat(mg(e))]=r},M_=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=BY(e,$Y),u=jT(jT({},l),{},{type:n,size:o,sizeType:s}),c=function(){var y=WY(n),x=xY().type(y).size(GY(o,s,n));return x()},d=u.className,p=u.cx,m=u.cy,w=se(u,!0);return p===+p&&m===+m&&o===+o?M.createElement("path",ob({},w,{className:ve("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(m,")"),d:c()})):null};M_.registerSymbol=qY;function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ab.apply(this,arguments)}function CT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(r),!0).forEach(function(n){Yc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lD(n.key),n)}}function XY(t,e,r){return e&&YY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QY(t,e,r){return e=vp(e),JY(t,sD()?Reflect.construct(e,r||[],vp(t).constructor):e.apply(t,r))}function JY(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZY(t)}function ZY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vp(t)}function eX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sb(t,e)}function sb(t,e){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sb(t,e)}function Yc(t,e,r){return e=lD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lD(t){var e=tX(t,"string");return ll(e)=="symbol"?e:e+""}function tX(t,e){if(ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zr=32,$_=function(t){function e(){return KY(this,e),QY(this,e,arguments)}return eX(e,t),XY(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=zr/2,a=zr/6,s=zr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:zr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(zr,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(zr/8,"h").concat(zr,"v").concat(zr*3/4,"h").concat(-zr,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=HY({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(M_,{fill:l,cx:o,cy:o,size:zr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:zr,height:zr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,w){var g=m.formatter||l,y=ve(Yc(Yc({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=ce(m.value)?null:m.value;xn(!ce(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?u:m.color;return M.createElement("li",ab({className:y,style:d,key:"legend-item-".concat(w)},Ma(n.props,m,w)),M.createElement(Q0,{width:a,height:a,viewBox:c,style:p},n.renderIcon(m)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(x,m,w):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,a=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);Yc($_,"displayName","Legend");Yc($_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rX=rg;function nX(){this.__data__=new rX,this.size=0}var iX=nX;function oX(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var aX=oX;function sX(t){return this.__data__.get(t)}var lX=sX;function uX(t){return this.__data__.has(t)}var cX=uX,dX=rg,fX=E_,hX=A_,pX=200;function mX(t,e){var r=this.__data__;if(r instanceof dX){var n=r.__data__;if(!fX||n.length<pX-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new hX(n)}return r.set(t,e),this.size=r.size,this}var gX=mX,yX=rg,vX=iX,bX=aX,xX=lX,wX=cX,_X=gX;function Zl(t){var e=this.__data__=new yX(t);this.size=e.size}Zl.prototype.clear=vX;Zl.prototype.delete=bX;Zl.prototype.get=xX;Zl.prototype.has=wX;Zl.prototype.set=_X;var uD=Zl,SX="__lodash_hash_undefined__";function EX(t){return this.__data__.set(t,SX),this}var AX=EX;function TX(t){return this.__data__.has(t)}var PX=TX,IX=A_,OX=AX,kX=PX;function bp(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new IX;++e<r;)this.add(t[e])}bp.prototype.add=bp.prototype.push=OX;bp.prototype.has=kX;var cD=bp;function NX(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var dD=NX;function jX(t,e){return t.has(e)}var fD=jX,CX=cD,RX=dD,DX=fD,MX=1,$X=2;function LX(t,e,r,n,i,o){var a=r&MX,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,p=!0,m=r&$X?new CX:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var w=t[d],g=e[d];if(n)var y=a?n(g,w,d,e,t,o):n(w,g,d,t,e,o);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!RX(e,function(x,v){if(!DX(m,v)&&(w===x||i(w,x,r,n,o)))return m.push(v)})){p=!1;break}}else if(!(w===g||i(w,g,r,n,o))){p=!1;break}}return o.delete(t),o.delete(e),p}var hD=LX,VX=Hn,FX=VX.Uint8Array,BX=FX;function UX(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var zX=UX;function WX(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var L_=WX,RT=qd,DT=BX,GX=S_,qX=hD,HX=zX,KX=L_,YX=1,XX=2,QX="[object Boolean]",JX="[object Date]",ZX="[object Error]",eQ="[object Map]",tQ="[object Number]",rQ="[object RegExp]",nQ="[object Set]",iQ="[object String]",oQ="[object Symbol]",aQ="[object ArrayBuffer]",sQ="[object DataView]",MT=RT?RT.prototype:void 0,tv=MT?MT.valueOf:void 0;function lQ(t,e,r,n,i,o,a){switch(r){case sQ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case aQ:return!(t.byteLength!=e.byteLength||!o(new DT(t),new DT(e)));case QX:case JX:case tQ:return GX(+t,+e);case ZX:return t.name==e.name&&t.message==e.message;case rQ:case iQ:return t==e+"";case eQ:var s=HX;case nQ:var l=n&YX;if(s||(s=KX),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;n|=XX,a.set(t,e);var c=qX(s(t),s(e),n,i,o,a);return a.delete(t),c;case oQ:if(tv)return tv.call(t)==tv.call(e)}return!1}var uQ=lQ;function cQ(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var pD=cQ,dQ=pD,fQ=Ar;function hQ(t,e,r){var n=e(t);return fQ(t)?n:dQ(n,r(t))}var pQ=hQ;function mQ(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}var gQ=mQ;function yQ(){return[]}var vQ=yQ,bQ=gQ,xQ=vQ,wQ=Object.prototype,_Q=wQ.propertyIsEnumerable,$T=Object.getOwnPropertySymbols,SQ=$T?function(t){return t==null?[]:(t=Object(t),bQ($T(t),function(e){return _Q.call(t,e)}))}:xQ,EQ=SQ;function AQ(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var TQ=AQ,PQ=Ci,IQ=Ri,OQ="[object Arguments]";function kQ(t){return IQ(t)&&PQ(t)==OQ}var NQ=kQ,LT=NQ,jQ=Ri,mD=Object.prototype,CQ=mD.hasOwnProperty,RQ=mD.propertyIsEnumerable,DQ=LT(function(){return arguments}())?LT:function(t){return jQ(t)&&CQ.call(t,"callee")&&!RQ.call(t,"callee")},V_=DQ,xp={exports:{}};function MQ(){return!1}var $Q=MQ;xp.exports;(function(t,e){var r=Hn,n=$Q,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(xp,xp.exports);var gD=xp.exports,LQ=9007199254740991,VQ=/^(?:0|[1-9]\d*)$/;function FQ(t,e){var r=typeof t;return e=e??LQ,!!e&&(r=="number"||r!="symbol"&&VQ.test(t))&&t>-1&&t%1==0&&t<e}var F_=FQ,BQ=9007199254740991;function UQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=BQ}var B_=UQ,zQ=Ci,WQ=B_,GQ=Ri,qQ="[object Arguments]",HQ="[object Array]",KQ="[object Boolean]",YQ="[object Date]",XQ="[object Error]",QQ="[object Function]",JQ="[object Map]",ZQ="[object Number]",eJ="[object Object]",tJ="[object RegExp]",rJ="[object Set]",nJ="[object String]",iJ="[object WeakMap]",oJ="[object ArrayBuffer]",aJ="[object DataView]",sJ="[object Float32Array]",lJ="[object Float64Array]",uJ="[object Int8Array]",cJ="[object Int16Array]",dJ="[object Int32Array]",fJ="[object Uint8Array]",hJ="[object Uint8ClampedArray]",pJ="[object Uint16Array]",mJ="[object Uint32Array]",Ye={};Ye[sJ]=Ye[lJ]=Ye[uJ]=Ye[cJ]=Ye[dJ]=Ye[fJ]=Ye[hJ]=Ye[pJ]=Ye[mJ]=!0;Ye[qQ]=Ye[HQ]=Ye[oJ]=Ye[KQ]=Ye[aJ]=Ye[YQ]=Ye[XQ]=Ye[QQ]=Ye[JQ]=Ye[ZQ]=Ye[eJ]=Ye[tJ]=Ye[rJ]=Ye[nJ]=Ye[iJ]=!1;function gJ(t){return GQ(t)&&WQ(t.length)&&!!Ye[zQ(t)]}var yJ=gJ;function vJ(t){return function(e){return t(e)}}var yD=vJ,wp={exports:{}};wp.exports;(function(t,e){var r=AR,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(wp,wp.exports);var bJ=wp.exports,xJ=yJ,wJ=yD,VT=bJ,FT=VT&&VT.isTypedArray,_J=FT?wJ(FT):xJ,vD=_J,SJ=TQ,EJ=V_,AJ=Ar,TJ=gD,PJ=F_,IJ=vD,OJ=Object.prototype,kJ=OJ.hasOwnProperty;function NJ(t,e){var r=AJ(t),n=!r&&EJ(t),i=!r&&!n&&TJ(t),o=!r&&!n&&!i&&IJ(t),a=r||n||i||o,s=a?SJ(t.length,String):[],l=s.length;for(var u in t)(e||kJ.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||PJ(u,l)))&&s.push(u);return s}var jJ=NJ,CJ=Object.prototype;function RJ(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||CJ;return t===r}var DJ=RJ;function MJ(t,e){return function(r){return t(e(r))}}var bD=MJ,$J=bD,LJ=$J(Object.keys,Object),VJ=LJ,FJ=DJ,BJ=VJ,UJ=Object.prototype,zJ=UJ.hasOwnProperty;function WJ(t){if(!FJ(t))return BJ(t);var e=[];for(var r in Object(t))zJ.call(t,r)&&r!="constructor"&&e.push(r);return e}var GJ=WJ,qJ=__,HJ=B_;function KJ(t){return t!=null&&HJ(t.length)&&!qJ(t)}var Hd=KJ,YJ=jJ,XJ=GJ,QJ=Hd;function JJ(t){return QJ(t)?YJ(t):XJ(t)}var bg=JJ,ZJ=pQ,eZ=EQ,tZ=bg;function rZ(t){return ZJ(t,tZ,eZ)}var nZ=rZ,BT=nZ,iZ=1,oZ=Object.prototype,aZ=oZ.hasOwnProperty;function sZ(t,e,r,n,i,o){var a=r&iZ,s=BT(t),l=s.length,u=BT(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var p=s[d];if(!(a?p in e:aZ.call(e,p)))return!1}var m=o.get(t),w=o.get(e);if(m&&w)return m==e&&w==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=a;++d<l;){p=s[d];var x=t[p],v=e[p];if(n)var _=a?n(v,x,p,e,t,o):n(x,v,p,t,e,o);if(!(_===void 0?x===v||i(x,v,r,n,o):_)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var I=t.constructor,b=e.constructor;I!=b&&"constructor"in t&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof b=="function"&&b instanceof b)&&(g=!1)}return o.delete(t),o.delete(e),g}var lZ=sZ,uZ=Ka,cZ=Hn,dZ=uZ(cZ,"DataView"),fZ=dZ,hZ=Ka,pZ=Hn,mZ=hZ(pZ,"Promise"),gZ=mZ,yZ=Ka,vZ=Hn,bZ=yZ(vZ,"Set"),xD=bZ,xZ=Ka,wZ=Hn,_Z=xZ(wZ,"WeakMap"),SZ=_Z,lb=fZ,ub=E_,cb=gZ,db=xD,fb=SZ,wD=Ci,eu=PR,UT="[object Map]",EZ="[object Object]",zT="[object Promise]",WT="[object Set]",GT="[object WeakMap]",qT="[object DataView]",AZ=eu(lb),TZ=eu(ub),PZ=eu(cb),IZ=eu(db),OZ=eu(fb),ea=wD;(lb&&ea(new lb(new ArrayBuffer(1)))!=qT||ub&&ea(new ub)!=UT||cb&&ea(cb.resolve())!=zT||db&&ea(new db)!=WT||fb&&ea(new fb)!=GT)&&(ea=function(t){var e=wD(t),r=e==EZ?t.constructor:void 0,n=r?eu(r):"";if(n)switch(n){case AZ:return qT;case TZ:return UT;case PZ:return zT;case IZ:return WT;case OZ:return GT}return e});var kZ=ea,rv=uD,NZ=hD,jZ=uQ,CZ=lZ,HT=kZ,KT=Ar,YT=gD,RZ=vD,DZ=1,XT="[object Arguments]",QT="[object Array]",Vf="[object Object]",MZ=Object.prototype,JT=MZ.hasOwnProperty;function $Z(t,e,r,n,i,o){var a=KT(t),s=KT(e),l=a?QT:HT(t),u=s?QT:HT(e);l=l==XT?Vf:l,u=u==XT?Vf:u;var c=l==Vf,d=u==Vf,p=l==u;if(p&&YT(t)){if(!YT(e))return!1;a=!0,c=!1}if(p&&!c)return o||(o=new rv),a||RZ(t)?NZ(t,e,r,n,i,o):jZ(t,e,l,r,n,i,o);if(!(r&DZ)){var m=c&&JT.call(t,"__wrapped__"),w=d&&JT.call(e,"__wrapped__");if(m||w){var g=m?t.value():t,y=w?e.value():e;return o||(o=new rv),i(g,y,r,n,o)}}return p?(o||(o=new rv),CZ(t,e,r,n,i,o)):!1}var LZ=$Z,VZ=LZ,ZT=Ri;function _D(t,e,r,n,i){return t===e?!0:t==null||e==null||!ZT(t)&&!ZT(e)?t!==t&&e!==e:VZ(t,e,r,n,_D,i)}var U_=_D,FZ=uD,BZ=U_,UZ=1,zZ=2;function WZ(t,e,r,n){var i=r.length,o=i,a=!n;if(t==null)return!o;for(t=Object(t);i--;){var s=r[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=r[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new FZ;if(n)var p=n(u,c,l,t,e,d);if(!(p===void 0?BZ(c,u,UZ|zZ,n,d):p))return!1}}return!0}var GZ=WZ,qZ=Mo;function HZ(t){return t===t&&!qZ(t)}var SD=HZ,KZ=SD,YZ=bg;function XZ(t){for(var e=YZ(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,KZ(i)]}return e}var QZ=XZ;function JZ(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var ED=JZ,ZZ=GZ,eee=QZ,tee=ED;function ree(t){var e=eee(t);return e.length==1&&e[0][2]?tee(e[0][0],e[0][1]):function(r){return r===t||ZZ(r,t,e)}}var nee=ree;function iee(t,e){return t!=null&&e in Object(t)}var oee=iee,aee=jR,see=V_,lee=Ar,uee=F_,cee=B_,dee=ig;function fee(t,e,r){e=aee(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var a=dee(e[n]);if(!(o=t!=null&&r(t,a)))break;t=t[a]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&cee(i)&&uee(a,i)&&(lee(t)||see(t)))}var hee=fee,pee=oee,mee=hee;function gee(t,e){return t!=null&&mee(t,e,pee)}var yee=gee,vee=U_,bee=CR,xee=yee,wee=w_,_ee=SD,See=ED,Eee=ig,Aee=1,Tee=2;function Pee(t,e){return wee(t)&&_ee(e)?See(Eee(t),e):function(r){var n=bee(r,t);return n===void 0&&n===e?xee(r,t):vee(e,n,Aee|Tee)}}var Iee=Pee;function Oee(t){return t}var tu=Oee;function kee(t){return function(e){return e==null?void 0:e[t]}}var Nee=kee,jee=I_;function Cee(t){return function(e){return jee(e,t)}}var Ree=Cee,Dee=Nee,Mee=Ree,$ee=w_,Lee=ig;function Vee(t){return $ee(t)?Dee(Lee(t)):Mee(t)}var Fee=Vee,Bee=nee,Uee=Iee,zee=tu,Wee=Ar,Gee=Fee;function qee(t){return typeof t=="function"?t:t==null?zee:typeof t=="object"?Wee(t)?Uee(t[0],t[1]):Bee(t):Gee(t)}var Kn=qee;function Hee(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var AD=Hee;function Kee(t){return t!==t}var Yee=Kee;function Xee(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Qee=Xee,Jee=AD,Zee=Yee,ete=Qee;function tte(t,e,r){return e===e?ete(t,e,r):Jee(t,Zee,r)}var rte=tte,nte=rte;function ite(t,e){var r=t==null?0:t.length;return!!r&&nte(t,e,0)>-1}var ote=ite;function ate(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var ste=ate;function lte(){}var ute=lte,nv=xD,cte=ute,dte=L_,fte=1/0,hte=nv&&1/dte(new nv([,-0]))[1]==fte?function(t){return new nv(t)}:cte,pte=hte,mte=cD,gte=ote,yte=ste,vte=fD,bte=pte,xte=L_,wte=200;function _te(t,e,r){var n=-1,i=gte,o=t.length,a=!0,s=[],l=s;if(r)a=!1,i=yte;else if(o>=wte){var u=e?null:bte(t);if(u)return xte(u);a=!1,i=vte,l=new mte}else l=e?[]:s;e:for(;++n<o;){var c=t[n],d=e?e(c):c;if(c=r||c!==0?c:0,a&&d===d){for(var p=l.length;p--;)if(l[p]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,r)||(l!==s&&l.push(d),s.push(c))}return s}var Ste=_te,Ete=Kn,Ate=Ste;function Tte(t,e){return t&&t.length?Ate(t,Ete(e)):[]}var Pte=Tte;const eP=De(Pte);function TD(t,e,r){return e===!0?eP(t,r):ce(e)?eP(t,e):t}function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}var Ite=["ref"];function tP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(r),!0).forEach(function(n){xg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ote(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ID(n.key),n)}}function kte(t,e,r){return e&&rP(t.prototype,e),r&&rP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nte(t,e,r){return e=_p(e),jte(t,PD()?Reflect.construct(e,r||[],_p(t).constructor):e.apply(t,r))}function jte(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cte(t)}function Cte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PD=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(t)}function Rte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hb(t,e)}function hb(t,e){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hb(t,e)}function xg(t,e,r){return e=ID(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ID(t){var e=Dte(t,"string");return ul(e)=="symbol"?e:e+""}function Dte(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mte(t,e){if(t==null)return{};var r=$te(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $te(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lte(t){return t.value}function Vte(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var r=Mte(e,Ite);return M.createElement($_,r)}var nP=1,Fs=function(t){function e(){var r;Ote(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Nte(this,e,[].concat(i)),xg(r,"lastBoundingBox",{width:-1,height:-1}),r}return Rte(e,t),kte(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>nP||Math.abs(i.height-this.lastBoundingBox.height)>nP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var w=this.getBBoxSnapshot();p={top:((c||0)-w.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Zn(Zn({},d),p)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=Zn(Zn({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){n.wrapperNode=m}},Vte(o,Zn(Zn({},this.props),{},{payload:TD(c,u,Lte)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Zn(Zn({},this.defaultProps),n.props),a=o.layout;return a==="vertical"&&Q(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(D.PureComponent);xg(Fs,"displayName","Legend");xg(Fs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iP=qd,Fte=V_,Bte=Ar,oP=iP?iP.isConcatSpreadable:void 0;function Ute(t){return Bte(t)||Fte(t)||!!(oP&&t&&t[oP])}var zte=Ute,Wte=pD,Gte=zte;function OD(t,e,r,n,i){var o=-1,a=t.length;for(r||(r=Gte),i||(i=[]);++o<a;){var s=t[o];e>0&&r(s)?e>1?OD(s,e-1,r,n,i):Wte(i,s):n||(i[i.length]=s)}return i}var kD=OD;function qte(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var l=a[t?s:++i];if(r(o[l],l,o)===!1)break}return e}}var Hte=qte,Kte=Hte,Yte=Kte(),Xte=Yte,Qte=Xte,Jte=bg;function Zte(t,e){return t&&Qte(t,e,Jte)}var ND=Zte,ere=Hd;function tre(t,e){return function(r,n){if(r==null)return r;if(!ere(r))return t(r,n);for(var i=r.length,o=e?i:-1,a=Object(r);(e?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}var rre=tre,nre=ND,ire=rre,ore=ire(nre),z_=ore,are=z_,sre=Hd;function lre(t,e){var r=-1,n=sre(t)?Array(t.length):[];return are(t,function(i,o,a){n[++r]=e(i,o,a)}),n}var jD=lre;function ure(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var cre=ure,aP=ql;function dre(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,o=aP(t),a=e!==void 0,s=e===null,l=e===e,u=aP(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||n&&a&&l||!r&&l||!i)return 1;if(!n&&!o&&!u&&t<e||u&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!l)return-1}return 0}var fre=dre,hre=fre;function pre(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,a=i.length,s=r.length;++n<a;){var l=hre(i[n],o[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var mre=pre,iv=P_,gre=I_,yre=Kn,vre=jD,bre=cre,xre=yD,wre=mre,_re=tu,Sre=Ar;function Ere(t,e,r){e.length?e=iv(e,function(o){return Sre(o)?function(a){return gre(a,o.length===1?o[0]:o)}:o}):e=[_re];var n=-1;e=iv(e,xre(yre));var i=vre(t,function(o,a,s){var l=iv(e,function(u){return u(o)});return{criteria:l,index:++n,value:o}});return bre(i,function(o,a){return wre(o,a,r)})}var Are=Ere;function Tre(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Pre=Tre,Ire=Pre,sP=Math.max;function Ore(t,e,r){return e=sP(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=sP(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),Ire(t,this,s)}}var kre=Ore;function Nre(t){return function(){return t}}var jre=Nre,Cre=Ka,Rre=function(){try{var t=Cre(Object,"defineProperty");return t({},"",{}),t}catch{}}(),CD=Rre,Dre=jre,lP=CD,Mre=tu,$re=lP?function(t,e){return lP(t,"toString",{configurable:!0,enumerable:!1,value:Dre(e),writable:!0})}:Mre,Lre=$re,Vre=800,Fre=16,Bre=Date.now;function Ure(t){var e=0,r=0;return function(){var n=Bre(),i=Fre-(n-r);if(r=n,i>0){if(++e>=Vre)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var zre=Ure,Wre=Lre,Gre=zre,qre=Gre(Wre),Hre=qre,Kre=tu,Yre=kre,Xre=Hre;function Qre(t,e){return Xre(Yre(t,e,Kre),t+"")}var Jre=Qre,Zre=S_,ene=Hd,tne=F_,rne=Mo;function nne(t,e,r){if(!rne(r))return!1;var n=typeof e;return(n=="number"?ene(r)&&tne(e,r.length):n=="string"&&e in r)?Zre(r[e],t):!1}var wg=nne,ine=kD,one=Are,ane=Jre,uP=wg,sne=ane(function(t,e){if(t==null)return[];var r=e.length;return r>1&&uP(t,e[0],e[1])?e=[]:r>2&&uP(e[0],e[1],e[2])&&(e=[e[0]]),one(t,ine(e,1),[])}),lne=sne;const W_=De(lne);function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pb.apply(this,arguments)}function une(t,e){return hne(t)||fne(t,e)||dne(t,e)||cne()}function cne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dne(t,e){if(t){if(typeof t=="string")return cP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cP(t,e)}}function cP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function hne(t){if(Array.isArray(t))return t}function dP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ov(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(r),!0).forEach(function(n){pne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pne(t,e,r){return e=mne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mne(t){var e=gne(t,"string");return Xc(e)=="symbol"?e:e+""}function gne(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yne(t){return Array.isArray(t)&&Pt(t[0])&&Pt(t[1])?t.join(" ~ "):t}var vne=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,p=e.itemSorter,m=e.wrapperClassName,w=e.labelClassName,g=e.label,y=e.labelFormatter,x=e.accessibilityLayer,v=x===void 0?!1:x,_=function(){if(c&&c.length){var C={padding:0,margin:0},j=(p?W_(c,p):c).map(function(L,F){if(L.type==="none")return null;var B=ov({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),G=L.formatter||d||yne,V=L.value,W=L.name,Y=V,ee=W;if(G&&Y!=null&&ee!=null){var X=G(V,W,L,F,c);if(Array.isArray(X)){var re=une(X,2);Y=re[0],ee=re[1]}else Y=X}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:B},Pt(ee)?M.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Pt(ee)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Y),M.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:C},j)}return null},I=ov({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),b=ov({margin:0},u),T=!ye(g),A=T?g:"",S=ve("recharts-default-tooltip",m),P=ve("recharts-tooltip-label",w);T&&y&&c!==void 0&&c!==null&&(A=y(g,c));var N=v?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",pb({className:S,style:I},N),M.createElement("p",{className:P,style:b},M.isValidElement(A)?A:"".concat(A)),_())};function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Ff(t,e,r){return e=bne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bne(t){var e=xne(t,"string");return Qc(e)=="symbol"?e:e+""}function xne(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ju="recharts-tooltip-wrapper",wne={visibility:"hidden"};function _ne(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ve(ju,Ff(Ff(Ff(Ff({},"".concat(ju,"-right"),Q(r)&&e&&Q(e.x)&&r>=e.x),"".concat(ju,"-left"),Q(r)&&e&&Q(e.x)&&r<e.x),"".concat(ju,"-bottom"),Q(n)&&e&&Q(e.y)&&n>=e.y),"".concat(ju,"-top"),Q(n)&&e&&Q(e.y)&&n<e.y))}function fP(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Q(o[n]))return o[n];var c=r[n]-s-i,d=r[n]+i;if(e[n])return a[n]?c:d;if(a[n]){var p=c,m=l[n];return p<m?Math.max(d,l[n]):Math.max(c,l[n])}var w=d+s,g=l[n]+u;return w>g?Math.max(c,l[n]):Math.max(d,l[n])}function Sne(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Ene(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&r?(c=fP({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=fP({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Sne({translateX:c,translateY:d,useTranslate3d:s})):u=wne,{cssProperties:u,cssClasses:_ne({translateX:c,translateY:d,coordinate:r})}}function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function hP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(r),!0).forEach(function(n){gb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DD(n.key),n)}}function Pne(t,e,r){return e&&Tne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ine(t,e,r){return e=Sp(e),One(t,RD()?Reflect.construct(e,r||[],Sp(t).constructor):e.apply(t,r))}function One(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kne(t)}function kne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(t)}function Nne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mb(t,e)}function mb(t,e){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mb(t,e)}function gb(t,e,r){return e=DD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DD(t){var e=jne(t,"string");return cl(e)=="symbol"?e:e+""}function jne(t,e){if(cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mP=1,Cne=function(t){function e(){var r;Ane(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Ine(this,e,[].concat(i)),gb(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gb(r,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),r}return Nne(e,t),Pne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>mP||Math.abs(n.height-this.state.lastBoundingBox.height)>mP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,p=i.isAnimationActive,m=i.offset,w=i.position,g=i.reverseDirection,y=i.useTranslate3d,x=i.viewBox,v=i.wrapperStyle,_=Ene({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:w,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),I=_.cssClasses,b=_.cssProperties,T=pP(pP({transition:p&&o?"transform ".concat(s,"ms ").concat(l):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},v);return M.createElement("div",{tabIndex:-1,className:I,style:T,ref:function(S){n.wrapperNode=S}},u)}}])}(D.PureComponent),Rne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ya={isSsr:Rne()};function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function gP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(r),!0).forEach(function(n){G_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$D(n.key),n)}}function $ne(t,e,r){return e&&Mne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lne(t,e,r){return e=Ep(e),Vne(t,MD()?Reflect.construct(e,r||[],Ep(t).constructor):e.apply(t,r))}function Vne(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fne(t)}function Fne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MD=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(t)}function Bne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yb(t,e)}function G_(t,e,r){return e=$D(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $D(t){var e=Une(t,"string");return dl(e)=="symbol"?e:e+""}function Une(t,e){if(dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zne(t){return t.dataKey}function Wne(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(vne,e)}var kr=function(t){function e(){return Dne(this,e),Lne(this,e,arguments)}return Bne(e,t),$ne(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,p=i.isAnimationActive,m=i.offset,w=i.payload,g=i.payloadUniqBy,y=i.position,x=i.reverseDirection,v=i.useTranslate3d,_=i.viewBox,I=i.wrapperStyle,b=w??[];d&&b.length&&(b=TD(w.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),g,zne));var T=b.length>0;return M.createElement(Cne,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:p,active:o,coordinate:c,hasPayload:T,offset:m,position:y,reverseDirection:x,useTranslate3d:v,viewBox:_,wrapperStyle:I},Wne(u,yP(yP({},this.props),{},{payload:b})))}}])}(D.PureComponent);G_(kr,"displayName","Tooltip");G_(kr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ya.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Gne=Hn,qne=function(){return Gne.Date.now()},Hne=qne,Kne=/\s/;function Yne(t){for(var e=t.length;e--&&Kne.test(t.charAt(e)););return e}var Xne=Yne,Qne=Xne,Jne=/^\s+/;function Zne(t){return t&&t.slice(0,Qne(t)+1).replace(Jne,"")}var eie=Zne,tie=eie,vP=Mo,rie=ql,bP=NaN,nie=/^[-+]0x[0-9a-f]+$/i,iie=/^0b[01]+$/i,oie=/^0o[0-7]+$/i,aie=parseInt;function sie(t){if(typeof t=="number")return t;if(rie(t))return bP;if(vP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=tie(t);var r=iie.test(t);return r||oie.test(t)?aie(t.slice(2),r?2:8):nie.test(t)?bP:+t}var LD=sie,lie=Mo,av=Hne,xP=LD,uie="Expected a function",cie=Math.max,die=Math.min;function fie(t,e,r){var n,i,o,a,s,l,u=0,c=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(uie);e=xP(e)||0,lie(r)&&(c=!!r.leading,d="maxWait"in r,o=d?cie(xP(r.maxWait)||0,e):o,p="trailing"in r?!!r.trailing:p);function m(T){var A=n,S=i;return n=i=void 0,u=T,a=t.apply(S,A),a}function w(T){return u=T,s=setTimeout(x,e),c?m(T):a}function g(T){var A=T-l,S=T-u,P=e-A;return d?die(P,o-S):P}function y(T){var A=T-l,S=T-u;return l===void 0||A>=e||A<0||d&&S>=o}function x(){var T=av();if(y(T))return v(T);s=setTimeout(x,g(T))}function v(T){return s=void 0,p&&n?m(T):(n=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function I(){return s===void 0?a:v(av())}function b(){var T=av(),A=y(T);if(n=arguments,i=this,l=T,A){if(s===void 0)return w(l);if(d)return clearTimeout(s),s=setTimeout(x,e),m(l)}return s===void 0&&(s=setTimeout(x,e)),a}return b.cancel=_,b.flush=I,b}var hie=fie,pie=hie,mie=Mo,gie="Expected a function";function yie(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(gie);return mie(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),pie(t,e,{leading:n,maxWait:e,trailing:i})}var vie=yie;const VD=De(vie);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function wP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(r),!0).forEach(function(n){bie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bie(t,e,r){return e=xie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xie(t){var e=wie(t,"string");return Jc(e)=="symbol"?e:e+""}function wie(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ie(t,e){return Tie(t)||Aie(t,e)||Eie(t,e)||Sie()}function Sie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eie(t,e){if(t){if(typeof t=="string")return _P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _P(t,e)}}function _P(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Aie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Tie(t){if(Array.isArray(t))return t}var Uf=D.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,p=t.maxHeight,m=t.children,w=t.debounce,g=w===void 0?0:w,y=t.id,x=t.className,v=t.onResize,_=t.style,I=_===void 0?{}:_,b=D.useRef(null),T=D.useRef();T.current=v,D.useImperativeHandle(e,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var A=D.useState({containerWidth:i.width,containerHeight:i.height}),S=_ie(A,2),P=S[0],N=S[1],O=D.useCallback(function(j,L){N(function(F){var B=Math.round(j),G=Math.round(L);return F.containerWidth===B&&F.containerHeight===G?F:{containerWidth:B,containerHeight:G}})},[]);D.useEffect(function(){var j=function(W){var Y,ee=W[0].contentRect,X=ee.width,re=ee.height;O(X,re),(Y=T.current)===null||Y===void 0||Y.call(T,X,re)};g>0&&(j=VD(j,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(j),F=b.current.getBoundingClientRect(),B=F.width,G=F.height;return O(B,G),L.observe(b.current),function(){L.disconnect()}},[O,g]);var C=D.useMemo(function(){var j=P.containerWidth,L=P.containerHeight;if(j<0||L<0)return null;xn(ca(a)||ca(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),xn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=ca(a)?j:a,B=ca(l)?L:l;r&&r>0&&(F?B=F/r:B&&(F=B*r),p&&B>p&&(B=p)),xn(F>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,B,a,l,c,d,r);var G=!Array.isArray(m)&&mi(m.type).endsWith("Chart");return M.Children.map(m,function(V){return M.isValidElement(V)?D.cloneElement(V,Bf({width:F,height:B},G?{style:Bf({height:"100%",width:"100%",maxHeight:B,maxWidth:F},V.props.style)}:{})):V})},[r,m,l,p,d,c,P,a]);return M.createElement("div",{id:y?"".concat(y):void 0,className:ve("recharts-responsive-container",x),style:Bf(Bf({},I),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:p}),ref:b},C)}),_g=function(e){return null};_g.displayName="Cell";function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){Pie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pie(t,e,r){return e=Iie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iie(t){var e=Oie(t,"string");return Zc(e)=="symbol"?e:e+""}function Oie(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var os={widthCache:{},cacheCount:0},kie=2e3,Nie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EP="recharts_measurement_span";function jie(t){var e=vb({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var hc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ya.isSsr)return{width:0,height:0};var n=jie(r),i=JSON.stringify({text:e,copyStyle:n});if(os.widthCache[i])return os.widthCache[i];try{var o=document.getElementById(EP);o||(o=document.createElement("span"),o.setAttribute("id",EP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=vb(vb({},Nie),n);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return os.widthCache[i]=l,++os.cacheCount>kie&&(os.cacheCount=0,os.widthCache={}),l}catch{return{width:0,height:0}}},Cie=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function Ap(t,e){return $ie(t)||Mie(t,e)||Die(t,e)||Rie()}function Rie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Die(t,e){if(t){if(typeof t=="string")return AP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AP(t,e)}}function AP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function $ie(t){if(Array.isArray(t))return t}function Lie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fie(n.key),n)}}function Vie(t,e,r){return e&&TP(t.prototype,e),r&&TP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fie(t){var e=Bie(t,"string");return ed(e)=="symbol"?e:e+""}function Bie(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Wie=Object.keys(FD),Es="NaN";function Gie(t,e){return t*FD[e]}var zf=function(){function t(e,r){Lie(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Uie.test(r)&&(this.num=NaN,this.unit=""),Wie.includes(r)&&(this.num=Gie(e,r),this.unit="px")}return Vie(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=zie.exec(r))!==null&&n!==void 0?n:[],o=Ap(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function BD(t){if(t.includes(Es))return Es;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=PP.exec(e))!==null&&r!==void 0?r:[],i=Ap(n,4),o=i[1],a=i[2],s=i[3],l=zf.parse(o??""),u=zf.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Es;e=e.replace(PP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,p=(d=IP.exec(e))!==null&&d!==void 0?d:[],m=Ap(p,4),w=m[1],g=m[2],y=m[3],x=zf.parse(w??""),v=zf.parse(y??""),_=g==="+"?x.add(v):x.subtract(v);if(_.isNaN())return Es;e=e.replace(IP,_.toString())}return e}var OP=/\(([^()]*)\)/;function qie(t){for(var e=t;e.includes("(");){var r=OP.exec(e),n=Ap(r,2),i=n[1];e=e.replace(OP,BD(i))}return e}function Hie(t){var e=t.replace(/\s+/g,"");return e=qie(e),e=BD(e),e}function Kie(t){try{return Hie(t)}catch{return Es}}function sv(t){var e=Kie(t.slice(5,-1));return e===Es?"":e}var Yie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xie=["dx","dy","angle","className","breakAll"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bb.apply(this,arguments)}function kP(t,e){if(t==null)return{};var r=Qie(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NP(t,e){return toe(t)||eoe(t,e)||Zie(t,e)||Jie()}function Jie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zie(t,e){if(t){if(typeof t=="string")return jP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jP(t,e)}}function jP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function toe(t){if(Array.isArray(t))return t}var UD=/[ \f\n\r\t\v\u2028\u2029]+/,zD=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];ye(r)||(n?o=r.toString().split(""):o=r.toString().split(UD));var a=o.map(function(l){return{word:l,width:hc(l,i).width}}),s=n?0:hc(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},roe=function(e,r,n,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Q(a),d=s,p=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(B,G){var V=G.word,W=G.width,Y=B[B.length-1];if(Y&&(i==null||o||Y.width+W+n<Number(i)))Y.words.push(V),Y.width+=W+n;else{var ee={words:[V],width:W};B.push(ee)}return B},[])},m=p(r),w=function(F){return F.reduce(function(B,G){return B.width>G.width?B:G})};if(!c)return m;for(var g="…",y=function(F){var B=d.slice(0,F),G=zD({breakAll:u,style:l,children:B+g}).wordsWithComputedWidth,V=p(G),W=V.length>a||w(V).width>Number(i);return[W,V]},x=0,v=d.length-1,_=0,I;x<=v&&_<=d.length-1;){var b=Math.floor((x+v)/2),T=b-1,A=y(T),S=NP(A,2),P=S[0],N=S[1],O=y(b),C=NP(O,1),j=C[0];if(!P&&!j&&(x=b+1),P&&j&&(v=b-1),!P&&j){I=N;break}_++}return I||m},CP=function(e){var r=ye(e)?[]:e.toString().split(UD);return[{words:r}]},noe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((r||n)&&!Ya.isSsr){var l,u,c=zD({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,p=c.spaceWidth;l=d,u=p}else return CP(i);return roe({breakAll:a,children:i,maxLines:s,style:o},l,u,r,n)}return CP(i)},RP="#808080",$a=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,p=e.textAnchor,m=p===void 0?"start":p,w=e.verticalAnchor,g=w===void 0?"end":w,y=e.fill,x=y===void 0?RP:y,v=kP(e,Yie),_=D.useMemo(function(){return noe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),I=v.dx,b=v.dy,T=v.angle,A=v.className,S=v.breakAll,P=kP(v,Xie);if(!Pt(n)||!Pt(o))return null;var N=n+(Q(I)?I:0),O=o+(Q(b)?b:0),C;switch(g){case"start":C=sv("calc(".concat(u,")"));break;case"middle":C=sv("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:C=sv("calc(".concat(_.length-1," * -").concat(s,")"));break}var j=[];if(d){var L=_[0].width,F=v.width;j.push("scale(".concat((Q(F)?F/L:1)/L,")"))}return T&&j.push("rotate(".concat(T,", ").concat(N,", ").concat(O,")")),j.length&&(P.transform=j.join(" ")),M.createElement("text",bb({},se(P,!0),{x:N,y:O,className:ve("recharts-text",A),textAnchor:m,fill:x.includes("url")?RP:x}),_.map(function(B,G){var V=B.words.join(S?"":" ");return M.createElement("tspan",{x:N,dy:G===0?C:s,key:"".concat(V,"-").concat(G)},V)}))};function xo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ioe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function q_(t){let e,r,n;t.length!==2?(e=xo,r=(s,l)=>xo(t(s),l),n=(s,l)=>t(s)-l):(e=t===xo||t===ioe?t:ooe,r=t,n=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function ooe(){return 0}function WD(t){return t===null?NaN:+t}function*aoe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const soe=q_(xo),Kd=soe.right;q_(WD).center;class DP extends Map{constructor(e,r=coe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(MP(this,e))}has(e){return super.has(MP(this,e))}set(e,r){return super.set(loe(this,e),r)}delete(e){return super.delete(uoe(this,e))}}function MP({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function loe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function uoe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function coe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function doe(t=xo){if(t===xo)return GD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function GD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const foe=Math.sqrt(50),hoe=Math.sqrt(10),poe=Math.sqrt(2);function Tp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=foe?10:o>=hoe?5:o>=poe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?Tp(t,e,r*2):[s,l,u]}function xb(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,a]=n?Tp(e,t,r):Tp(t,e,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function wb(t,e,r){return e=+e,t=+t,r=+r,Tp(t,e,r)[2]}function _b(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?wb(e,t,r):wb(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function $P(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function LP(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function qD(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?GD:doe(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(e-u*d/l+p)),w=Math.min(n,Math.floor(e+(l-u)*d/l+p));qD(t,e,m,w,i)}const o=t[e];let a=r,s=n;for(Cu(t,r,e),i(t[n],o)>0&&Cu(t,r,n);a<s;){for(Cu(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[r],o)===0?Cu(t,r,s):(++s,Cu(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Cu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function moe(t,e,r){if(t=Float64Array.from(aoe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return LP(t);if(e>=1)return $P(t);var n,i=(n-1)*e,o=Math.floor(i),a=$P(qD(t,o).subarray(0,o+1)),s=LP(t.subarray(o+1));return a+(s-a)*(i-o)}}function goe(t,e,r=WD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),a=+r(t[o],o,t),s=+r(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function yoe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function nn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Di(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Sb=Symbol("implicit");function H_(){var t=new DP,e=[],r=[],n=Sb;function i(o){let a=t.get(o);if(a===void 0){if(n!==Sb)return n;t.set(o,a=e.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new DP;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return H_(e,r).unknown(n)},nn.apply(i,arguments),i}function td(){var t=H_().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var p=e().length,m=i<n,w=m?i:n,g=m?n:i;o=(g-w)/Math.max(1,p-l+u*2),s&&(o=Math.floor(o)),w+=(g-w-o*(p-l))*c,a=o*(1-l),s&&(w=Math.round(w),a=Math.round(a));var y=yoe(p).map(function(x){return w+o*x});return r(m?y.reverse():y)}return t.domain=function(p){return arguments.length?(e(p),d()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(p){return arguments.length?(s=!!p,d()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},t.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},t.copy=function(){return td(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},nn.apply(d(),arguments)}function HD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return HD(e())},t}function pc(){return HD(td.apply(null,arguments).paddingInner(1))}function K_(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function KD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Yd(){}var rd=.7,Pp=1/rd,Bs="\\s*([+-]?\\d+)\\s*",nd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",voe=/^#([0-9a-f]{3,8})$/,boe=new RegExp(`^rgb\\(${Bs},${Bs},${Bs}\\)$`),xoe=new RegExp(`^rgb\\(${Fn},${Fn},${Fn}\\)$`),woe=new RegExp(`^rgba\\(${Bs},${Bs},${Bs},${nd}\\)$`),_oe=new RegExp(`^rgba\\(${Fn},${Fn},${Fn},${nd}\\)$`),Soe=new RegExp(`^hsl\\(${nd},${Fn},${Fn}\\)$`),Eoe=new RegExp(`^hsla\\(${nd},${Fn},${Fn},${nd}\\)$`),VP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};K_(Yd,id,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:FP,formatHex:FP,formatHex8:Aoe,formatHsl:Toe,formatRgb:BP,toString:BP});function FP(){return this.rgb().formatHex()}function Aoe(){return this.rgb().formatHex8()}function Toe(){return YD(this).formatHsl()}function BP(){return this.rgb().formatRgb()}function id(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=voe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?UP(e):r===3?new br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Wf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Wf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=boe.exec(t))?new br(e[1],e[2],e[3],1):(e=xoe.exec(t))?new br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=woe.exec(t))?Wf(e[1],e[2],e[3],e[4]):(e=_oe.exec(t))?Wf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Soe.exec(t))?GP(e[1],e[2]/100,e[3]/100,1):(e=Eoe.exec(t))?GP(e[1],e[2]/100,e[3]/100,e[4]):VP.hasOwnProperty(t)?UP(VP[t]):t==="transparent"?new br(NaN,NaN,NaN,0):null}function UP(t){return new br(t>>16&255,t>>8&255,t&255,1)}function Wf(t,e,r,n){return n<=0&&(t=e=r=NaN),new br(t,e,r,n)}function Poe(t){return t instanceof Yd||(t=id(t)),t?(t=t.rgb(),new br(t.r,t.g,t.b,t.opacity)):new br}function Eb(t,e,r,n){return arguments.length===1?Poe(t):new br(t,e,r,n??1)}function br(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}K_(br,Eb,KD(Yd,{brighter(t){return t=t==null?Pp:Math.pow(Pp,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rd:Math.pow(rd,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new br(va(this.r),va(this.g),va(this.b),Ip(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zP,formatHex:zP,formatHex8:Ioe,formatRgb:WP,toString:WP}));function zP(){return`#${da(this.r)}${da(this.g)}${da(this.b)}`}function Ioe(){return`#${da(this.r)}${da(this.g)}${da(this.b)}${da((isNaN(this.opacity)?1:this.opacity)*255)}`}function WP(){const t=Ip(this.opacity);return`${t===1?"rgb(":"rgba("}${va(this.r)}, ${va(this.g)}, ${va(this.b)}${t===1?")":`, ${t})`}`}function Ip(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function va(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function da(t){return t=va(t),(t<16?"0":"")+t.toString(16)}function GP(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new hn(t,e,r,n)}function YD(t){if(t instanceof hn)return new hn(t.h,t.s,t.l,t.opacity);if(t instanceof Yd||(t=id(t)),!t)return new hn;if(t instanceof hn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-e)/s+2:a=(e-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new hn(a,s,l,t.opacity)}function Ooe(t,e,r,n){return arguments.length===1?YD(t):new hn(t,e,r,n??1)}function hn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}K_(hn,Ooe,KD(Yd,{brighter(t){return t=t==null?Pp:Math.pow(Pp,t),new hn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rd:Math.pow(rd,t),new hn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new br(lv(t>=240?t-240:t+120,i,n),lv(t,i,n),lv(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new hn(qP(this.h),Gf(this.s),Gf(this.l),Ip(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ip(this.opacity);return`${t===1?"hsl(":"hsla("}${qP(this.h)}, ${Gf(this.s)*100}%, ${Gf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qP(t){return t=(t||0)%360,t<0?t+360:t}function Gf(t){return Math.max(0,Math.min(1,t||0))}function lv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Y_=t=>()=>t;function koe(t,e){return function(r){return t+r*e}}function Noe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function joe(t){return(t=+t)==1?XD:function(e,r){return r-e?Noe(e,r,t):Y_(isNaN(e)?r:e)}}function XD(t,e){var r=e-t;return r?koe(t,r):Y_(isNaN(t)?e:t)}const HP=function t(e){var r=joe(e);function n(i,o){var a=r((i=Eb(i)).r,(o=Eb(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),u=XD(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=t,n}(1);function Coe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function Roe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Doe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=ru(t[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function Moe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Op(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function $oe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ru(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var Ab=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uv=new RegExp(Ab.source,"g");function Loe(t){return function(){return t}}function Voe(t){return function(e){return t(e)+""}}function Foe(t,e){var r=Ab.lastIndex=uv.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(n=Ab.exec(t))&&(i=uv.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Op(n,i)})),r=uv.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Voe(l[0].x):Loe(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function ru(t,e){var r=typeof e,n;return e==null||r==="boolean"?Y_(e):(r==="number"?Op:r==="string"?(n=id(e))?(e=n,HP):Foe:e instanceof id?HP:e instanceof Date?Moe:Roe(e)?Coe:Array.isArray(e)?Doe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$oe:Op)(t,e)}function X_(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Boe(t,e){e===void 0&&(e=t,t=ru);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function Uoe(t){return function(){return t}}function kp(t){return+t}var KP=[0,1];function dr(t){return t}function Tb(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Uoe(isNaN(e)?NaN:.5)}function zoe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Woe(t,e,r){var n=t[0],i=t[1],o=e[0],a=e[1];return i<n?(n=Tb(i,n),o=r(a,o)):(n=Tb(n,i),o=r(o,a)),function(s){return o(n(s))}}function Goe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=Tb(t[a],t[a+1]),o[a]=r(e[a],e[a+1]);return function(s){var l=Kd(t,s,1,n)-1;return o[l](i[l](s))}}function Xd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Sg(){var t=KP,e=KP,r=ru,n,i,o,a=dr,s,l,u;function c(){var p=Math.min(t.length,e.length);return a!==dr&&(a=zoe(t[0],t[p-1])),s=p>2?Goe:Woe,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?o:(l||(l=s(t.map(n),e,r)))(n(a(p)))}return d.invert=function(p){return a(i((u||(u=s(e,t.map(n),Op)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,kp),c()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),r=X_,c()},d.clamp=function(p){return arguments.length?(a=p?!0:dr,c()):a!==dr},d.interpolate=function(p){return arguments.length?(r=p,c()):r},d.unknown=function(p){return arguments.length?(o=p,d):o},function(p,m){return n=p,i=m,c()}}function Q_(){return Sg()(dr,dr)}function qoe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Np(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function fl(t){return t=Np(Math.abs(t)),t?t[1]:NaN}function Hoe(t,e){return function(r,n){for(var i=r.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Koe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Yoe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function od(t){if(!(e=Yoe.exec(t)))throw new Error("invalid format: "+t);var e;return new J_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}od.prototype=J_.prototype;function J_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}J_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xoe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var QD;function Qoe(t,e){var r=Np(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(QD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Np(t,Math.max(0,e+o-1))[0]}function YP(t,e){var r=Np(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const XP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:qoe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>YP(t*100,e),r:YP,s:Qoe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function QP(t){return t}var JP=Array.prototype.map,ZP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Joe(t){var e=t.grouping===void 0||t.thousands===void 0?QP:Hoe(JP.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?QP:Koe(JP.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=od(d);var p=d.fill,m=d.align,w=d.sign,g=d.symbol,y=d.zero,x=d.width,v=d.comma,_=d.precision,I=d.trim,b=d.type;b==="n"?(v=!0,b="g"):XP[b]||(_===void 0&&(_=12),I=!0,b="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var T=g==="$"?r:g==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",A=g==="$"?n:/[%p]/.test(b)?a:"",S=XP[b],P=/[defgprs%]/.test(b);_=_===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(O){var C=T,j=A,L,F,B;if(b==="c")j=S(O)+j,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?l:S(Math.abs(O),_),I&&(O=Xoe(O)),G&&+O==0&&w!=="+"&&(G=!1),C=(G?w==="("?w:s:w==="-"||w==="("?"":w)+C,j=(b==="s"?ZP[8+QD/3]:"")+j+(G&&w==="("?")":""),P){for(L=-1,F=O.length;++L<F;)if(B=O.charCodeAt(L),48>B||B>57){j=(B===46?i+O.slice(L+1):O.slice(L))+j,O=O.slice(0,L);break}}}v&&!y&&(O=e(O,1/0));var V=C.length+O.length+j.length,W=V<x?new Array(x-V+1).join(p):"";switch(v&&y&&(O=e(W+O,W.length?x-j.length:1/0),W=""),m){case"<":O=C+O+j+W;break;case"=":O=C+W+O+j;break;case"^":O=W.slice(0,V=W.length>>1)+C+O+j+W.slice(V);break;default:O=W+C+O+j;break}return o(O)}return N.toString=function(){return d+""},N}function c(d,p){var m=u((d=od(d),d.type="f",d)),w=Math.max(-8,Math.min(8,Math.floor(fl(p)/3)))*3,g=Math.pow(10,-w),y=ZP[8+w/3];return function(x){return m(g*x)+y}}return{format:u,formatPrefix:c}}var qf,Z_,JD;Zoe({thousands:",",grouping:[3],currency:["$",""]});function Zoe(t){return qf=Joe(t),Z_=qf.format,JD=qf.formatPrefix,qf}function eae(t){return Math.max(0,-fl(Math.abs(t)))}function tae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fl(e)/3)))*3-fl(Math.abs(t)))}function rae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fl(e)-fl(t))+1}function ZD(t,e,r,n){var i=_b(t,e,r),o;switch(n=od(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=tae(i,a))&&(n.precision=o),JD(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=rae(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=eae(i))&&(n.precision=o-(n.type==="%")*2);break}}return Z_(n)}function $o(t){var e=t.domain;return t.ticks=function(r){var n=e();return xb(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return ZD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,a=n[i],s=n[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=wb(a,s,r),u===l)return n[i]=a,n[o]=s,e(n);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function jp(){var t=Q_();return t.copy=function(){return Xd(t,jp())},nn.apply(t,arguments),$o(t)}function eM(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,kp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return eM(t).unknown(e)},t=arguments.length?Array.from(t,kp):[0,1],$o(r)}function tM(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),t[r]=e.floor(i),t[n]=e.ceil(o),t}function eI(t){return Math.log(t)}function tI(t){return Math.exp(t)}function nae(t){return-Math.log(-t)}function iae(t){return-Math.exp(-t)}function oae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function aae(t){return t===10?oae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function sae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function rI(t){return(e,r)=>-t(-e,r)}function e1(t){const e=t(eI,tI),r=e.domain;let n=10,i,o;function a(){return i=sae(n),o=aae(n),r()[0]<0?(i=rI(i),o=rI(o),t(nae,iae)):t(eI,tI),e}return e.base=function(s){return arguments.length?(n=+s,a()):n},e.domain=function(s){return arguments.length?(r(s),a()):r()},e.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),m=i(c),w,g;const y=s==null?10:+s;let x=[];if(!(n%1)&&m-p<y){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(w=1;w<n;++w)if(g=p<0?w/o(-p):w*o(p),!(g<u)){if(g>c)break;x.push(g)}}else for(;p<=m;++p)for(w=n-1;w>=1;--w)if(g=p>0?w/o(-p):w*o(p),!(g<u)){if(g>c)break;x.push(g)}x.length*2<y&&(x=xb(u,c,y))}else x=xb(p,m,Math.min(m-p,y)).map(o);return d?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=od(l)).precision==null&&(l.trim=!0),l=Z_(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},e.nice=()=>r(tM(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function rM(){const t=e1(Sg()).domain([1,10]);return t.copy=()=>Xd(t,rM()).base(t.base()),nn.apply(t,arguments),t}function nI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function iI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function t1(t){var e=1,r=t(nI(e),iI(e));return r.constant=function(n){return arguments.length?t(nI(e=+n),iI(e)):e},$o(r)}function nM(){var t=t1(Sg());return t.copy=function(){return Xd(t,nM()).constant(t.constant())},nn.apply(t,arguments)}function oI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function lae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function uae(t){return t<0?-t*t:t*t}function r1(t){var e=t(dr,dr),r=1;function n(){return r===1?t(dr,dr):r===.5?t(lae,uae):t(oI(r),oI(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},$o(e)}function n1(){var t=r1(Sg());return t.copy=function(){return Xd(t,n1()).exponent(t.exponent())},nn.apply(t,arguments),t}function cae(){return n1.apply(null,arguments).exponent(.5)}function aI(t){return Math.sign(t)*t*t}function dae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function iM(){var t=Q_(),e=[0,1],r=!1,n;function i(o){var a=dae(t(o));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(o){return t.invert(aI(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,kp)).map(aI)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return iM(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},nn.apply(i,arguments),$o(i)}function oM(){var t=[],e=[],r=[],n;function i(){var a=0,s=Math.max(1,e.length);for(r=new Array(s-1);++a<s;)r[a-1]=goe(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:e[Kd(r,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(xo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return oM().domain(t).range(e).unknown(n)},nn.apply(o,arguments)}function aM(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Kd(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return aM().domain([t,e]).range(i).unknown(o)},nn.apply($o(a),arguments)}function sM(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[Kd(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return sM().domain(t).range(e).unknown(r)},nn.apply(i,arguments)}const cv=new Date,dv=new Date;function It(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>It(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),r&&(i.count=(o,a)=>(cv.setTime(+o),dv.setTime(+a),t(cv),t(dv),Math.floor(r(cv,dv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Cp=It(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Cp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?It(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Cp);Cp.range;const ui=1e3,Kr=ui*60,ci=Kr*60,Pi=ci*24,i1=Pi*7,sI=Pi*30,fv=Pi*365,fa=It(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ui)},(t,e)=>(e-t)/ui,t=>t.getUTCSeconds());fa.range;const o1=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ui)},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getMinutes());o1.range;const a1=It(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getUTCMinutes());a1.range;const s1=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ui-t.getMinutes()*Kr)},(t,e)=>{t.setTime(+t+e*ci)},(t,e)=>(e-t)/ci,t=>t.getHours());s1.range;const l1=It(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ci)},(t,e)=>(e-t)/ci,t=>t.getUTCHours());l1.range;const Qd=It(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Kr)/Pi,t=>t.getDate()-1);Qd.range;const Eg=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pi,t=>t.getUTCDate()-1);Eg.range;const lM=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pi,t=>Math.floor(t/Pi));lM.range;function Xa(t){return It(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Kr)/i1)}const Ag=Xa(0),Rp=Xa(1),fae=Xa(2),hae=Xa(3),hl=Xa(4),pae=Xa(5),mae=Xa(6);Ag.range;Rp.range;fae.range;hae.range;hl.range;pae.range;mae.range;function Qa(t){return It(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/i1)}const Tg=Qa(0),Dp=Qa(1),gae=Qa(2),yae=Qa(3),pl=Qa(4),vae=Qa(5),bae=Qa(6);Tg.range;Dp.range;gae.range;yae.range;pl.range;vae.range;bae.range;const u1=It(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());u1.range;const c1=It(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());c1.range;const Ii=It(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ii.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ii.range;const Oi=It(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Oi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Oi.range;function uM(t,e,r,n,i,o){const a=[[fa,1,ui],[fa,5,5*ui],[fa,15,15*ui],[fa,30,30*ui],[o,1,Kr],[o,5,5*Kr],[o,15,15*Kr],[o,30,30*Kr],[i,1,ci],[i,3,3*ci],[i,6,6*ci],[i,12,12*ci],[n,1,Pi],[n,2,2*Pi],[r,1,i1],[e,1,sI],[e,3,3*sI],[t,1,fv]];function s(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),w=m?m.range(u,+c+1):[];return p?w.reverse():w}function l(u,c,d){const p=Math.abs(c-u)/d,m=q_(([,,y])=>y).right(a,p);if(m===a.length)return t.every(_b(u/fv,c/fv,d));if(m===0)return Cp.every(Math.max(_b(u,c,d),1));const[w,g]=a[p/a[m-1][2]<a[m][2]/p?m-1:m];return w.every(g)}return[s,l]}const[xae,wae]=uM(Oi,c1,Tg,lM,l1,a1),[_ae,Sae]=uM(Ii,u1,Ag,Qd,s1,o1);function hv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ru(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Eae(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Du(i),c=Mu(i),d=Du(o),p=Mu(o),m=Du(a),w=Mu(a),g=Du(s),y=Mu(s),x=Du(l),v=Mu(l),_={a:G,A:V,b:W,B:Y,c:null,d:hI,e:hI,f:Hae,g:nse,G:ose,H:Wae,I:Gae,j:qae,L:cM,m:Kae,M:Yae,p:ee,q:X,Q:gI,s:yI,S:Xae,u:Qae,U:Jae,V:Zae,w:ese,W:tse,x:null,X:null,y:rse,Y:ise,Z:ase,"%":mI},I={a:re,A:Se,b:Ne,B:rt,c:null,d:pI,e:pI,f:cse,g:xse,G:_se,H:sse,I:lse,j:use,L:fM,m:dse,M:fse,p:Dt,q:Gt,Q:gI,s:yI,S:hse,u:pse,U:mse,V:gse,w:yse,W:vse,x:null,X:null,y:bse,Y:wse,Z:Sse,"%":mI},b={a:N,A:O,b:C,B:j,c:L,d:dI,e:dI,f:Fae,g:cI,G:uI,H:fI,I:fI,j:Mae,L:Vae,m:Dae,M:$ae,p:P,q:Rae,Q:Uae,s:zae,S:Lae,u:Oae,U:kae,V:Nae,w:Iae,W:jae,x:F,X:B,y:cI,Y:uI,Z:Cae,"%":Bae};_.x=T(r,_),_.X=T(n,_),_.c=T(e,_),I.x=T(r,I),I.X=T(n,I),I.c=T(e,I);function T(te,fe){return function(pe){var H=[],Be=-1,xe=0,nt=te.length,ut,qt,Tn;for(pe instanceof Date||(pe=new Date(+pe));++Be<nt;)te.charCodeAt(Be)===37&&(H.push(te.slice(xe,Be)),(qt=lI[ut=te.charAt(++Be)])!=null?ut=te.charAt(++Be):qt=ut==="e"?" ":"0",(Tn=fe[ut])&&(ut=Tn(pe,qt)),H.push(ut),xe=Be+1);return H.push(te.slice(xe,Be)),H.join("")}}function A(te,fe){return function(pe){var H=Ru(1900,void 0,1),Be=S(H,te,pe+="",0),xe,nt;if(Be!=pe.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(fe&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(xe=pv(Ru(H.y,0,1)),nt=xe.getUTCDay(),xe=nt>4||nt===0?Dp.ceil(xe):Dp(xe),xe=Eg.offset(xe,(H.V-1)*7),H.y=xe.getUTCFullYear(),H.m=xe.getUTCMonth(),H.d=xe.getUTCDate()+(H.w+6)%7):(xe=hv(Ru(H.y,0,1)),nt=xe.getDay(),xe=nt>4||nt===0?Rp.ceil(xe):Rp(xe),xe=Qd.offset(xe,(H.V-1)*7),H.y=xe.getFullYear(),H.m=xe.getMonth(),H.d=xe.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),nt="Z"in H?pv(Ru(H.y,0,1)).getUTCDay():hv(Ru(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(nt+5)%7:H.w+H.U*7-(nt+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,pv(H)):hv(H)}}function S(te,fe,pe,H){for(var Be=0,xe=fe.length,nt=pe.length,ut,qt;Be<xe;){if(H>=nt)return-1;if(ut=fe.charCodeAt(Be++),ut===37){if(ut=fe.charAt(Be++),qt=b[ut in lI?fe.charAt(Be++):ut],!qt||(H=qt(te,pe,H))<0)return-1}else if(ut!=pe.charCodeAt(H++))return-1}return H}function P(te,fe,pe){var H=u.exec(fe.slice(pe));return H?(te.p=c.get(H[0].toLowerCase()),pe+H[0].length):-1}function N(te,fe,pe){var H=m.exec(fe.slice(pe));return H?(te.w=w.get(H[0].toLowerCase()),pe+H[0].length):-1}function O(te,fe,pe){var H=d.exec(fe.slice(pe));return H?(te.w=p.get(H[0].toLowerCase()),pe+H[0].length):-1}function C(te,fe,pe){var H=x.exec(fe.slice(pe));return H?(te.m=v.get(H[0].toLowerCase()),pe+H[0].length):-1}function j(te,fe,pe){var H=g.exec(fe.slice(pe));return H?(te.m=y.get(H[0].toLowerCase()),pe+H[0].length):-1}function L(te,fe,pe){return S(te,e,fe,pe)}function F(te,fe,pe){return S(te,r,fe,pe)}function B(te,fe,pe){return S(te,n,fe,pe)}function G(te){return a[te.getDay()]}function V(te){return o[te.getDay()]}function W(te){return l[te.getMonth()]}function Y(te){return s[te.getMonth()]}function ee(te){return i[+(te.getHours()>=12)]}function X(te){return 1+~~(te.getMonth()/3)}function re(te){return a[te.getUTCDay()]}function Se(te){return o[te.getUTCDay()]}function Ne(te){return l[te.getUTCMonth()]}function rt(te){return s[te.getUTCMonth()]}function Dt(te){return i[+(te.getUTCHours()>=12)]}function Gt(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var fe=T(te+="",_);return fe.toString=function(){return te},fe},parse:function(te){var fe=A(te+="",!1);return fe.toString=function(){return te},fe},utcFormat:function(te){var fe=T(te+="",I);return fe.toString=function(){return te},fe},utcParse:function(te){var fe=A(te+="",!0);return fe.toString=function(){return te},fe}}}var lI={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,Aae=/^%/,Tae=/[\\^$*+?|[\]().{}]/g;function ke(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function Pae(t){return t.replace(Tae,"\\$&")}function Du(t){return new RegExp("^(?:"+t.map(Pae).join("|")+")","i")}function Mu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Iae(t,e,r){var n=Rt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Oae(t,e,r){var n=Rt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function kae(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Nae(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function jae(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function uI(t,e,r){var n=Rt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function cI(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Cae(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Rae(t,e,r){var n=Rt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Dae(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function dI(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Mae(t,e,r){var n=Rt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function fI(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function $ae(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Lae(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Vae(t,e,r){var n=Rt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Fae(t,e,r){var n=Rt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Bae(t,e,r){var n=Aae.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Uae(t,e,r){var n=Rt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function zae(t,e,r){var n=Rt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function hI(t,e){return ke(t.getDate(),e,2)}function Wae(t,e){return ke(t.getHours(),e,2)}function Gae(t,e){return ke(t.getHours()%12||12,e,2)}function qae(t,e){return ke(1+Qd.count(Ii(t),t),e,3)}function cM(t,e){return ke(t.getMilliseconds(),e,3)}function Hae(t,e){return cM(t,e)+"000"}function Kae(t,e){return ke(t.getMonth()+1,e,2)}function Yae(t,e){return ke(t.getMinutes(),e,2)}function Xae(t,e){return ke(t.getSeconds(),e,2)}function Qae(t){var e=t.getDay();return e===0?7:e}function Jae(t,e){return ke(Ag.count(Ii(t)-1,t),e,2)}function dM(t){var e=t.getDay();return e>=4||e===0?hl(t):hl.ceil(t)}function Zae(t,e){return t=dM(t),ke(hl.count(Ii(t),t)+(Ii(t).getDay()===4),e,2)}function ese(t){return t.getDay()}function tse(t,e){return ke(Rp.count(Ii(t)-1,t),e,2)}function rse(t,e){return ke(t.getFullYear()%100,e,2)}function nse(t,e){return t=dM(t),ke(t.getFullYear()%100,e,2)}function ise(t,e){return ke(t.getFullYear()%1e4,e,4)}function ose(t,e){var r=t.getDay();return t=r>=4||r===0?hl(t):hl.ceil(t),ke(t.getFullYear()%1e4,e,4)}function ase(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ke(e/60|0,"0",2)+ke(e%60,"0",2)}function pI(t,e){return ke(t.getUTCDate(),e,2)}function sse(t,e){return ke(t.getUTCHours(),e,2)}function lse(t,e){return ke(t.getUTCHours()%12||12,e,2)}function use(t,e){return ke(1+Eg.count(Oi(t),t),e,3)}function fM(t,e){return ke(t.getUTCMilliseconds(),e,3)}function cse(t,e){return fM(t,e)+"000"}function dse(t,e){return ke(t.getUTCMonth()+1,e,2)}function fse(t,e){return ke(t.getUTCMinutes(),e,2)}function hse(t,e){return ke(t.getUTCSeconds(),e,2)}function pse(t){var e=t.getUTCDay();return e===0?7:e}function mse(t,e){return ke(Tg.count(Oi(t)-1,t),e,2)}function hM(t){var e=t.getUTCDay();return e>=4||e===0?pl(t):pl.ceil(t)}function gse(t,e){return t=hM(t),ke(pl.count(Oi(t),t)+(Oi(t).getUTCDay()===4),e,2)}function yse(t){return t.getUTCDay()}function vse(t,e){return ke(Dp.count(Oi(t)-1,t),e,2)}function bse(t,e){return ke(t.getUTCFullYear()%100,e,2)}function xse(t,e){return t=hM(t),ke(t.getUTCFullYear()%100,e,2)}function wse(t,e){return ke(t.getUTCFullYear()%1e4,e,4)}function _se(t,e){var r=t.getUTCDay();return t=r>=4||r===0?pl(t):pl.ceil(t),ke(t.getUTCFullYear()%1e4,e,4)}function Sse(){return"+0000"}function mI(){return"%"}function gI(t){return+t}function yI(t){return Math.floor(+t/1e3)}var as,pM,mM;Ese({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ese(t){return as=Eae(t),pM=as.format,as.parse,mM=as.utcFormat,as.utcParse,as}function Ase(t){return new Date(t)}function Tse(t){return t instanceof Date?+t:+new Date(+t)}function d1(t,e,r,n,i,o,a,s,l,u){var c=Q_(),d=c.invert,p=c.domain,m=u(".%L"),w=u(":%S"),g=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),v=u("%b %d"),_=u("%B"),I=u("%Y");function b(T){return(l(T)<T?m:s(T)<T?w:a(T)<T?g:o(T)<T?y:n(T)<T?i(T)<T?x:v:r(T)<T?_:I)(T)}return c.invert=function(T){return new Date(d(T))},c.domain=function(T){return arguments.length?p(Array.from(T,Tse)):p().map(Ase)},c.ticks=function(T){var A=p();return t(A[0],A[A.length-1],T??10)},c.tickFormat=function(T,A){return A==null?b:u(A)},c.nice=function(T){var A=p();return(!T||typeof T.range!="function")&&(T=e(A[0],A[A.length-1],T??10)),T?p(tM(A,T)):c},c.copy=function(){return Xd(c,d1(t,e,r,n,i,o,a,s,l,u))},c}function Pse(){return nn.apply(d1(_ae,Sae,Ii,u1,Ag,Qd,s1,o1,fa,pM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ise(){return nn.apply(d1(xae,wae,Oi,c1,Tg,Eg,l1,a1,fa,mM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pg(){var t=0,e=1,r,n,i,o,a=dr,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(p){var m,w;return arguments.length?([m,w]=p,a=d(m,w),u):[a(0),a(1)]}}return u.range=c(ru),u.rangeRound=c(X_),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),u}}function Lo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gM(){var t=$o(Pg()(dr));return t.copy=function(){return Lo(t,gM())},Di.apply(t,arguments)}function yM(){var t=e1(Pg()).domain([1,10]);return t.copy=function(){return Lo(t,yM()).base(t.base())},Di.apply(t,arguments)}function vM(){var t=t1(Pg());return t.copy=function(){return Lo(t,vM()).constant(t.constant())},Di.apply(t,arguments)}function f1(){var t=r1(Pg());return t.copy=function(){return Lo(t,f1()).exponent(t.exponent())},Di.apply(t,arguments)}function Ose(){return f1.apply(null,arguments).exponent(.5)}function bM(){var t=[],e=dr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Kd(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>moe(t,o/n))},r.copy=function(){return bM(e).domain(t)},Di.apply(r,arguments)}function Ig(){var t=0,e=.5,r=1,n=1,i,o,a,s,l,u=dr,c,d=!1,p;function m(g){return isNaN(g=+g)?p:(g=.5+((g=+c(g))-o)*(n*g<n*o?s:l),u(d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,r]=g,i=c(t=+t),o=c(e=+e),a=c(r=+r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,m):[t,e,r]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(u=g,m):u};function w(g){return function(y){var x,v,_;return arguments.length?([x,v,_]=y,u=Boe(g,[x,v,_]),m):[u(0),u(.5),u(1)]}}return m.range=w(ru),m.rangeRound=w(X_),m.unknown=function(g){return arguments.length?(p=g,m):p},function(g){return c=g,i=g(t),o=g(e),a=g(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,m}}function xM(){var t=$o(Ig()(dr));return t.copy=function(){return Lo(t,xM())},Di.apply(t,arguments)}function wM(){var t=e1(Ig()).domain([.1,1,10]);return t.copy=function(){return Lo(t,wM()).base(t.base())},Di.apply(t,arguments)}function _M(){var t=t1(Ig());return t.copy=function(){return Lo(t,_M()).constant(t.constant())},Di.apply(t,arguments)}function h1(){var t=r1(Ig());return t.copy=function(){return Lo(t,h1()).exponent(t.exponent())},Di.apply(t,arguments)}function kse(){return h1.apply(null,arguments).exponent(.5)}const vI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:td,scaleDiverging:xM,scaleDivergingLog:wM,scaleDivergingPow:h1,scaleDivergingSqrt:kse,scaleDivergingSymlog:_M,scaleIdentity:eM,scaleImplicit:Sb,scaleLinear:jp,scaleLog:rM,scaleOrdinal:H_,scalePoint:pc,scalePow:n1,scaleQuantile:oM,scaleQuantize:aM,scaleRadial:iM,scaleSequential:gM,scaleSequentialLog:yM,scaleSequentialPow:f1,scaleSequentialQuantile:bM,scaleSequentialSqrt:Ose,scaleSequentialSymlog:vM,scaleSqrt:cae,scaleSymlog:nM,scaleThreshold:sM,scaleTime:Pse,scaleUtc:Ise,tickFormat:ZD},Symbol.toStringTag,{value:"Module"}));var Nse=ql;function jse(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],a=e(o);if(a!=null&&(s===void 0?a===a&&!Nse(a):r(a,s)))var s=a,l=o}return l}var Og=jse;function Cse(t,e){return t>e}var SM=Cse,Rse=Og,Dse=SM,Mse=tu;function $se(t){return t&&t.length?Rse(t,Mse,Dse):void 0}var Lse=$se;const io=De(Lse);function Vse(t,e){return t<e}var EM=Vse,Fse=Og,Bse=EM,Use=tu;function zse(t){return t&&t.length?Fse(t,Use,Bse):void 0}var Wse=zse;const kg=De(Wse);var Gse=P_,qse=Kn,Hse=jD,Kse=Ar;function Yse(t,e){var r=Kse(t)?Gse:Hse;return r(t,qse(e))}var Xse=Yse,Qse=kD,Jse=Xse;function Zse(t,e){return Qse(Jse(t,e),1)}var ele=Zse;const tle=De(ele);var rle=U_;function nle(t,e){return rle(t,e)}var ile=nle;const ml=De(ile);var nu=1e9,ole={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},m1,tt=!0,tn="[DecimalError] ",ba=tn+"Invalid argument: ",p1=tn+"Exponent out of range: ",iu=Math.floor,ta=Math.pow,ale=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr,kt=1e7,Xe=7,AM=9007199254740991,Mp=iu(AM/Xe),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Xe;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};oe.dividedBy=oe.div=function(t){return gi(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,r=e.constructor;return Fe(gi(e,new r(t),0,1),r.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return wt(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Nr))throw Error(tn+"NaN");if(r.s<1)throw Error(tn+(r.s?"NaN":"-Infinity"));return r.eq(Nr)?new n(0):(tt=!1,e=gi(ad(r,o),ad(t,o),o),tt=!0,Fe(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?IM(e,t):TM(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(tn+"NaN");return r.s?(tt=!1,e=gi(r,t,0,1).times(t),tt=!0,r.minus(e)):Fe(new n(r),i)};oe.naturalExponential=oe.exp=function(){return PM(this)};oe.naturalLogarithm=oe.ln=function(){return ad(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TM(e,t):IM(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ba+t);if(e=wt(i)+1,n=i.d.length-1,r=n*Xe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};oe.squareRoot=oe.sqrt=function(){var t,e,r,n,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(tn+"NaN")}for(t=wt(s),tt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=jn(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=iu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(o=n,n=o.plus(gi(s,o,a+2)).times(.5),jn(o.d).slice(0,a)===(e=jn(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Fe(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(e!="9999")break;a+=4}return tt=!0,Fe(n,r)};oe.times=oe.mul=function(t){var e,r,n,i,o,a,s,l,u,c=this,d=c.constructor,p=c.d,m=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,r=c.e+t.e,l=p.length,u=m.length,l<u&&(o=p,p=m,m=o,a=l,l=u,u=a),o=[],a=l+u,n=a;n--;)o.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=o[i]+m[n]*p[i-n-1]+e,o[i--]=s%kt|0,e=s/kt|0;o[i]=(o[i]+e)%kt|0}for(;!o[--a];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,tt?Fe(t,d.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Wn(t,0,nu),e===void 0?e=n.rounding:Wn(e,0,8),Fe(r,t+wt(r)+1,e))};oe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=La(n,!0):(Wn(t,0,nu),e===void 0?e=i.rounding:Wn(e,0,8),n=Fe(new i(n),t+1,e),r=La(n,!0,t+1)),r};oe.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?La(i):(Wn(t,0,nu),e===void 0?e=o.rounding:Wn(e,0,8),n=Fe(new o(i),t+wt(i)+1,e),r=La(n.abs(),!1,t+wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return Fe(new e(t),wt(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,r,n,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Nr);if(s=new l(s),!s.s){if(t.s<1)throw Error(tn+"Infinity");return s}if(s.eq(Nr))return s;if(n=l.precision,t.eq(Nr))return Fe(s,n);if(e=t.e,r=t.d.length-1,a=e>=r,o=s.s,a){if((r=c<0?-c:c)<=AM){for(i=new l(Nr),e=Math.ceil(n/Xe+4),tt=!1;r%2&&(i=i.times(s),xI(i.d,e)),r=iu(r/2),r!==0;)s=s.times(s),xI(s.d,e);return tt=!0,t.s<0?new l(Nr).div(i):Fe(i,n)}}else if(o<0)throw Error(tn+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,tt=!1,i=t.times(ad(s,n+u)),tt=!0,i=PM(i),i.s=o,i};oe.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=wt(i),n=La(i,r<=o.toExpNeg||r>=o.toExpPos)):(Wn(t,1,nu),e===void 0?e=o.rounding:Wn(e,0,8),i=Fe(new o(i),t,e),r=wt(i),n=La(i,t<=r||r<=o.toExpNeg,t)),n};oe.toSignificantDigits=oe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Wn(t,1,nu),e===void 0?e=n.rounding:Wn(e,0,8)),Fe(new n(r),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=wt(t),r=t.constructor;return La(t,e<=r.toExpNeg||e>=r.toExpPos)};function TM(t,e){var r,n,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),tt?Fe(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(n=l,o=-o,s=u.length):(n=u,i=a,s=l.length),a=Math.ceil(d/Xe),s=a>s?a+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,n=u,u=l,l=n),r=0;o;)r=(l[--o]=l[o]+u[o]+r)/kt|0,l[o]%=kt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,tt?Fe(e,d):e}function Wn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ba+t)}function jn(t){var e,r,n,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)n=t[e]+"",r=Xe-n.length,r&&(o+=Hi(r)),o+=n;a=t[e],n=a+"",r=Xe-n.length,r&&(o+=Hi(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var gi=function(){function t(n,i){var o,a=0,s=n.length;for(n=n.slice();s--;)o=n[s]*i+a,n[s]=o%kt|0,a=o/kt|0;return a&&n.unshift(a),n}function e(n,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,o){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*kt+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,a){var s,l,u,c,d,p,m,w,g,y,x,v,_,I,b,T,A,S,P=n.constructor,N=n.s==i.s?1:-1,O=n.d,C=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(tn+"Division by zero");for(l=n.e-i.e,A=C.length,b=O.length,m=new P(N),w=m.d=[],u=0;C[u]==(O[u]||0);)++u;if(C[u]>(O[u]||0)&&--l,o==null?v=o=P.precision:a?v=o+(wt(n)-wt(i))+1:v=o,v<0)return new P(0);if(v=v/Xe+2|0,u=0,A==1)for(c=0,C=C[0],v++;(u<b||c)&&v--;u++)_=c*kt+(O[u]||0),w[u]=_/C|0,c=_%C|0;else{for(c=kt/(C[0]+1)|0,c>1&&(C=t(C,c),O=t(O,c),A=C.length,b=O.length),I=A,g=O.slice(0,A),y=g.length;y<A;)g[y++]=0;S=C.slice(),S.unshift(0),T=C[0],C[1]>=kt/2&&++T;do c=0,s=e(C,g,A,y),s<0?(x=g[0],A!=y&&(x=x*kt+(g[1]||0)),c=x/T|0,c>1?(c>=kt&&(c=kt-1),d=t(C,c),p=d.length,y=g.length,s=e(d,g,p,y),s==1&&(c--,r(d,A<p?S:C,p))):(c==0&&(s=c=1),d=C.slice()),p=d.length,p<y&&d.unshift(0),r(g,d,y),s==-1&&(y=g.length,s=e(C,g,A,y),s<1&&(c++,r(g,A<y?S:C,y))),y=g.length):s===0&&(c++,g=[0]),w[u++]=c,s&&g[0]?g[y++]=O[I]||0:(g=[O[I]],y=1);while((I++<b||g[0]!==void 0)&&v--)}return w[0]||w.shift(),m.e=l,Fe(m,a?o+wt(m)+1:o)}}();function PM(t,e){var r,n,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(wt(t)>16)throw Error(p1+wt(t));if(!t.s)return new c(Nr);for(tt=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(n=Math.log(ta(2,u))/Math.LN10*2+5|0,s+=n,r=i=o=new c(Nr),c.precision=s;;){if(i=Fe(i.times(t),s),r=r.times(++l),a=o.plus(gi(i,r,s)),jn(a.d).slice(0,s)===jn(o.d).slice(0,s)){for(;u--;)o=Fe(o.times(o),s);return c.precision=d,e==null?(tt=!0,Fe(o,d)):o}o=a}}function wt(t){for(var e=t.e*Xe,r=t.d[0];r>=10;r/=10)e++;return e}function mv(t,e,r){if(e>t.LN10.sd())throw tt=!0,r&&(t.precision=r),Error(tn+"LN10 precision limit exceeded");return Fe(new t(t.LN10),e)}function Hi(t){for(var e="";t--;)e+="0";return e}function ad(t,e){var r,n,i,o,a,s,l,u,c,d=1,p=10,m=t,w=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(tn+(m.s?"NaN":"-Infinity"));if(m.eq(Nr))return new g(0);if(e==null?(tt=!1,u=y):u=e,m.eq(10))return e==null&&(tt=!0),mv(g,u);if(u+=p,g.precision=u,r=jn(w),n=r.charAt(0),o=wt(m),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=jn(m.d),n=r.charAt(0),d++;o=wt(m),n>1?(m=new g("0."+r),o++):m=new g(n+"."+r.slice(1))}else return l=mv(g,u+2,y).times(o+""),m=ad(new g(n+"."+r.slice(1)),u-p).plus(l),g.precision=y,e==null?(tt=!0,Fe(m,y)):m;for(s=a=m=gi(m.minus(Nr),m.plus(Nr),u),c=Fe(m.times(m),u),i=3;;){if(a=Fe(a.times(c),u),l=s.plus(gi(a,new g(i),u)),jn(l.d).slice(0,u)===jn(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(mv(g,u+2,y).times(o+""))),s=gi(s,new g(d),u),g.precision=y,e==null?(tt=!0,Fe(s,y)):s;s=l,i+=2}}function bI(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=iu(r/Xe),t.d=[],n=(r+1)%Xe,r<0&&(n+=Xe),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Xe;n<i;)t.d.push(+e.slice(n,n+=Xe));e=e.slice(n),n=Xe-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),tt&&(t.e>Mp||t.e<-Mp))throw Error(p1+r)}else t.s=0,t.e=0,t.d=[0];return t}function Fe(t,e,r){var n,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(n=e-a,n<0)n+=Xe,i=e,u=d[c=0];else{if(c=Math.ceil((n+1)/Xe),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;n%=Xe,i=n-Xe+a}if(r!==void 0&&(o=ta(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/ta(10,a-i):0:d[c-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(o=wt(t),d.length=1,e=e-o-1,d[0]=ta(10,(Xe-e%Xe)%Xe),t.e=iu(-e/Xe)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=c,o=1,c--):(d.length=c+1,o=ta(10,Xe-n),d[c]=i>0?(u/ta(10,a-i)%ta(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==kt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=kt)break;d[c--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(tt&&(t.e>Mp||t.e<-Mp))throw Error(p1+wt(t));return t}function IM(t,e){var r,n,i,o,a,s,l,u,c,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),tt?Fe(e,m):e;if(l=t.d,d=e.d,n=e.e,u=t.e,l=l.slice(),a=u-n,a){for(c=a<0,c?(r=l,a=-a,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(m/Xe),s)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(r=l,l=d,d=r,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=kt-1;--l[o],l[i]+=kt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,tt?Fe(e,m):e):new p(0)}function La(t,e,r){var n,i=wt(t),o=jn(t.d),a=o.length;return e?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+Hi(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Hi(-i-1)+o,r&&(n=r-a)>0&&(o+=Hi(n))):i>=a?(o+=Hi(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+Hi(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=Hi(n))),t.s<0?"-"+o:o}function xI(t,e){if(t.length>e)return t.length=e,!0}function OM(t){var e,r,n;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ba+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return bI(a,o.toString())}else if(typeof o!="string")throw Error(ba+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,ale.test(o))bI(a,o);else throw Error(ba+o)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=OM,i.config=i.set=sle,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function sle(t){if(!t||typeof t!="object")throw Error(tn+"Object expected");var e,r,n,i=["precision",1,nu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(iu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ba+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ba+r+": "+n);return this}var m1=OM(ole);Nr=new m1(1);const Le=m1;function lle(t){return fle(t)||dle(t)||cle(t)||ule()}function ule(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cle(t,e){if(t){if(typeof t=="string")return Pb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pb(t,e)}}function dle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fle(t){if(Array.isArray(t))return Pb(t)}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hle=function(e){return e},kM={},NM=function(e){return e===kM},wI=function(e){return function r(){return arguments.length===0||arguments.length===1&&NM(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},ple=function t(e,r){return e===1?r:wI(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==kM}).length;return a>=e?r.apply(void 0,i):t(e-a,wI(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return NM(d)?l.shift():d});return r.apply(void 0,lle(c).concat(l))}))})},Ng=function(e){return ple(e.length,e)},Ib=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},mle=Ng(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),gle=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return hle;var i=r.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Ob=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},jM=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=e.apply(void 0,o)),n}};function yle(t){var e;return t===0?e=1:e=Math.floor(new Le(t).abs().log(10).toNumber())+1,e}function vle(t,e,r){for(var n=new Le(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var ble=Ng(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),xle=Ng(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),wle=Ng(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const jg={rangeStep:vle,getDigitCount:yle,interpolateNumber:ble,uninterpolateNumber:xle,uninterpolateTruncation:wle};function kb(t){return Ele(t)||Sle(t)||CM(t)||_le()}function _le(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ele(t){if(Array.isArray(t))return Nb(t)}function sd(t,e){return Ple(t)||Tle(t,e)||CM(t,e)||Ale()}function Ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CM(t,e){if(t){if(typeof t=="string")return Nb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nb(t,e)}}function Nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tle(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function Ple(t){if(Array.isArray(t))return t}function RM(t){var e=sd(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function DM(t,e,r){if(t.lte(0))return new Le(0);var n=jg.getDigitCount(t.toNumber()),i=new Le(10).pow(n),o=t.div(i),a=n!==1?.05:.1,s=new Le(Math.ceil(o.div(a).toNumber())).add(r).mul(a),l=s.mul(i);return e?l:new Le(Math.ceil(l))}function Ile(t,e,r){var n=1,i=new Le(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new Le(10).pow(jg.getDigitCount(t)-1),i=new Le(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new Le(Math.floor(t)))}else t===0?i=new Le(Math.floor((e-1)/2)):r||(i=new Le(Math.floor(t)));var a=Math.floor((e-1)/2),s=gle(mle(function(l){return i.add(new Le(l-a).mul(n)).toNumber()}),Ib);return s(0,e)}function MM(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Le(0),tickMin:new Le(0),tickMax:new Le(0)};var o=DM(new Le(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new Le(0):(a=new Le(t).add(e).div(2),a=a.sub(new Le(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Le(e).sub(a).div(o).toNumber()),u=s+l+1;return u>r?MM(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:o,tickMin:a.sub(new Le(s).mul(o)),tickMax:a.add(new Le(l).mul(o))})}function Ole(t){var e=sd(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=RM([r,n]),l=sd(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(kb(Ib(0,i-1).map(function(){return 1/0}))):[].concat(kb(Ib(0,i-1).map(function(){return-1/0})),[c]);return r>n?Ob(d):d}if(u===c)return Ile(u,i,o);var p=MM(u,c,a,o),m=p.step,w=p.tickMin,g=p.tickMax,y=jg.rangeStep(w,g.add(new Le(.1).mul(m)),m);return r>n?Ob(y):y}function kle(t,e){var r=sd(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=RM([n,i]),s=sd(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var c=Math.max(e,2),d=DM(new Le(u).sub(l).div(c-1),o,0),p=[].concat(kb(jg.rangeStep(new Le(l),new Le(u).sub(new Le(.99).mul(d)),d)),[u]);return n>i?Ob(p):p}var Nle=jM(Ole),jle=jM(kle),Cle="Invariant failed";function Va(t,e){throw new Error(Cle)}var Rle=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$p.apply(this,arguments)}function Dle(t,e){return Vle(t)||Lle(t,e)||$le(t,e)||Mle()}function Mle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $le(t,e){if(t){if(typeof t=="string")return _I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _I(t,e)}}function _I(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Vle(t){if(Array.isArray(t))return t}function Fle(t,e){if(t==null)return{};var r=Ble(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ble(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VM(n.key),n)}}function Wle(t,e,r){return e&&zle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gle(t,e,r){return e=Lp(e),qle(t,$M()?Reflect.construct(e,r||[],Lp(t).constructor):e.apply(t,r))}function qle(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hle(t)}function Hle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($M=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(t)}function Kle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jb(t,e)}function jb(t,e){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jb(t,e)}function LM(t,e,r){return e=VM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VM(t){var e=Yle(t,"string");return gl(e)=="symbol"?e:e+""}function Yle(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cg=function(t){function e(){return Ule(this,e),Gle(this,e,arguments)}return Kle(e,t),Wle(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,a=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,c=n.xAxis,d=n.yAxis,p=Fle(n,Rle),m=se(p,!1);this.props.direction==="x"&&c.type!=="number"&&Va();var w=l.map(function(g){var y=u(g,s),x=y.x,v=y.y,_=y.value,I=y.errorVal;if(!I)return null;var b=[],T,A;if(Array.isArray(I)){var S=Dle(I,2);T=S[0],A=S[1]}else T=A=I;if(o==="vertical"){var P=c.scale,N=v+i,O=N+a,C=N-a,j=P(_-T),L=P(_+A);b.push({x1:L,y1:O,x2:L,y2:C}),b.push({x1:j,y1:N,x2:L,y2:N}),b.push({x1:j,y1:O,x2:j,y2:C})}else if(o==="horizontal"){var F=d.scale,B=x+i,G=B-a,V=B+a,W=F(_-T),Y=F(_+A);b.push({x1:G,y1:Y,x2:V,y2:Y}),b.push({x1:B,y1:W,x2:B,y2:Y}),b.push({x1:G,y1:W,x2:V,y2:W})}return M.createElement(Te,$p({className:"recharts-errorBar",key:"bar-".concat(b.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},m),b.map(function(ee){return M.createElement("line",$p({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return M.createElement(Te,{className:"recharts-errorBars"},w)}}])}(M.Component);LM(Cg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LM(Cg,"displayName","ErrorBar");function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function SI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ho(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(r),!0).forEach(function(n){Xle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xle(t,e,r){return e=Qle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qle(t){var e=Jle(t,"string");return ld(e)=="symbol"?e:e+""}function Jle(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FM=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Or(r,Fs);if(!a)return null;var s=Fs.defaultProps,l=s!==void 0?Ho(Ho({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(n||[]).reduce(function(c,d){var p=d.item,m=d.props,w=m.sectors||m.data||[];return c.concat(w.map(function(g){return{type:a.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(c){var d=c.item,p=d.type.defaultProps,m=p!==void 0?Ho(Ho({},p),d.props):{},w=m.dataKey,g=m.name,y=m.legendType,x=m.hide;return{inactive:x,dataKey:w,type:l.iconType||y||"square",color:g1(d),value:g||w,payload:m}}),Ho(Ho(Ho({},l),Fs.getWithHeight(a,i)),{},{payload:u,item:a})};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function EI(t){return rue(t)||tue(t)||eue(t)||Zle()}function Zle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eue(t,e){if(t){if(typeof t=="string")return Cb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cb(t,e)}}function tue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rue(t){if(Array.isArray(t))return Cb(t)}function Cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(r),!0).forEach(function(n){Us(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Us(t,e,r){return e=nue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nue(t){var e=iue(t,"string");return ud(e)=="symbol"?e:e+""}function iue(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function At(t,e,r){return ye(t)||ye(e)?r:Pt(e)?$r(t,e,r):ce(e)?e(t):r}function mc(t,e,r,n){var i=tle(t,function(s){return At(s,e)});if(r==="number"){var o=i.filter(function(s){return Q(s)||parseFloat(s)});return o.length?[kg(o),io(o)]:[1/0,-1/0]}var a=n?i.filter(function(s){return!ye(s)}):i;return a.map(function(s){return Pt(s)||s instanceof Date?s:""})}var oue=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(ur(d-c)!==ur(p-d)){var w=[];if(ur(p-d)===ur(l[1]-l[0])){m=p;var g=d+l[1]-l[0];w[0]=Math.min(g,(g+c)/2),w[1]=Math.max(g,(g+c)/2)}else{m=c;var y=p+l[1]-l[0];w[0]=Math.min(d,(y+d)/2),w[1]=Math.max(d,(y+d)/2)}var x=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>x[0]&&e<=x[1]||e>=w[0]&&e<=w[1]){a=i[u].index;break}}else{var v=Math.min(c,p),_=Math.max(c,p);if(e>(v+d)/2&&e<=(_+d)/2){a=i[u].index;break}}}else for(var I=0;I<s;I++)if(I===0&&e<=(n[I].coordinate+n[I+1].coordinate)/2||I>0&&I<s-1&&e>(n[I].coordinate+n[I-1].coordinate)/2&&e<=(n[I].coordinate+n[I+1].coordinate)/2||I===s-1&&e>(n[I].coordinate+n[I-1].coordinate)/2){a=n[I].index;break}return a},g1=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},aue=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),p=0,m=d.length;p<m;p++){var w=c[d[p]],g=w.items,y=w.cateAxisId,x=g.filter(function(A){return mi(A.type).indexOf("Bar")>=0});if(x&&x.length){var v=x[0].type.defaultProps,_=v!==void 0?ft(ft({},v),x[0].props):x[0].props,I=_.barSize,b=_[y];a[b]||(a[b]=[]);var T=ye(I)?r:I;a[b].push({item:x[0],stackList:x.slice(1),barSize:ye(T)?void 0:cr(T,n,0)})}}return a},sue=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=cr(r,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var p=!1,m=i/l,w=a.reduce(function(I,b){return I+b.barSize||0},0);w+=(l-1)*u,w>=i&&(w-=(l-1)*u,u=0),w>=i&&m>0&&(p=!0,m*=.9,w=l*m);var g=(i-w)/2>>0,y={offset:g-u,size:0};c=a.reduce(function(I,b){var T={item:b.item,position:{offset:y.offset+y.size+u,size:p?m:b.barSize}},A=[].concat(EI(I),[T]);return y=A[A.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(S){A.push({item:S,position:y})}),A},d)}else{var x=cr(n,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var v=(i-2*x-(l-1)*u)/l;v>1&&(v>>=0);var _=s===+s?Math.min(v,s):v;c=a.reduce(function(I,b,T){var A=[].concat(EI(I),[{item:b.item,position:{offset:x+(v+u)*T+(v-_)/2,size:_}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(S){A.push({item:S,position:A[A.length-1].position})}),A},d)}return c},lue=function(e,r,n,i){var o=n.children,a=n.width,s=n.margin,l=a-(s.left||0)-(s.right||0),u=FM({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,p=c.height,m=u.align,w=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&w==="middle")&&m!=="center"&&Q(e[m]))return ft(ft({},e),{},Us({},m,e[m]+(d||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&w!=="middle"&&Q(e[w]))return ft(ft({},e),{},Us({},w,e[w]+(p||0)))}return e},uue=function(e,r,n){return ye(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},BM=function(e,r,n,i,o){var a=r.props.children,s=Qr(a,Cg).filter(function(u){return uue(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=At(c,n);if(ye(d))return u;var p=Array.isArray(d)?[kg(d),io(d)]:[d,d],m=l.reduce(function(w,g){var y=At(c,g,0),x=p[0]-Math.abs(Array.isArray(y)?y[0]:y),v=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,w[0]),Math.max(v,w[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},cue=function(e,r,n,i,o){var a=r.map(function(s){return BM(e,s,n,o,i)}).filter(function(s){return!ye(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},UM=function(e,r,n,i,o){var a=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&BM(e,l,u,i)||mc(e,u,n,o)});if(n==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},zM=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},WM=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(a=!0),l.coordinate});return o||s.push(r),a||s.push(n),s},di=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ur(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var p=o?o.indexOf(d):d;return{coordinate:i(p)+u,value:d,offset:u}});return c.filter(function(d){return!Ql(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,p){return{coordinate:i(d)+u,value:d,index:p,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,p){return{coordinate:i(d)+u,value:o?o[d]:d,index:p,offset:u}})},gv=new WeakMap,Hf=function(e,r){if(typeof r!="function")return e;gv.has(e)||gv.set(e,new WeakMap);var n=gv.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},GM=function(e,r,n){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:td(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:jp(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:pc(),realScaleType:"point"}:o==="category"?{scale:td(),realScaleType:"band"}:{scale:jp(),realScaleType:"linear"};if(Da(i)){var l="scale".concat(mg(i));return{scale:(vI[l]||pc)(),realScaleType:vI[l]?l:"point"}}return ce(i)?{scale:i}:{scale:pc(),realScaleType:"point"}},TI=1e-4,qM=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-TI,a=Math.max(i[0],i[1])+TI,s=e(r[0]),l=e(r[n-1]);(s<o||s>a||l<o||l>a)&&e.domain([r[0],r[n-1]])}},due=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},fue=function(e,r){if(!r||r.length!==2||!Q(r[0])||!Q(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!Q(e[0])||e[0]<n)&&(o[0]=n),(!Q(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},hue=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0,s=0;s<r;++s){var l=Ql(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1])}},pue=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0;a<r;++a){var s=Ql(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},mue={sign:hue,expand:RY,none:sl,silhouette:DY,wiggle:MY,positive:pue},gue=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),o=mue[n],a=CY().keys(i).value(function(s,l){return+At(s,l,0)}).order(ib).offset(o);return a(e)},yue=function(e,r,n,i,o,a){if(!e)return null;var s=a?r.reverse():r,l={},u=s.reduce(function(d,p){var m,w=(m=p.type)!==null&&m!==void 0&&m.defaultProps?ft(ft({},p.type.defaultProps),p.props):p.props,g=w.stackId,y=w.hide;if(y)return d;var x=w[n],v=d[x]||{hasStack:!1,stackGroups:{}};if(Pt(g)){var _=v.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(p),v.hasStack=!0,v.stackGroups[g]=_}else v.stackGroups[Jl("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return ft(ft({},d),{},Us({},x,v))},l),c={};return Object.keys(u).reduce(function(d,p){var m=u[p];if(m.hasStack){var w={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,y){var x=m.stackGroups[y];return ft(ft({},g),{},Us({},y,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:gue(e,x.items,o)}))},w)}return ft(ft({},d),{},Us({},p,m))},c)},HM=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,a=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Nle(u,o,s);return e.domain([kg(c),io(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),p=jle(d,o,s);return{niceTicks:p}}return null};function PI(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ye(i[e.dataKey])){var s=dp(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=At(i,ye(a)?e.dataKey:a);return ye(l)?null:e.scale(l)}var II=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=At(a,r.dataKey,r.domain[s]);return ye(l)?null:r.scale(l)-o/2+i},vue=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},bue=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Pt(o)){var a=r[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},xue=function(e){return e.reduce(function(r,n){return[kg(n.concat([r[0]]).filter(Q)),io(n.concat([r[1]]).filter(Q))]},[1/0,-1/0])},KM=function(e,r,n){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=xue(c.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},OI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rb=function(e,r,n){if(ce(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Q(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(OI.test(e[0])){var o=+OI.exec(e[0])[1];i[0]=r[0]-o}else ce(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Q(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(kI.test(e[1])){var a=+kI.exec(e[1])[1];i[1]=r[1]+a}else ce(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Vp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=W_(r,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},NI=function(e,r,n){return!e||!e.length||ml(e,$r(n,"type.defaultProps.domain"))?r:e},YM=function(e,r){var n=e.type.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,a=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,c=n.hide;return ft(ft({},se(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:g1(e),value:At(r,i),type:l,payload:r,chartType:u,hide:c})};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function jI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(r),!0).forEach(function(n){XM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XM(t,e,r){return e=wue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wue(t){var e=_ue(t,"string");return cd(e)=="symbol"?e:e+""}function _ue(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sue(t,e){return Pue(t)||Tue(t,e)||Aue(t,e)||Eue()}function Eue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aue(t,e){if(t){if(typeof t=="string")return CI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CI(t,e)}}function CI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Pue(t){if(Array.isArray(t))return t}var Fp=Math.PI/180,Iue=function(e){return e*180/Math.PI},qe=function(e,r,n,i){return{x:e+Math.cos(-Fp*i)*n,y:r+Math.sin(-Fp*i)*n}},QM=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Oue=function(e,r,n,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=cr(e.cx,a,a/2),d=cr(e.cy,s,s/2),p=QM(a,s,n),m=cr(e.innerRadius,p,0),w=cr(e.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(y,x){var v=r[x],_=v.domain,I=v.reversed,b;if(ye(v.range))i==="angleAxis"?b=[l,u]:i==="radiusAxis"&&(b=[m,w]),I&&(b=[b[1],b[0]]);else{b=v.range;var T=b,A=Sue(T,2);l=A[0],u=A[1]}var S=GM(v,o),P=S.realScaleType,N=S.scale;N.domain(_).range(b),qM(N);var O=HM(N,ti(ti({},v),{},{realScaleType:P})),C=ti(ti(ti({},v),O),{},{range:b,radius:w,realScaleType:P,scale:N,cx:c,cy:d,innerRadius:m,outerRadius:w,startAngle:l,endAngle:u});return ti(ti({},y),{},XM({},x,C))},{})},kue=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-a,2))},Nue=function(e,r){var n=e.x,i=e.y,o=r.cx,a=r.cy,s=kue({x:n,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(n-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Iue(u),angleInRadian:u}},jue=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),a=Math.min(i,o);return{startAngle:r-a*360,endAngle:n-a*360}},Cue=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},RI=function(e,r){var n=e.x,i=e.y,o=Nue({x:n,y:i},r),a=o.radius,s=o.angle,l=r.innerRadius,u=r.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=jue(r),d=c.startAngle,p=c.endAngle,m=s,w;if(d<=p){for(;m>p;)m-=360;for(;m<d;)m+=360;w=m>=d&&m<=p}else{for(;m>d;)m-=360;for(;m<p;)m+=360;w=m>=p&&m<=d}return w?ti(ti({},r),{},{radius:a,angle:Cue(m,r)}):null},JM=function(e){return!D.isValidElement(e)&&!ce(e)&&typeof e!="boolean"?e.className:""};function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}var Rue=["offset"];function Due(t){return Vue(t)||Lue(t)||$ue(t)||Mue()}function Mue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ue(t,e){if(t){if(typeof t=="string")return Db(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Db(t,e)}}function Lue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vue(t){if(Array.isArray(t))return Db(t)}function Db(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fue(t,e){if(t==null)return{};var r=Bue(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(r),!0).forEach(function(n){Uue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uue(t,e,r){return e=zue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zue(t){var e=Wue(t,"string");return dd(e)=="symbol"?e:e+""}function Wue(t,e){if(dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fd.apply(this,arguments)}var Gue=function(e){var r=e.value,n=e.formatter,i=ye(e.children)?r:e.children;return ce(n)?n(i):i},que=function(e,r){var n=ur(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Hue=function(e,r,n){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,p=l.outerRadius,m=l.startAngle,w=l.endAngle,g=l.clockWise,y=(d+p)/2,x=que(m,w),v=x>=0?1:-1,_,I;i==="insideStart"?(_=m+v*a,I=g):i==="insideEnd"?(_=w-v*a,I=!g):i==="end"&&(_=w+v*a,I=g),I=x<=0?I:!I;var b=qe(u,c,y,_),T=qe(u,c,y,_+(I?1:-1)*359),A="M".concat(b.x,",").concat(b.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(I?0:1,`,
    `).concat(T.x,",").concat(T.y),S=ye(e.id)?Jl("recharts-radial-line-"):e.id;return M.createElement("text",fd({},n,{dominantBaseline:"central",className:ve("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:S,d:A})),M.createElement("textPath",{xlinkHref:"#".concat(S)},r))},Kue=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,p=(c+d)/2;if(i==="outside"){var m=qe(a,s,u+n,p),w=m.x,g=m.y;return{x:w,y:g,textAnchor:w>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,x=qe(a,s,y,p),v=x.x,_=x.y;return{x:v,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Yue=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,a=r,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,p=d*i,m=d>0?"end":"start",w=d>0?"start":"end",g=u>=0?1:-1,y=g*i,x=g>0?"end":"start",v=g>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return St(St({},_),n?{height:Math.max(l-n.y,0),width:u}:{})}if(o==="bottom"){var I={x:s+u/2,y:l+c+p,textAnchor:"middle",verticalAnchor:w};return St(St({},I),n?{height:Math.max(n.y+n.height-(l+c),0),width:u}:{})}if(o==="left"){var b={x:s-y,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return St(St({},b),n?{width:Math.max(b.x-n.x,0),height:c}:{})}if(o==="right"){var T={x:s+u+y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return St(St({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:c}:{})}var A=n?{width:u,height:c}:{};return o==="insideLeft"?St({x:s+y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},A):o==="insideRight"?St({x:s+u-y,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},A):o==="insideTop"?St({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:w},A):o==="insideBottom"?St({x:s+u/2,y:l+c-p,textAnchor:"middle",verticalAnchor:m},A):o==="insideTopLeft"?St({x:s+y,y:l+p,textAnchor:v,verticalAnchor:w},A):o==="insideTopRight"?St({x:s+u-y,y:l+p,textAnchor:x,verticalAnchor:w},A):o==="insideBottomLeft"?St({x:s+y,y:l+c-p,textAnchor:v,verticalAnchor:m},A):o==="insideBottomRight"?St({x:s+u-y,y:l+c-p,textAnchor:x,verticalAnchor:m},A):Hl(o)&&(Q(o.x)||ca(o.x))&&(Q(o.y)||ca(o.y))?St({x:s+cr(o.x,u),y:l+cr(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):St({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Xue=function(e){return"cx"in e&&Q(e.cx)};function jt(t){var e=t.offset,r=e===void 0?5:e,n=Fue(t,Rue),i=St({offset:r},n),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,p=i.textBreakAll;if(!o||ye(s)&&ye(l)&&!D.isValidElement(u)&&!ce(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var m;if(ce(u)){if(m=D.createElement(u,i),D.isValidElement(m))return m}else m=Gue(i);var w=Xue(o),g=se(i,!0);if(w&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Hue(i,m,g);var y=w?Kue(i):Yue(i);return M.createElement($a,fd({className:ve("recharts-label",d)},g,y,{breakAll:p}),m)}jt.displayName="Label";var ZM=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,p=e.y,m=e.top,w=e.left,g=e.width,y=e.height,x=e.clockWise,v=e.labelViewBox;if(v)return v;if(Q(g)&&Q(y)){if(Q(d)&&Q(p))return{x:d,y:p,width:g,height:y};if(Q(m)&&Q(w))return{x:m,y:w,width:g,height:y}}return Q(d)&&Q(p)?{x:d,y:p,width:0,height:0}:Q(r)&&Q(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},Que=function(e,r){return e?e===!0?M.createElement(jt,{key:"label-implicit",viewBox:r}):Pt(e)?M.createElement(jt,{key:"label-implicit",viewBox:r,value:e}):D.isValidElement(e)?e.type===jt?D.cloneElement(e,{key:"label-implicit",viewBox:r}):M.createElement(jt,{key:"label-implicit",content:e,viewBox:r}):ce(e)?M.createElement(jt,{key:"label-implicit",content:e,viewBox:r}):Hl(e)?M.createElement(jt,fd({viewBox:r},e,{key:"label-implicit"})):null:null},Jue=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=ZM(e),a=Qr(i,jt).map(function(l,u){return D.cloneElement(l,{viewBox:r||o,key:"label-".concat(u)})});if(!n)return a;var s=Que(e.label,r||o);return[s].concat(Due(a))};jt.parseViewBox=ZM;jt.renderCallByParent=Jue;function Zue(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ece=Zue;const tce=De(ece);function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}var rce=["valueAccessor"],nce=["data","dataKey","clockWise","id","textBreakAll"];function ice(t){return lce(t)||sce(t)||ace(t)||oce()}function oce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ace(t,e){if(t){if(typeof t=="string")return Mb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mb(t,e)}}function sce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lce(t){if(Array.isArray(t))return Mb(t)}function Mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bp(){return Bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bp.apply(this,arguments)}function MI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $I(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(r),!0).forEach(function(n){uce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uce(t,e,r){return e=cce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cce(t){var e=dce(t,"string");return hd(e)=="symbol"?e:e+""}function dce(t,e){if(hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LI(t,e){if(t==null)return{};var r=fce(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hce=function(e){return Array.isArray(e.value)?tce(e.value):e.value};function yi(t){var e=t.valueAccessor,r=e===void 0?hce:e,n=LI(t,rce),i=n.data,o=n.dataKey,a=n.clockWise,s=n.id,l=n.textBreakAll,u=LI(n,nce);return!i||!i.length?null:M.createElement(Te,{className:"recharts-label-list"},i.map(function(c,d){var p=ye(o)?r(c,d):At(c&&c.payload,o),m=ye(s)?{}:{id:"".concat(s,"-").concat(d)};return M.createElement(jt,Bp({},se(c,!0),u,m,{parentViewBox:c.parentViewBox,value:p,textBreakAll:l,viewBox:jt.parseViewBox(ye(a)?c:$I($I({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}yi.displayName="LabelList";function pce(t,e){return t?t===!0?M.createElement(yi,{key:"labelList-implicit",data:e}):M.isValidElement(t)||ce(t)?M.createElement(yi,{key:"labelList-implicit",data:e,content:t}):Hl(t)?M.createElement(yi,Bp({data:e},t,{key:"labelList-implicit"})):null:null}function mce(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Qr(n,yi).map(function(a,s){return D.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var o=pce(t.label,e);return[o].concat(ice(i))}yi.renderCallByParent=mce;function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$b.apply(this,arguments)}function VI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(r),!0).forEach(function(n){gce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gce(t,e,r){return e=yce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yce(t){var e=vce(t,"string");return pd(e)=="symbol"?e:e+""}function vce(t,e){if(pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bce=function(e,r){var n=ur(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Kf=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Fp,p=u?o:o+a*d,m=qe(r,n,c,p),w=qe(r,n,i,p),g=u?o-a*d:o,y=qe(r,n,c*Math.cos(d*Fp),g);return{center:m,circleTangency:w,lineTangency:y,theta:d}},e$=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=bce(a,s),u=a+l,c=qe(r,n,o,a),d=qe(r,n,o,u),p="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=qe(r,n,i,a),w=qe(r,n,i,u);p+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},xce=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=ur(c-u),p=Kf({cx:r,cy:n,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),m=p.circleTangency,w=p.lineTangency,g=p.theta,y=Kf({cx:r,cy:n,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),x=y.circleTangency,v=y.lineTangency,_=y.theta,I=l?Math.abs(u-c):Math.abs(u-c)-g-_;if(I<0)return s?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):e$({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var b="M ".concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(I>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var T=Kf({cx:r,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=T.circleTangency,S=T.lineTangency,P=T.theta,N=Kf({cx:r,cy:n,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=N.circleTangency,C=N.lineTangency,j=N.theta,L=l?Math.abs(u-c):Math.abs(u-c)-P-j;if(L<0&&a===0)return"".concat(b,"L").concat(r,",").concat(n,"Z");b+="L".concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(r,",").concat(n,"Z");return b},wce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},t$=function(e){var r=FI(FI({},wce),e),n=r.cx,i=r.cy,o=r.innerRadius,a=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,c=r.startAngle,d=r.endAngle,p=r.className;if(a<o||c===d)return null;var m=ve("recharts-sector",p),w=a-o,g=cr(s,w,0,!0),y;return g>0&&Math.abs(c-d)<360?y=xce({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,w/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):y=e$({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),M.createElement("path",$b({},se(r,!0),{className:m,d:y,role:"img"}))};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lb.apply(this,arguments)}function BI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(r),!0).forEach(function(n){_ce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ce(t,e,r){return e=Sce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sce(t){var e=Ece(t,"string");return md(e)=="symbol"?e:e+""}function Ece(t,e){if(md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zI={curveBasisClosed:_Y,curveBasisOpen:SY,curveBasis:wY,curveBumpX:sY,curveBumpY:lY,curveLinearClosed:EY,curveLinear:yg,curveMonotoneX:AY,curveMonotoneY:TY,curveNatural:PY,curveStep:IY,curveStepAfter:kY,curveStepBefore:OY},Yf=function(e){return e.x===+e.x&&e.y===+e.y},$u=function(e){return e.x},Lu=function(e){return e.y},Ace=function(e,r){if(ce(e))return e;var n="curve".concat(mg(e));return(n==="curveMonotone"||n==="curveBump")&&r?zI["".concat(n).concat(r==="vertical"?"Y":"X")]:zI[n]||yg},Tce=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Ace(n,s),d=u?o.filter(function(g){return Yf(g)}):o,p;if(Array.isArray(a)){var m=u?a.filter(function(g){return Yf(g)}):a,w=d.map(function(g,y){return UI(UI({},g),{},{base:m[y]})});return s==="vertical"?p=Lf().y(Lu).x1($u).x0(function(g){return g.base.x}):p=Lf().x($u).y1(Lu).y0(function(g){return g.base.y}),p.defined(Yf).curve(c),p(w)}return s==="vertical"&&Q(a)?p=Lf().y(Lu).x1($u).x0(a):Q(a)?p=Lf().x($u).y1(Lu).y0(a):p=YR().x($u).y(Lu),p.defined(Yf).curve(c),p(d)},zs=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?Tce(e):i;return D.createElement("path",Lb({},se(e,!1),fp(e),{className:ve("recharts-curve",r),d:a,ref:o}))},r$={exports:{}},Pce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ice=Pce,Oce=Ice;function n$(){}function i$(){}i$.resetWarningCache=n$;var kce=function(){function t(n,i,o,a,s,l){if(l!==Oce){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i$,resetWarningCache:n$};return r.PropTypes=r,r};r$.exports=kce();var Nce=r$.exports;const je=De(Nce);var jce=Object.getOwnPropertyNames,Cce=Object.getOwnPropertySymbols,Rce=Object.prototype.hasOwnProperty;function WI(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function Xf(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,a=o.get(r),s=o.get(n);if(a&&s)return a===n&&s===r;o.set(r,n),o.set(n,r);var l=t(r,n,i);return o.delete(r),o.delete(n),l}}function Dce(t){return t!=null?t[Symbol.toStringTag]:void 0}function GI(t){return jce(t).concat(Cce(t))}var Mce=Object.hasOwn||function(t,e){return Rce.call(t,e)};function Ja(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var $ce="__v",Lce="__o",Vce="_owner",qI=Object.getOwnPropertyDescriptor,HI=Object.keys;function Fce(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Bce(t,e){return Ja(t.getTime(),e.getTime())}function Uce(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zce(t,e){return t===e}function KI(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var p=a.value,m=s.value;if(r.equals(p[0],m[0],l,d,t,e,r)&&r.equals(p[1],m[1],p[0],m[0],t,e,r)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var Wce=Ja;function Gce(t,e,r){var n=HI(t),i=n.length;if(HI(e).length!==i)return!1;for(;i-- >0;)if(!o$(t,e,r,n[i]))return!1;return!0}function Vu(t,e,r){var n=GI(t),i=n.length;if(GI(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=n[i],!o$(t,e,r,o)||(a=qI(t,o),s=qI(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function qce(t,e){return Ja(t.valueOf(),e.valueOf())}function Hce(t,e){return t.source===e.source&&t.flags===e.flags}function YI(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&r.equals(a.value,s.value,a.value,s.value,t,e,r)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Kce(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Yce(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function o$(t,e,r,n){return(n===Vce||n===Lce||n===$ce)&&(t.$$typeof||e.$$typeof)?!0:Mce(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Xce="[object Arguments]",Qce="[object Boolean]",Jce="[object Date]",Zce="[object Error]",ede="[object Map]",tde="[object Number]",rde="[object Object]",nde="[object RegExp]",ide="[object Set]",ode="[object String]",ade="[object URL]",sde=Array.isArray,XI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,QI=Object.assign,lde=Object.prototype.toString.call.bind(Object.prototype.toString);function ude(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,p=t.areUrlsEqual,m=t.unknownTagComparators;return function(g,y,x){if(g===y)return!0;if(g==null||y==null)return!1;var v=typeof g;if(v!==typeof y)return!1;if(v!=="object")return v==="number"?a(g,y,x):v==="function"?i(g,y,x):!1;var _=g.constructor;if(_!==y.constructor)return!1;if(_===Object)return s(g,y,x);if(sde(g))return e(g,y,x);if(XI!=null&&XI(g))return d(g,y,x);if(_===Date)return r(g,y,x);if(_===RegExp)return u(g,y,x);if(_===Map)return o(g,y,x);if(_===Set)return c(g,y,x);var I=lde(g);if(I===Jce)return r(g,y,x);if(I===nde)return u(g,y,x);if(I===ede)return o(g,y,x);if(I===ide)return c(g,y,x);if(I===rde)return typeof g.then!="function"&&typeof y.then!="function"&&s(g,y,x);if(I===ade)return p(g,y,x);if(I===Zce)return n(g,y,x);if(I===Xce)return s(g,y,x);if(I===Qce||I===tde||I===ode)return l(g,y,x);if(m){var b=m[I];if(!b){var T=Dce(g);T&&(b=m[T])}if(b)return b(g,y,x)}return!1}}function cde(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Vu:Fce,areDatesEqual:Bce,areErrorsEqual:Uce,areFunctionsEqual:zce,areMapsEqual:n?WI(KI,Vu):KI,areNumbersEqual:Wce,areObjectsEqual:n?Vu:Gce,arePrimitiveWrappersEqual:qce,areRegExpsEqual:Hce,areSetsEqual:n?WI(YI,Vu):YI,areTypedArraysEqual:n?Vu:Kce,areUrlsEqual:Yce,unknownTagComparators:void 0};if(r&&(i=QI({},i,r(i))),e){var o=Xf(i.areArraysEqual),a=Xf(i.areMapsEqual),s=Xf(i.areObjectsEqual),l=Xf(i.areSetsEqual);i=QI({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function dde(t){return function(e,r,n,i,o,a,s){return t(e,r,s)}}function fde(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(l,u){var c=n(),d=c.cache,p=d===void 0?e?new WeakMap:void 0:d,m=c.meta;return r(l,u,{cache:p,equals:i,meta:m,strict:o})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return r(l,u,a)}}var hde=Vo();Vo({strict:!0});Vo({circular:!0});Vo({circular:!0,strict:!0});Vo({createInternalComparator:function(){return Ja}});Vo({strict:!0,createInternalComparator:function(){return Ja}});Vo({circular:!0,createInternalComparator:function(){return Ja}});Vo({circular:!0,createInternalComparator:function(){return Ja},strict:!0});function Vo(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=cde(t),l=ude(s),u=n?n(l):dde(l);return fde({circular:r,comparator:l,createState:i,equals:u,strict:a})}function pde(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function JI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):pde(i)};requestAnimationFrame(n)}function Vb(t){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}function mde(t){return bde(t)||vde(t)||yde(t)||gde()}function gde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yde(t,e){if(t){if(typeof t=="string")return ZI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZI(t,e)}}function ZI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bde(t){if(Array.isArray(t))return t}function xde(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,s=mde(a),l=s[0],u=s.slice(1);if(typeof l=="number"){JI(i.bind(null,u),l);return}i(l),JI(i.bind(null,u));return}Vb(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){a$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a$(t,e,r){return e=wde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wde(t){var e=_de(t,"string");return gd(e)==="symbol"?e:String(e)}function _de(t,e){if(gd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sde=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},Ede=function(e){return e},Ade=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gc=function(e,r){return Object.keys(r).reduce(function(n,i){return tO(tO({},n),{},a$({},i,e(i,r[i])))},{})},rO=function(e,r,n){return e.map(function(i){return"".concat(Ade(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Tde(t,e){return Ode(t)||Ide(t,e)||s$(t,e)||Pde()}function Pde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ide(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ode(t){if(Array.isArray(t))return t}function kde(t){return Cde(t)||jde(t)||s$(t)||Nde()}function Nde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s$(t,e){if(t){if(typeof t=="string")return Fb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fb(t,e)}}function jde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cde(t){if(Array.isArray(t))return Fb(t)}function Fb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Up=1e-4,l$=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},u$=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},nO=function(e,r){return function(n){var i=l$(e,r);return u$(i,n)}},Rde=function(e,r){return function(n){var i=l$(e,r),o=[].concat(kde(i.map(function(a,s){return a*s}).slice(1)),[0]);return u$(o,n)}},iO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],a=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=Tde(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=nO(i,a),p=nO(o,s),m=Rde(i,a),w=function(x){return x>1?1:x<0?0:x},g=function(x){for(var v=x>1?1:x,_=v,I=0;I<8;++I){var b=d(_)-v,T=m(_);if(Math.abs(b-v)<Up||T<Up)return p(_);_=w(_-b/T)}return p(_)};return g.isStepper=!1,g},Dde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,p){var m=-(c-d)*n,w=p*o,g=p+(m-w)*s/1e3,y=p*s/1e3+c;return Math.abs(y-d)<Up&&Math.abs(g)<Up?[d,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},Mde=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iO(i);case"spring":return Dde();default:if(i.split("(")[0]==="cubic-bezier")return iO(i)}return typeof i=="function"?i:null};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function oO(t){return Vde(t)||Lde(t)||c$(t)||$de()}function $de(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vde(t){if(Array.isArray(t))return Ub(t)}function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){Bb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bb(t,e,r){return e=Fde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fde(t){var e=Bde(t,"string");return yd(e)==="symbol"?e:String(e)}function Bde(t,e){if(yd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ude(t,e){return Gde(t)||Wde(t,e)||c$(t,e)||zde()}function zde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c$(t,e){if(t){if(typeof t=="string")return Ub(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ub(t,e)}}function Ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Gde(t){if(Array.isArray(t))return t}var zp=function(e,r,n){return e+(r-e)*n},zb=function(e){var r=e.from,n=e.to;return r!==n},qde=function t(e,r,n){var i=gc(function(o,a){if(zb(a)){var s=e(a.from,a.to,a.velocity),l=Ude(s,2),u=l[0],c=l[1];return $t($t({},a),{},{from:u,velocity:c})}return a},r);return n<1?gc(function(o,a){return zb(a)?$t($t({},a),{},{velocity:zp(a.velocity,i[o].velocity,n),from:zp(a.from,i[o].from,n)}):a},r):t(e,i,n-1)};const Hde=function(t,e,r,n,i){var o=Sde(t,e),a=o.reduce(function(y,x){return $t($t({},y),{},Bb({},x,[t[x],e[x]]))},{}),s=o.reduce(function(y,x){return $t($t({},y),{},Bb({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,c,d=function(){return null},p=function(){return gc(function(x,v){return v.from},s)},m=function(){return!Object.values(s).filter(zb).length},w=function(x){u||(u=x);var v=x-u,_=v/r.dt;s=qde(r,s,_),i($t($t($t({},t),e),p())),u=x,m()||(l=requestAnimationFrame(d))},g=function(x){c||(c=x);var v=(x-c)/n,_=gc(function(b,T){return zp.apply(void 0,oO(T).concat([r(v)]))},a);if(i($t($t($t({},t),e),_)),v<1)l=requestAnimationFrame(d);else{var I=gc(function(b,T){return zp.apply(void 0,oO(T).concat([r(1)]))},a);i($t($t($t({},t),e),I))}};return d=r.isStepper?w:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}var Kde=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Yde(t,e){if(t==null)return{};var r=Xde(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xde(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function yv(t){return efe(t)||Zde(t)||Jde(t)||Qde()}function Qde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jde(t,e){if(t){if(typeof t=="string")return Wb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wb(t,e)}}function Zde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function efe(t){if(Array.isArray(t))return Wb(t)}function Wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(r),!0).forEach(function(n){Qu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qu(t,e,r){return e=d$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d$(n.key),n)}}function nfe(t,e,r){return e&&rfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d$(t){var e=ife(t,"string");return yl(e)==="symbol"?e:String(e)}function ife(t,e){if(yl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ofe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gb(t,e)}function Gb(t,e){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gb(t,e)}function afe(t){var e=sfe();return function(){var n=Wp(t),i;if(e){var o=Wp(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return qb(this,i)}}function qb(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hb(t)}function Hb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(t)}var Gn=function(t){ofe(r,t);var e=afe(r);function r(n,i){var o;tfe(this,r),o=e.call(this,n,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,p=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Hb(o)),o.changeStyle=o.changeStyle.bind(Hb(o)),!s||m<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:c}),qb(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof p=="function")return o.state={style:u},qb(o);o.state={style:l?Qu({},l,u):u}}else o.state={style:{}};return o}return nfe(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,p=this.state.style;if(s){if(!a){var m={style:l?Qu({},l,c):c};this.state&&p&&(l&&p[l]!==c||!l&&p!==c)&&this.setState(m);return}if(!(hde(i.to,c)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=w||u?d:i.to;if(this.state&&p){var y={style:l?Qu({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(y)}this.runAnimation(sn(sn({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,p=i.onAnimationStart,m=Hde(a,s,Mde(u),l,this.changeStyle),w=function(){o.stopJSAnimation=m()};this.manager.start([p,c,w,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,p=d===void 0?0:d,m=function(g,y,x){if(x===0)return g;var v=y.duration,_=y.easing,I=_===void 0?"ease":_,b=y.style,T=y.properties,A=y.onAnimationEnd,S=x>0?a[x-1]:y,P=T||Object.keys(b);if(typeof I=="function"||I==="spring")return[].concat(yv(g),[o.runJSAnimation.bind(o,{from:S.style,to:b,duration:v,easing:I}),v]);var N=rO(P,v,I),O=sn(sn(sn({},S.style),b),{},{transition:N});return[].concat(yv(g),[O,v,A]).filter(Ede)};return this.manager.start([l].concat(yv(a.reduce(m,[c,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=xde());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,p=i.steps,m=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var g=s?Qu({},s,l):l,y=rO(Object.keys(g),a,u);w.start([c,o,sn(sn({},g),{},{transition:y}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Yde(i,Kde),u=D.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(m){var w=m.props,g=w.style,y=g===void 0?{}:g,x=w.className,v=D.cloneElement(m,sn(sn({},l),{},{style:sn(sn({},y),c),className:x}));return v};return u===1?d(D.Children.only(o)):M.createElement("div",null,D.Children.map(o,function(p){return d(p)}))}}]),r}(D.PureComponent);Gn.displayName="Animate";Gn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Gn.propTypes={from:je.oneOfType([je.object,je.string]),to:je.oneOfType([je.object,je.string]),attributeName:je.string,duration:je.number,begin:je.number,easing:je.oneOfType([je.string,je.func]),steps:je.arrayOf(je.shape({duration:je.number.isRequired,style:je.object.isRequired,easing:je.oneOfType([je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),je.func]),properties:je.arrayOf("string"),onAnimationEnd:je.func})),children:je.oneOfType([je.node,je.func]),isActive:je.bool,canBegin:je.bool,onAnimationEnd:je.func,shouldReAnimate:je.bool,onAnimationStart:je.func,onAnimationReStart:je.func};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gp.apply(this,arguments)}function lfe(t,e){return ffe(t)||dfe(t,e)||cfe(t,e)||ufe()}function ufe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cfe(t,e){if(t){if(typeof t=="string")return lO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lO(t,e)}}function lO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ffe(t){if(Array.isArray(t))return t}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){hfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hfe(t,e,r){return e=pfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pfe(t){var e=mfe(t,"string");return vd(e)=="symbol"?e:e+""}function mfe(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dO=function(e,r,n,i,o){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],p=0,m=4;p<m;p++)d[p]=o[p]>a?a:o[p];c="M".concat(e,",").concat(r+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(r)),c+="L ".concat(e+n-l*d[1],",").concat(r),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*d[1])),c+="L ".concat(e+n,",").concat(r+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+n-l*d[2],",").concat(r+i)),c+="L ".concat(e+l*d[3],",").concat(r+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var w=Math.min(a,o);c="M ".concat(e,",").concat(r+s*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(e+l*w,",").concat(r,`
            L `).concat(e+n-l*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*w,`
            L `).concat(e+n,",").concat(r+i-s*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(e+n-l*w,",").concat(r+i,`
            L `).concat(e+l*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*w," Z")}else c="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return c},gfe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,a=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),p=Math.max(a,a+l);return n>=u&&n<=c&&i>=d&&i<=p}return!1},yfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},y1=function(e){var r=cO(cO({},yfe),e),n=D.useRef(),i=D.useState(-1),o=lfe(i,2),a=o[0],s=o[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&s(I)}catch{}},[]);var l=r.x,u=r.y,c=r.width,d=r.height,p=r.radius,m=r.className,w=r.animationEasing,g=r.animationDuration,y=r.animationBegin,x=r.isAnimationActive,v=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=ve("recharts-rectangle",m);return v?M.createElement(Gn,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:g,animationEasing:w,isActive:v},function(I){var b=I.width,T=I.height,A=I.x,S=I.y;return M.createElement(Gn,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:x,easing:w},M.createElement("path",Gp({},se(r,!0),{className:_,d:dO(A,S,b,T,p),ref:n})))}):M.createElement("path",Gp({},se(r,!0),{className:_,d:dO(l,u,c,d,p)}))},vfe=["points","className","baseLinePoints","connectNulls"];function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},As.apply(this,arguments)}function bfe(t,e){if(t==null)return{};var r=xfe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fO(t){return Efe(t)||Sfe(t)||_fe(t)||wfe()}function wfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _fe(t,e){if(t){if(typeof t=="string")return Kb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kb(t,e)}}function Sfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Efe(t){if(Array.isArray(t))return Kb(t)}function Kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hO=function(e){return e&&e.x===+e.x&&e.y===+e.y},Afe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){hO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),hO(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},yc=function(e,r){var n=Afe(e);r&&(n=[n.reduce(function(o,a){return[].concat(fO(o),fO(a))},[])]);var i=n.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Tfe=function(e,r,n){var i=yc(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(yc(r.reverse(),n).slice(1))},Pfe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,o=e.connectNulls,a=bfe(e,vfe);if(!r||!r.length)return null;var s=ve("recharts-polygon",n);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=Tfe(r,i,o);return M.createElement("g",{className:s},M.createElement("path",As({},se(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?M.createElement("path",As({},se(a,!0),{fill:"none",d:yc(r,o)})):null,l?M.createElement("path",As({},se(a,!0),{fill:"none",d:yc(i,o)})):null)}var c=yc(r,o);return M.createElement("path",As({},se(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yb.apply(this,arguments)}var Rg=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,a=ve("recharts-dot",o);return r===+r&&n===+n&&i===+i?D.createElement("circle",Yb({},se(e,!1),fp(e),{className:a,cx:r,cy:n,r:i})):null};function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}var Ife=["x","y","top","left","width","height","className"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xb.apply(this,arguments)}function pO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ofe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(r),!0).forEach(function(n){kfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kfe(t,e,r){return e=Nfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nfe(t){var e=jfe(t,"string");return bd(e)=="symbol"?e:e+""}function jfe(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cfe(t,e){if(t==null)return{};var r=Rfe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Dfe=function(e,r,n,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},Mfe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,p=e.height,m=p===void 0?0:p,w=e.className,g=Cfe(e,Ife),y=Ofe({x:n,y:o,top:s,left:u,width:d,height:m},g);return!Q(n)||!Q(o)||!Q(d)||!Q(m)||!Q(s)||!Q(u)?null:M.createElement("path",Xb({},se(y,!0),{className:ve("recharts-cross",w),d:Dfe(n,o,d,m,s,u)}))},$fe=Og,Lfe=SM,Vfe=Kn;function Ffe(t,e){return t&&t.length?$fe(t,Vfe(e),Lfe):void 0}var Bfe=Ffe;const Ufe=De(Bfe);var zfe=Og,Wfe=Kn,Gfe=EM;function qfe(t,e){return t&&t.length?zfe(t,Wfe(e),Gfe):void 0}var Hfe=qfe;const Kfe=De(Hfe);var Yfe=["cx","cy","angle","ticks","axisLine"],Xfe=["ticks","tick","angle","tickFormatter","stroke"];function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vc.apply(this,arguments)}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ko(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){Dg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gO(t,e){if(t==null)return{};var r=Qfe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h$(n.key),n)}}function Zfe(t,e,r){return e&&yO(t.prototype,e),r&&yO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ehe(t,e,r){return e=qp(e),the(t,f$()?Reflect.construct(e,r||[],qp(t).constructor):e.apply(t,r))}function the(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rhe(t)}function rhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f$=function(){return!!t})()}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(t)}function nhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}function Qb(t,e){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qb(t,e)}function Dg(t,e,r){return e=h$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h$(t){var e=ihe(t,"string");return vl(e)=="symbol"?e:e+""}function ihe(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mg=function(t){function e(){return Jfe(this,e),ehe(this,e,arguments)}return nhe(e,t),Zfe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return qe(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.angle,s=n.ticks,l=Ufe(s,function(c){return c.coordinate||0}),u=Kfe(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.angle,s=n.ticks,l=n.axisLine,u=gO(n,Yfe),c=s.reduce(function(w,g){return[Math.min(w[0],g.coordinate),Math.max(w[1],g.coordinate)]},[1/0,-1/0]),d=qe(i,o,c[0],a),p=qe(i,o,c[1],a),m=Ko(Ko(Ko({},se(u,!1)),{},{fill:"none"},se(l,!1)),{},{x1:d.x,y1:d.y,x2:p.x,y2:p.y});return M.createElement("line",vc({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=gO(i,Xfe),d=this.getTickTextAnchor(),p=se(c,!1),m=se(a,!1),w=o.map(function(g,y){var x=n.getTickValueCoord(g),v=Ko(Ko(Ko(Ko({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},p),{},{stroke:"none",fill:u},m),{},{index:y},x),{},{payload:g});return M.createElement(Te,vc({className:ve("recharts-polar-radius-axis-tick",JM(a)),key:"tick-".concat(g.coordinate)},Ma(n.props,g,y)),e.renderTickItem(a,v,l?l(g.value,y):g.value))});return M.createElement(Te,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,a=n.tick;return!i||!i.length?null:M.createElement(Te,{className:ve("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),jt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var a;return M.isValidElement(n)?a=M.cloneElement(n,i):ce(n)?a=n(i):a=M.createElement($a,vc({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(D.PureComponent);Dg(Mg,"displayName","PolarRadiusAxis");Dg(Mg,"axisType","radiusAxis");Dg(Mg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ra.apply(this,arguments)}function vO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(r),!0).forEach(function(n){$g(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ohe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m$(n.key),n)}}function ahe(t,e,r){return e&&bO(t.prototype,e),r&&bO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function she(t,e,r){return e=Hp(e),lhe(t,p$()?Reflect.construct(e,r||[],Hp(t).constructor):e.apply(t,r))}function lhe(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uhe(t)}function uhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p$=function(){return!!t})()}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(t)}function che(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jb(t,e)}function $g(t,e,r){return e=m$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m$(t){var e=dhe(t,"string");return bl(e)=="symbol"?e:e+""}function dhe(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fhe=Math.PI/180,xO=1e-5,Lg=function(t){function e(){return ohe(this,e),she(this,e,arguments)}return che(e,t),ahe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=qe(o,a,s,n.coordinate),p=qe(o,a,s+(l==="inner"?-1:1)*c,n.coordinate);return{x1:d.x,y1:d.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*fhe),a;return o>xO?a=i==="outer"?"start":"end":o<-xO?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.radius,s=n.axisLine,l=n.axisLineType,u=Yo(Yo({},se(this.props,!1)),{},{fill:"none"},se(s,!1));if(l==="circle")return M.createElement(Rg,ra({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,d=c.map(function(p){return qe(i,o,a,p.coordinate)});return M.createElement(Pfe,ra({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=se(this.props,!1),d=se(a,!1),p=Yo(Yo({},c),{},{fill:"none"},se(s,!1)),m=o.map(function(w,g){var y=n.getTickLineCoord(w),x=n.getTickTextAnchor(w),v=Yo(Yo(Yo({textAnchor:x},c),{},{stroke:"none",fill:u},d),{},{index:g,payload:w,x:y.x2,y:y.y2});return M.createElement(Te,ra({className:ve("recharts-polar-angle-axis-tick",JM(a)),key:"tick-".concat(w.coordinate)},Ma(n.props,w,g)),s&&M.createElement("line",ra({className:"recharts-polar-angle-axis-tick-line"},p,y)),a&&e.renderTickItem(a,v,l?l(w.value,g):w.value))});return M.createElement(Te,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,a=n.axisLine;return o<=0||!i||!i.length?null:M.createElement(Te,{className:ve("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var a;return M.isValidElement(n)?a=M.cloneElement(n,i):ce(n)?a=n(i):a=M.createElement($a,ra({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(D.PureComponent);$g(Lg,"displayName","PolarAngleAxis");$g(Lg,"axisType","angleAxis");$g(Lg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var hhe=bD,phe=hhe(Object.getPrototypeOf,Object),mhe=phe,ghe=Ci,yhe=mhe,vhe=Ri,bhe="[object Object]",xhe=Function.prototype,whe=Object.prototype,g$=xhe.toString,_he=whe.hasOwnProperty,She=g$.call(Object);function Ehe(t){if(!vhe(t)||ghe(t)!=bhe)return!1;var e=yhe(t);if(e===null)return!0;var r=_he.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&g$.call(r)==She}var Ahe=Ehe;const The=De(Ahe);var Phe=Ci,Ihe=Ri,Ohe="[object Boolean]";function khe(t){return t===!0||t===!1||Ihe(t)&&Phe(t)==Ohe}var Nhe=khe;const jhe=De(Nhe);function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function Kp(){return Kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kp.apply(this,arguments)}function Che(t,e){return $he(t)||Mhe(t,e)||Dhe(t,e)||Rhe()}function Rhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dhe(t,e){if(t){if(typeof t=="string")return wO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wO(t,e)}}function wO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function $he(t){if(Array.isArray(t))return t}function _O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(r),!0).forEach(function(n){Lhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lhe(t,e,r){return e=Vhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vhe(t){var e=Fhe(t,"string");return xd(e)=="symbol"?e:e+""}function Fhe(t,e){if(xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EO=function(e,r,n,i,o){var a=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-a/2,",").concat(r+o),s+="L ".concat(e+n-a/2-i,",").concat(r+o),s+="L ".concat(e,",").concat(r," Z"),s},Bhe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Uhe=function(e){var r=SO(SO({},Bhe),e),n=D.useRef(),i=D.useState(-1),o=Che(i,2),a=o[0],s=o[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var l=r.x,u=r.y,c=r.upperWidth,d=r.lowerWidth,p=r.height,m=r.className,w=r.animationEasing,g=r.animationDuration,y=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||p!==+p||c===0&&d===0||p===0)return null;var v=ve("recharts-trapezoid",m);return x?M.createElement(Gn,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:p,x:l,y:u},duration:g,animationEasing:w,isActive:x},function(_){var I=_.upperWidth,b=_.lowerWidth,T=_.height,A=_.x,S=_.y;return M.createElement(Gn,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:w},M.createElement("path",Kp({},se(r,!0),{className:v,d:EO(A,S,I,b,T),ref:n})))}):M.createElement("g",null,M.createElement("path",Kp({},se(r,!0),{className:v,d:EO(l,u,c,d,p)})))},zhe=["option","shapeType","propTransformer","activeClassName","isActive"];function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function Whe(t,e){if(t==null)return{};var r=Ghe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ghe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){qhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qhe(t,e,r){return e=Hhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hhe(t){var e=Khe(t,"string");return wd(e)=="symbol"?e:e+""}function Khe(t,e){if(wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yhe(t,e){return Yp(Yp({},e),t)}function Xhe(t,e){return t==="symbols"}function TO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return M.createElement(y1,r);case"trapezoid":return M.createElement(Uhe,r);case"sector":return M.createElement(t$,r);case"symbols":if(Xhe(e))return M.createElement(M_,r);break;default:return null}}function Qhe(t){return D.isValidElement(t)?t.props:t}function y$(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Yhe:n,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Whe(t,zhe),u;if(D.isValidElement(e))u=D.cloneElement(e,Yp(Yp({},l),Qhe(e)));else if(ce(e))u=e(l);else if(The(e)&&!jhe(e)){var c=i(e,l);u=M.createElement(TO,{shapeType:r,elementProps:c})}else{var d=l;u=M.createElement(TO,{shapeType:r,elementProps:d})}return s?M.createElement(Te,{className:a},u):u}function Vg(t,e){return e!=null&&"trapezoids"in t.props}function Fg(t,e){return e!=null&&"sectors"in t.props}function _d(t,e){return e!=null&&"points"in t.props}function Jhe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function Zhe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function epe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function tpe(t,e){var r;return Vg(t,e)?r=Jhe:Fg(t,e)?r=Zhe:_d(t,e)&&(r=epe),r}function rpe(t,e){var r;return Vg(t,e)?r="trapezoids":Fg(t,e)?r="sectors":_d(t,e)&&(r="points"),r}function npe(t,e){if(Vg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Fg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return _d(t,e)?e.payload:{}}function ipe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=rpe(r,e),o=npe(r,e),a=n.filter(function(l,u){var c=ml(o,l),d=r.props[i].filter(function(w){var g=tpe(r,e);return g(w,e)}),p=r.props[i].indexOf(d[d.length-1]),m=u===p;return c&&m}),s=n.indexOf(a[a.length-1]);return s}var xh;function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ts.apply(this,arguments)}function PO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(r),!0).forEach(function(n){qr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ope(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b$(n.key),n)}}function ape(t,e,r){return e&&IO(t.prototype,e),r&&IO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function spe(t,e,r){return e=Xp(e),lpe(t,v$()?Reflect.construct(e,r||[],Xp(t).constructor):e.apply(t,r))}function lpe(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return upe(t)}function upe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(t)}function cpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zb(t,e)}function Zb(t,e){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zb(t,e)}function qr(t,e,r){return e=b$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b$(t){var e=dpe(t,"string");return xl(e)=="symbol"?e:e+""}function dpe(t,e){if(xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mi=function(t){function e(r){var n;return ope(this,e),n=spe(this,e,[r]),qr(n,"pieRef",null),qr(n,"sectorRefs",[]),qr(n,"id",Jl("recharts-pie-")),qr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ce(i)&&i()}),qr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ce(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return cpe(e,t),ape(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=se(this.props,!1),d=se(a,!1),p=se(s,!1),m=a&&a.offsetRadius||20,w=n.map(function(g,y){var x=(g.startAngle+g.endAngle)/2,v=qe(g.cx,g.cy,g.outerRadius+m,x),_=Ue(Ue(Ue(Ue({},c),g),{},{stroke:"none"},d),{},{index:y,textAnchor:e.getTextAnchor(v.x,g.cx)},v),I=Ue(Ue(Ue(Ue({},c),g),{},{fill:"none",stroke:g.fill},p),{},{index:y,points:[qe(g.cx,g.cy,g.outerRadius,x),v]}),b=l;return ye(l)&&ye(u)?b="value":ye(l)&&(b=u),M.createElement(Te,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},s&&e.renderLabelLineItem(s,I,"line"),e.renderLabelItem(a,_,At(g,b)))});return M.createElement(Te,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return n.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=i.isActiveIndex(c),p=l&&i.hasActiveIndex()?l:null,m=d?a:p,w=Ue(Ue({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return M.createElement(Te,Ts({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ma(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),M.createElement(y$,Ts({option:m,isActive:d,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,p=d.prevSectors,m=d.prevIsAnimationActive;return M.createElement(Gn,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var g=w.t,y=[],x=o&&o[0],v=x.startAngle;return o.forEach(function(_,I){var b=p&&p[I],T=I>0?$r(_,"paddingAngle",0):0;if(b){var A=gr(b.endAngle-b.startAngle,_.endAngle-_.startAngle),S=Ue(Ue({},_),{},{startAngle:v+T,endAngle:v+A(g)+T});y.push(S),v=S.endAngle}else{var P=_.endAngle,N=_.startAngle,O=gr(0,P-N),C=O(g),j=Ue(Ue({},_),{},{startAngle:v+T,endAngle:v+C+T});y.push(j),v=j.endAngle}}),M.createElement(Te,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!ml(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,p=i.outerRadius,m=i.isAnimationActive,w=this.state.isAnimationFinished;if(o||!a||!a.length||!Q(u)||!Q(c)||!Q(d)||!Q(p))return null;var g=ve("recharts-pie",s);return M.createElement(Te,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){n.pieRef=x}},this.renderSectors(),l&&this.renderLabels(a),jt.renderCallByParent(this.props,null,!1),(!m||w)&&yi.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(M.isValidElement(n))return M.cloneElement(n,i);if(ce(n))return n(i);var a=ve("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement(zs,Ts({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,o){if(M.isValidElement(n))return M.cloneElement(n,i);var a=o;if(ce(n)&&(a=n(i),M.isValidElement(a)))return a;var s=ve("recharts-pie-label-text",typeof n!="boolean"&&!ce(n)?n.className:"");return M.createElement($a,Ts({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(D.PureComponent);xh=Mi;qr(Mi,"displayName","Pie");qr(Mi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ya.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});qr(Mi,"parseDeltaAngle",function(t,e){var r=ur(e-t),n=Math.min(Math.abs(e-t),360);return r*n});qr(Mi,"getRealPieData",function(t){var e=t.data,r=t.children,n=se(t,!1),i=Qr(r,_g);return e&&e.length?e.map(function(o,a){return Ue(Ue(Ue({payload:o},n),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Ue(Ue({},n),o.props)}):[]});qr(Mi,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,o=e.height,a=QM(i,o),s=n+cr(t.cx,i,i/2),l=r+cr(t.cy,o,o/2),u=cr(t.innerRadius,a,0),c=cr(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});qr(Mi,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ue(Ue({},e.type.defaultProps),e.props):e.props,i=xh.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,a=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,c=n.nameKey,d=n.valueKey,p=n.tooltipType,m=Math.abs(n.minAngle),w=xh.parseCoordinateOfPie(n,r),g=xh.parseDeltaAngle(a,s),y=Math.abs(g),x=u;ye(u)&&ye(d)?(xn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):ye(u)&&(xn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=d);var v=i.filter(function(S){return At(S,x,0)!==0}).length,_=(y>=360?v:v-1)*l,I=y-v*m-_,b=i.reduce(function(S,P){var N=At(P,x,0);return S+(Q(N)?N:0)},0),T;if(b>0){var A;T=i.map(function(S,P){var N=At(S,x,0),O=At(S,c,P),C=(Q(N)?N:0)/b,j;P?j=A.endAngle+ur(g)*l*(N!==0?1:0):j=a;var L=j+ur(g)*((N!==0?m:0)+C*I),F=(j+L)/2,B=(w.innerRadius+w.outerRadius)/2,G=[{name:O,value:N,payload:S,dataKey:x,type:p}],V=qe(w.cx,w.cy,B,F);return A=Ue(Ue(Ue({percent:C,cornerRadius:o,name:O,tooltipPayload:G,midAngle:F,middleRadius:B,tooltipPosition:V},S),w),{},{value:At(S,x),startAngle:j,endAngle:L,payload:S,paddingAngle:ur(g)*l}),A})}return Ue(Ue({},w),{},{sectors:T,data:i})});var fpe=Math.ceil,hpe=Math.max;function ppe(t,e,r,n){for(var i=-1,o=hpe(fpe((e-t)/(r||1)),0),a=Array(o);o--;)a[n?o:++i]=t,t+=r;return a}var mpe=ppe,gpe=LD,OO=1/0,ype=17976931348623157e292;function vpe(t){if(!t)return t===0?t:0;if(t=gpe(t),t===OO||t===-OO){var e=t<0?-1:1;return e*ype}return t===t?t:0}var x$=vpe,bpe=mpe,xpe=wg,vv=x$;function wpe(t){return function(e,r,n){return n&&typeof n!="number"&&xpe(e,r,n)&&(r=n=void 0),e=vv(e),r===void 0?(r=e,e=0):r=vv(r),n=n===void 0?e<r?1:-1:vv(n),bpe(e,r,n,t)}}var _pe=wpe,Spe=_pe,Epe=Spe(),Ape=Epe;const Qp=De(Ape);function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){w$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w$(t,e,r){return e=Tpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tpe(t){var e=Ppe(t,"string");return Sd(e)=="symbol"?e:e+""}function Ppe(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ipe=["Webkit","Moz","O","ms"],Ope=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Ipe.reduce(function(o,a){return NO(NO({},o),{},w$({},a+n,r))},{});return i[e]=r,i};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jp.apply(this,arguments)}function jO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(r),!0).forEach(function(n){Pr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S$(n.key),n)}}function Npe(t,e,r){return e&&CO(t.prototype,e),r&&CO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jpe(t,e,r){return e=Zp(e),Cpe(t,_$()?Reflect.construct(e,r||[],Zp(t).constructor):e.apply(t,r))}function Cpe(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rpe(t)}function Rpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(t)}function Dpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ex(t,e)}function Pr(t,e,r){return e=S$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S$(t){var e=Mpe(t,"string");return wl(e)=="symbol"?e:e+""}function Mpe(t,e){if(wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $pe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=pc().domain(Qp(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:c}},RO=function(e){return e.changedTouches&&!!e.changedTouches.length},_l=function(t){function e(r){var n;return kpe(this,e),n=jpe(this,e,[r]),Pr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Pr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Pr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Pr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Pr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Pr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Pr(n,"handleSlideDragStart",function(i){var o=RO(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Dpe(e,t),Npe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),p=Math.max(i,o),m=e.getIndexInRange(a,d),w=e.getIndexInRange(a,p);return{startIndex:m-m%l,endIndex:w===c?c:w-w%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=At(o[n],s,n);return ce(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,p=l.startIndex,m=l.endIndex,w=l.onChange,g=n.pageX-o;g>0?g=Math.min(g,u+c-d-s,u+c-d-a):g<0&&(g=Math.max(g,u-a,u-s));var y=this.getIndex({startX:a+g,endX:s+g});(y.startIndex!==p||y.endIndex!==m)&&w&&w(y),this.setState({startX:a+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=RO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,p=c.width,m=c.travellerWidth,w=c.onChange,g=c.gap,y=c.data,x={startX:this.state.startX,endX:this.state.endX},v=n.pageX-o;v>0?v=Math.min(v,d+p-m-u):v<0&&(v=Math.max(v,d-u)),x[a]=u+v;var _=this.getIndex(x),I=_.startIndex,b=_.endIndex,T=function(){var S=y.length-1;return a==="startX"&&(s>l?I%g===0:b%g===0)||s<l&&b===S||a==="endX"&&(s>l?b%g===0:I%g===0)||s>l&&b===S};this.setState(Pr(Pr({},a,u+v),"brushMoveStartX",n.pageX),function(){w&&T()&&w(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var p=d+n;if(!(p===-1||p>=s.length)){var m=s[p];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Pr({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.data,u=n.children,c=n.padding,d=D.Children.only(u);return d?M.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,p=l.traveller,m=l.ariaLabel,w=l.data,g=l.startIndex,y=l.endIndex,x=Math.max(n,this.props.x),v=bv(bv({},se(this.props,!1)),{},{x,y:u,width:c,height:d}),_=m||"Min value: ".concat((o=w[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=w[y])===null||a===void 0?void 0:a.name);return M.createElement(Te,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),s.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,v))}},{key:"renderSlide",value:function(n,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(n,i)+u,d=Math.max(Math.abs(i-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,a=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,c=this.state,d=c.startX,p=c.endX,m=5,w={pointerEvents:"none",fill:u};return M.createElement(Te,{className:"recharts-brush-texts"},M.createElement($a,Jp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-m,y:a+s/2},w),this.getTextOfTick(i)),M.createElement($a,Jp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+m,y:a+s/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,a=n.children,s=n.x,l=n.y,u=n.width,c=n.height,d=n.alwaysShowText,p=this.state,m=p.startX,w=p.endX,g=p.isTextActive,y=p.isSlideMoving,x=p.isTravellerMoving,v=p.isTravellerFocused;if(!i||!i.length||!Q(s)||!Q(l)||!Q(u)||!Q(c)||u<=0||c<=0)return null;var _=ve("recharts-brush",o),I=M.Children.count(a)===1,b=Ope("userSelect","none");return M.createElement(Te,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(m,w),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(w,"endX"),(g||y||x||v||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,a=n.width,s=n.height,l=n.stroke,u=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,i):ce(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,a=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,c=n.startIndex,d=n.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return bv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?$pe({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);n[l]>i?s=l:a=l}return i>=n[s]?s:a}}])}(D.PureComponent);Pr(_l,"displayName","Brush");Pr(_l,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Lpe=z_;function Vpe(t,e){var r;return Lpe(t,function(n,i,o){return r=e(n,i,o),!r}),!!r}var Fpe=Vpe,Bpe=dD,Upe=Kn,zpe=Fpe,Wpe=Ar,Gpe=wg;function qpe(t,e,r){var n=Wpe(t)?Bpe:zpe;return r&&Gpe(t,e,r)&&(e=void 0),n(t,Upe(e))}var Hpe=qpe;const Kpe=De(Hpe);var Bn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},DO=CD;function Ype(t,e,r){e=="__proto__"&&DO?DO(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Xpe=Ype,Qpe=Xpe,Jpe=ND,Zpe=Kn;function eme(t,e){var r={};return e=Zpe(e),Jpe(t,function(n,i,o){Qpe(r,i,e(n,i,o))}),r}var tme=eme;const rme=De(tme);function nme(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var ime=nme,ome=z_;function ame(t,e){var r=!0;return ome(t,function(n,i,o){return r=!!e(n,i,o),r}),r}var sme=ame,lme=ime,ume=sme,cme=Kn,dme=Ar,fme=wg;function hme(t,e,r){var n=dme(t)?lme:ume;return r&&fme(t,e,r)&&(e=void 0),n(t,cme(e))}var pme=hme;const E$=De(pme);var mme=["x","y"];function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tx.apply(this,arguments)}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){gme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gme(t,e,r){return e=yme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yme(t){var e=vme(t,"string");return Ed(e)=="symbol"?e:e+""}function vme(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bme(t,e){if(t==null)return{};var r=xme(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wme(t,e){var r=t.x,n=t.y,i=bme(t,mme),o="".concat(r),a=parseInt(o,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),p=parseInt(d,10);return Fu(Fu(Fu(Fu(Fu({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:p,name:e.name,radius:e.radius})}function $O(t){return M.createElement(y$,tx({shapeType:"rectangle",propTransformer:wme,activeClassName:"recharts-active-bar"},t))}var _me=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=Q(n)||qH(n);return o?e(n,i):(o||Va(),r)}},Sme=["value","background"],A$;function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function Eme(t,e){if(t==null)return{};var r=Ame(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ame(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},em.apply(this,arguments)}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P$(n.key),n)}}function Pme(t,e,r){return e&&VO(t.prototype,e),r&&VO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ime(t,e,r){return e=tm(e),Ome(t,T$()?Reflect.construct(e,r||[],tm(t).constructor):e.apply(t,r))}function Ome(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kme(t)}function kme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(t)}function Nme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rx(t,e)}function rx(t,e){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rx(t,e)}function oo(t,e,r){return e=P$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P$(t){var e=jme(t,"string");return Sl(e)=="symbol"?e:e+""}function jme(t,e){if(Sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var To=function(t){function e(){var r;Tme(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Ime(this,e,[].concat(i)),oo(r,"state",{isAnimationFinished:!1}),oo(r,"id",Jl("recharts-bar-")),oo(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),oo(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return Nme(e,t),Pme(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=se(this.props,!1);return n&&n.map(function(d,p){var m=p===l,w=m?u:a,g=vt(vt(vt({},c),d),{},{isActive:m,option:w,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(Te,em({className:"recharts-bar-rectangle"},Ma(i.props,d,p),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(p)}),M.createElement($O,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,p=this.state.prevData;return M.createElement(Gn,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var w=m.t,g=o.map(function(y,x){var v=p&&p[x];if(v){var _=gr(v.x,y.x),I=gr(v.y,y.y),b=gr(v.width,y.width),T=gr(v.height,y.height);return vt(vt({},y),{},{x:_(w),y:I(w),width:b(w),height:T(w)})}if(a==="horizontal"){var A=gr(0,y.height),S=A(w);return vt(vt({},y),{},{y:y.y+y.height-S,height:S})}var P=gr(0,y.width),N=P(w);return vt(vt({},y),{},{width:N})});return M.createElement(Te,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!ml(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=se(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,p=Eme(u,Sme);if(!d)return null;var m=vt(vt(vt(vt(vt({},p),{},{fill:"#eee"},d),l),Ma(n.props,u,c)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return M.createElement($O,em({key:"background-bar-".concat(c),option:n.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Qr(c,Cg);if(!d)return null;var p=u==="vertical"?a[0].height/2:a[0].width/2,m=function(y,x){var v=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:v,errorVal:At(y,x)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return M.createElement(Te,w,d.map(function(g){return M.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,a=n.className,s=n.xAxis,l=n.yAxis,u=n.left,c=n.top,d=n.width,p=n.height,m=n.isAnimationActive,w=n.background,g=n.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,x=ve("recharts-bar",a),v=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,I=v||_,b=ye(g)?this.id:g;return M.createElement(Te,{className:x},v||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(b)},M.createElement("rect",{x:v?u:u-d/2,y:_?c:c-p/2,width:v?d:d*2,height:_?p:p*2}))):null,M.createElement(Te,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(b,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,b),(!m||y)&&yi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(D.PureComponent);A$=To;oo(To,"displayName","Bar");oo(To,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ya.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oo(To,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,p=t.offset,m=due(n,r);if(!m)return null;var w=e.layout,g=r.type.defaultProps,y=g!==void 0?vt(vt({},g),r.props):r.props,x=y.dataKey,v=y.children,_=y.minPointSize,I=w==="horizontal"?a:o,b=u?I.scale.domain():null,T=vue({numericAxis:I}),A=Qr(v,_g),S=d.map(function(P,N){var O,C,j,L,F,B;u?O=fue(u[c+N],b):(O=At(P,x),Array.isArray(O)||(O=[T,O]));var G=_me(_,A$.defaultProps.minPointSize)(O[1],N);if(w==="horizontal"){var V,W=[a.scale(O[0]),a.scale(O[1])],Y=W[0],ee=W[1];C=II({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:P,index:N}),j=(V=ee??Y)!==null&&V!==void 0?V:void 0,L=m.size;var X=Y-ee;if(F=Number.isNaN(X)?0:X,B={x:C,y:a.y,width:L,height:a.height},Math.abs(G)>0&&Math.abs(F)<Math.abs(G)){var re=ur(F||G)*(Math.abs(G)-Math.abs(F));j-=re,F+=re}}else{var Se=[o.scale(O[0]),o.scale(O[1])],Ne=Se[0],rt=Se[1];if(C=Ne,j=II({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:P,index:N}),L=rt-Ne,F=m.size,B={x:o.x,y:j,width:o.width,height:F},Math.abs(G)>0&&Math.abs(L)<Math.abs(G)){var Dt=ur(L||G)*(Math.abs(G)-Math.abs(L));L+=Dt}}return vt(vt(vt({},P),{},{x:C,y:j,width:L,height:F,value:u?O:O[1],payload:P,background:B},A&&A[N]&&A[N].props),{},{tooltipPayload:[YM(r,P)],tooltipPosition:{x:C+L/2,y:j+F/2}})});return vt({data:S,layout:w},p)});function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function Cme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I$(n.key),n)}}function Rme(t,e,r){return e&&FO(t.prototype,e),r&&FO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){Bg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bg(t,e,r){return e=I$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I$(t){var e=Dme(t,"string");return Ad(e)=="symbol"?e:e+""}function Dme(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O$=function(e,r,n,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(r),d={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!Or(u,To);return c.reduce(function(m,w){var g=r[w],y=g.orientation,x=g.domain,v=g.padding,_=v===void 0?{}:v,I=g.mirror,b=g.reversed,T="".concat(y).concat(I?"Mirror":""),A,S,P,N,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var C=x[1]-x[0],j=1/0,L=g.categoricalDomain.sort(YH);if(L.forEach(function(Se,Ne){Ne>0&&(j=Math.min((Se||0)-(L[Ne-1]||0),j))}),Number.isFinite(j)){var F=j/C,B=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(A=F*B/2),g.padding==="no-gap"){var G=cr(e.barCategoryGap,F*B),V=F*B/2;A=V-G-(V-G)/B*G}}}i==="xAxis"?S=[n.left+(_.left||0)+(A||0),n.left+n.width-(_.right||0)-(A||0)]:i==="yAxis"?S=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(A||0),n.top+n.height-(_.bottom||0)-(A||0)]:S=g.range,b&&(S=[S[1],S[0]]);var W=GM(g,o,p),Y=W.scale,ee=W.realScaleType;Y.domain(x).range(S),qM(Y);var X=HM(Y,dn(dn({},g),{},{realScaleType:ee}));i==="xAxis"?(O=y==="top"&&!I||y==="bottom"&&I,P=n.left,N=d[T]-O*g.height):i==="yAxis"&&(O=y==="left"&&!I||y==="right"&&I,P=d[T]-O*g.width,N=n.top);var re=dn(dn(dn({},g),X),{},{realScaleType:ee,x:P,y:N,scale:Y,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return re.bandSize=Vp(re,X),!g.hide&&i==="xAxis"?d[T]+=(O?-1:1)*re.height:g.hide||(d[T]+=(O?-1:1)*re.width),dn(dn({},m),{},Bg({},w,re))},{})},k$=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return{x:Math.min(n,o),y:Math.min(i,a),width:Math.abs(o-n),height:Math.abs(a-i)}},Mme=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return k$({x:r,y:n},{x:i,y:o})},N$=function(){function t(e){Cme(this,t),this.scale=e}return Rme(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Bg(N$,"EPS",1e-4);var v1=function(e){var r=Object.keys(e).reduce(function(n,i){return dn(dn({},n),{},Bg({},i,N$.create(e[i])))},{});return dn(dn({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return rme(i,function(l,u){return r[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return E$(i,function(o,a){return r[a].isInRange(o)})}})};function $me(t){return(t%180+180)%180}var Lme=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=$me(i),a=o*Math.PI/180,s=Math.atan(n/r),l=a>s&&a<Math.PI-s?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},Vme=Kn,Fme=Hd,Bme=bg;function Ume(t){return function(e,r,n){var i=Object(e);if(!Fme(e)){var o=Vme(r);e=Bme(e),r=function(s){return o(i[s],s,i)}}var a=t(e,r,n);return a>-1?i[o?e[a]:a]:void 0}}var zme=Ume,Wme=x$;function Gme(t){var e=Wme(t),r=e%1;return e===e?r?e-r:e:0}var qme=Gme,Hme=AD,Kme=Kn,Yme=qme,Xme=Math.max;function Qme(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Yme(r);return i<0&&(i=Xme(n+i,0)),Hme(t,Kme(e),i)}var Jme=Qme,Zme=zme,ege=Jme,tge=Zme(ege),rge=tge;const nge=De(rge);var ige=Jq(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),b1=D.createContext(void 0),x1=D.createContext(void 0),j$=D.createContext(void 0),C$=D.createContext({}),R$=D.createContext(void 0),D$=D.createContext(0),M$=D.createContext(0),UO=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=ige(o);return M.createElement(b1.Provider,{value:n},M.createElement(x1.Provider,{value:i},M.createElement(C$.Provider,{value:o},M.createElement(j$.Provider,{value:c},M.createElement(R$.Provider,{value:a},M.createElement(D$.Provider,{value:u},M.createElement(M$.Provider,{value:l},s)))))))},oge=function(){return D.useContext(R$)},$$=function(e){var r=D.useContext(b1);r==null&&Va();var n=r[e];return n==null&&Va(),n},age=function(){var e=D.useContext(b1);return Zi(e)},sge=function(){var e=D.useContext(x1),r=nge(e,function(n){return E$(n.domain,Number.isFinite)});return r||Zi(e)},L$=function(e){var r=D.useContext(x1);r==null&&Va();var n=r[e];return n==null&&Va(),n},lge=function(){var e=D.useContext(j$);return e},uge=function(){return D.useContext(C$)},w1=function(){return D.useContext(M$)},_1=function(){return D.useContext(D$)};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function cge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F$(n.key),n)}}function fge(t,e,r){return e&&dge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hge(t,e,r){return e=rm(e),pge(t,V$()?Reflect.construct(e,r||[],rm(t).constructor):e.apply(t,r))}function pge(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mge(t)}function mge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V$=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rm(t)}function gge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nx(t,e)}function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){S1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S1(t,e,r){return e=F$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F$(t){var e=yge(t,"string");return El(e)=="symbol"?e:e+""}function yge(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vge(t,e){return _ge(t)||wge(t,e)||xge(t,e)||bge()}function bge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xge(t,e){if(t){if(typeof t=="string")return GO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GO(t,e)}}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _ge(t){if(Array.isArray(t))return t}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ix.apply(this,arguments)}var Sge=function(e,r){var n;return M.isValidElement(e)?n=M.cloneElement(e,r):ce(e)?n=e(r):n=M.createElement("line",ix({},r,{className:"recharts-reference-line-line"})),n},Ege=function(e,r,n,i,o,a,s,l,u){var c=o.x,d=o.y,p=o.width,m=o.height;if(n){var w=u.y,g=e.y.apply(w,{position:a});if(Bn(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:c+p,y:g},{x:c,y:g}];return l==="left"?y.reverse():y}if(r){var x=u.x,v=e.x.apply(x,{position:a});if(Bn(u,"discard")&&!e.x.isInRange(v))return null;var _=[{x:v,y:d+m},{x:v,y:d}];return s==="top"?_.reverse():_}if(i){var I=u.segment,b=I.map(function(T){return e.apply(T,{position:a})});return Bn(u,"discard")&&Kpe(b,function(T){return!e.isInRange(T)})?null:b}return null};function Age(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=oge(),c=$$(i),d=L$(o),p=lge();if(!u||!p)return null;xn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=v1({x:c.scale,y:d.scale}),w=Pt(e),g=Pt(r),y=n&&n.length===2,x=Ege(m,w,g,y,p,t.position,c.orientation,d.orientation,t);if(!x)return null;var v=vge(x,2),_=v[0],I=_.x,b=_.y,T=v[1],A=T.x,S=T.y,P=Bn(t,"hidden")?"url(#".concat(u,")"):void 0,N=WO(WO({clipPath:P},se(t,!0)),{},{x1:I,y1:b,x2:A,y2:S});return M.createElement(Te,{className:ve("recharts-reference-line",s)},Sge(a,N),jt.renderCallByParent(t,Mme({x1:I,y1:b,x2:A,y2:S})))}var E1=function(t){function e(){return cge(this,e),hge(this,e,arguments)}return gge(e,t),fge(e,[{key:"render",value:function(){return M.createElement(Age,this.props)}}])}(M.Component);S1(E1,"displayName","ReferenceLine");S1(E1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ox.apply(this,arguments)}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function qO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(r),!0).forEach(function(n){Ug(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U$(n.key),n)}}function Ige(t,e,r){return e&&Pge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oge(t,e,r){return e=nm(e),kge(t,B$()?Reflect.construct(e,r||[],nm(t).constructor):e.apply(t,r))}function kge(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nge(t)}function Nge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B$=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nm(t)}function jge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ax(t,e)}function ax(t,e){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ax(t,e)}function Ug(t,e,r){return e=U$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U$(t){var e=Cge(t,"string");return Al(e)=="symbol"?e:e+""}function Cge(t,e){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rge=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,a=v1({x:i.scale,y:o.scale}),s=a.apply({x:r,y:n},{bandAware:!0});return Bn(e,"discard")&&!a.isInRange(s)?null:s},zg=function(t){function e(){return Tge(this,e),Oge(this,e,arguments)}return jge(e,t),Ige(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,a=n.r,s=n.alwaysShow,l=n.clipPathId,u=Pt(i),c=Pt(o);if(xn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Rge(this.props);if(!d)return null;var p=d.x,m=d.y,w=this.props,g=w.shape,y=w.className,x=Bn(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=HO(HO({clipPath:x},se(this.props,!0)),{},{cx:p,cy:m});return M.createElement(Te,{className:ve("recharts-reference-dot",y)},e.renderDot(g,v),jt.renderCallByParent(this.props,{x:p-a,y:m-a,width:2*a,height:2*a}))}}])}(M.Component);Ug(zg,"displayName","ReferenceDot");Ug(zg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ug(zg,"renderDot",function(t,e){var r;return M.isValidElement(t)?r=M.cloneElement(t,e):ce(t)?r=t(e):r=M.createElement(Rg,ox({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sx.apply(this,arguments)}function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){Wg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W$(n.key),n)}}function $ge(t,e,r){return e&&Mge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lge(t,e,r){return e=im(e),Vge(t,z$()?Reflect.construct(e,r||[],im(t).constructor):e.apply(t,r))}function Vge(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fge(t)}function Fge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z$=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},im(t)}function Bge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lx(t,e)}function Wg(t,e,r){return e=W$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W$(t){var e=Uge(t,"string");return Tl(e)=="symbol"?e:e+""}function Uge(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zge=function(e,r,n,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var p=v1({x:c.scale,y:d.scale}),m={x:e?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},w={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Bn(o,"discard")&&(!p.isInRange(m)||!p.isInRange(w))?null:k$(m,w)},Gg=function(t){function e(){return Dge(this,e),Lge(this,e,arguments)}return Bge(e,t),$ge(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,a=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,c=n.clipPathId;xn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Pt(i),p=Pt(o),m=Pt(a),w=Pt(s),g=this.props.shape;if(!d&&!p&&!m&&!w&&!g)return null;var y=zge(d,p,m,w,this.props);if(!y&&!g)return null;var x=Bn(this.props,"hidden")?"url(#".concat(c,")"):void 0;return M.createElement(Te,{className:ve("recharts-reference-area",l)},e.renderRect(g,YO(YO({clipPath:x},se(this.props,!0)),y)),jt.renderCallByParent(this.props,y))}}])}(M.Component);Wg(Gg,"displayName","ReferenceArea");Wg(Gg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Wg(Gg,"renderRect",function(t,e){var r;return M.isValidElement(t)?r=M.cloneElement(t,e):ce(t)?r=t(e):r=M.createElement(y1,sx({},e,{className:"recharts-reference-area-rect"})),r});function G$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Wge(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Lme(n,r)}function Gge(t,e,r){var n=r==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:n?i:o,end:n?i+a:o+s}:{start:n?i+a:o+s,end:n?i:o}}function om(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function qge(t,e){return G$(t,e+1)}function Hge(t,e,r,n,i){for(var o=(n||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var w=n==null?void 0:n[l];if(w===void 0)return{v:G$(n,u)};var g=l,y,x=function(){return y===void 0&&(y=r(w,g)),y},v=w.coordinate,_=l===0||om(t,v,x,c,s);_||(l=0,c=a,u+=1),_&&(c=v+t*(x()/2+i),l+=u)},p;u<=o.length;)if(p=d(),p)return p.v;return[]}function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){Kge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kge(t,e,r){return e=Yge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yge(t){var e=Xge(t,"string");return Td(e)=="symbol"?e:e+""}function Xge(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qge(t,e,r,n,i){for(var o=(n||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(p){var m=o[p],w,g=function(){return w===void 0&&(w=r(m,p)),w};if(p===a-1){var y=t*(m.coordinate+t*g()/2-l);o[p]=m=Zt(Zt({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate})}else o[p]=m=Zt(Zt({},m),{},{tickCoord:m.coordinate});var x=om(t,m.tickCoord,g,s,l);x&&(l=m.tickCoord-t*(g()/2+i),o[p]=Zt(Zt({},m),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Jge(t,e,r,n,i,o){var a=(n||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=n[s-1],d=r(c,s-1),p=t*(c.coordinate+t*d/2-u);a[s-1]=c=Zt(Zt({},c),{},{tickCoord:p>0?c.coordinate-p*t:c.coordinate});var m=om(t,c.tickCoord,function(){return d},l,u);m&&(u=c.tickCoord-t*(d/2+i),a[s-1]=Zt(Zt({},c),{},{isShow:!0}))}for(var w=o?s-1:s,g=function(v){var _=a[v],I,b=function(){return I===void 0&&(I=r(_,v)),I};if(v===0){var T=t*(_.coordinate-t*b()/2-l);a[v]=_=Zt(Zt({},_),{},{tickCoord:T<0?_.coordinate-T*t:_.coordinate})}else a[v]=_=Zt(Zt({},_),{},{tickCoord:_.coordinate});var A=om(t,_.tickCoord,b,l,u);A&&(l=_.tickCoord+t*(b()/2+i),a[v]=Zt(Zt({},_),{},{isShow:!0}))},y=0;y<w;y++)g(y);return a}function A1(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(Q(l)||Ya.isSsr)return qge(i,typeof l=="number"&&Q(l)?l:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",w=c&&m==="width"?hc(c,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(_,I){var b=ce(u)?u(_.value,I):_.value;return m==="width"?Wge(hc(b,{fontSize:e,letterSpacing:r}),w,d):hc(b,{fontSize:e,letterSpacing:r})[m]},y=i.length>=2?ur(i[1].coordinate-i[0].coordinate):1,x=Gge(o,y,m);return l==="equidistantPreserveStart"?Hge(y,x,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=Jge(y,x,g,i,a,l==="preserveStartEnd"):p=Qge(y,x,g,i,a),p.filter(function(v){return v.isShow}))}var Zge=["viewBox"],eye=["viewBox"],tye=["ticks"];function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ps.apply(this,arguments)}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){T1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xv(t,e){if(t==null)return{};var r=rye(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H$(n.key),n)}}function iye(t,e,r){return e&&JO(t.prototype,e),r&&JO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oye(t,e,r){return e=am(e),aye(t,q$()?Reflect.construct(e,r||[],am(t).constructor):e.apply(t,r))}function aye(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sye(t)}function sye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q$=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},am(t)}function lye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ux(t,e)}function ux(t,e){return ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ux(t,e)}function T1(t,e,r){return e=H$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H$(t){var e=uye(t,"string");return Pl(e)=="symbol"?e:e+""}function uye(t,e){if(Pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ou=function(t){function e(r){var n;return nye(this,e),n=oye(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return lye(e,t),iye(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,a=xv(n,Zge),s=this.props,l=s.viewBox,u=xv(s,eye);return!Vs(o,l)||!Vs(a,u)||!Vs(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,p=i.tickMargin,m,w,g,y,x,v,_=d?-1:1,I=n.tickSize||c,b=Q(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=w=n.coordinate,y=a+ +!d*l,g=y-_*I,v=g-_*p,x=b;break;case"left":g=y=n.coordinate,w=o+ +!d*s,m=w-_*I,x=m-_*p,v=b;break;case"right":g=y=n.coordinate,w=o+ +d*s,m=w+_*I,x=m+_*p,v=b;break;default:m=w=n.coordinate,y=a+ +d*l,g=y+_*I,v=g+_*p,x=b;break}return{line:{x1:m,y1:g,x2:w,y2:y},tick:{x,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.orientation,u=n.mirror,c=n.axisLine,d=_t(_t(_t({},se(this.props,!1)),se(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);d=_t(_t({},d),{},{x1:i,y1:o+p*s,x2:i+a,y2:o+p*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);d=_t(_t({},d),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return M.createElement("line",Ps({},d,{className:ve("recharts-cartesian-axis-line",$r(c,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,p=s.unit,m=A1(_t(_t({},this.props),{},{ticks:n}),i,o),w=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=se(this.props,!1),x=se(c,!1),v=_t(_t({},y),{},{fill:"none"},se(l,!1)),_=m.map(function(I,b){var T=a.getTickLineCoord(I),A=T.line,S=T.tick,P=_t(_t(_t(_t({textAnchor:w,verticalAnchor:g},y),{},{stroke:"none",fill:u},x),S),{},{index:b,payload:I,visibleTicksCount:m.length,tickFormatter:d});return M.createElement(Te,Ps({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Ma(a.props,I,b)),l&&M.createElement("line",Ps({},v,A,{className:ve("recharts-cartesian-axis-tick-line",$r(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(ce(d)?d(I.value,b):I.value).concat(p||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,p=d.ticks,m=xv(d,tye),w=p;return ce(l)&&(w=p&&p.length>0?l(this.props):l(m)),a<=0||s<=0||!w||!w.length?null:M.createElement(Te,{className:ve("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),jt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var a,s=ve(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?a=M.cloneElement(n,_t(_t({},i),{},{className:s})):ce(n)?a=n(_t(_t({},i),{},{className:s})):a=M.createElement($a,Ps({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(D.Component);T1(ou,"displayName","CartesianAxis");T1(ou,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cye=["x1","y1","x2","y2","key"],dye=["offset"];function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){fye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fye(t,e,r){return e=hye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hye(t){var e=pye(t,"string");return Fa(e)=="symbol"?e:e+""}function pye(t,e){if(Fa(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ha.apply(this,arguments)}function ek(t,e){if(t==null)return{};var r=mye(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gye=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return M.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function K$(t,e){var r;if(M.isValidElement(t))r=M.cloneElement(t,e);else if(ce(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=ek(e,cye),u=se(l,!1);u.offset;var c=ek(u,dye);r=M.createElement("line",ha({},c,{x1:n,y1:i,x2:o,y2:a,fill:"none",key:s}))}return r}function yye(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=nr(nr({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return K$(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function vye(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=nr(nr({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return K$(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function bye(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==c[0]&&c.unshift(0);var d=c.map(function(p,m){var w=!c[m+1],g=w?i+a-p:c[m+1]-p;if(g<=0)return null;var y=m%e.length;return M.createElement("rect",{key:"react-".concat(m),y:p,x:n,height:g,width:o,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function xye(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var c=u.map(function(p){return Math.round(p+o-o)}).sort(function(p,m){return p-m});o!==c[0]&&c.unshift(0);var d=c.map(function(p,m){var w=!c[m+1],g=w?o+s-p:c[m+1]-p;if(g<=0)return null;var y=m%n.length;return M.createElement("rect",{key:"react-".concat(m),x:p,y:a,width:g,height:l,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var wye=function(e,r){var n=e.xAxis,i=e.width,o=e.height,a=e.offset;return WM(A1(nr(nr(nr({},ou.defaultProps),n),{},{ticks:di(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,r)},_ye=function(e,r){var n=e.yAxis,i=e.width,o=e.height,a=e.offset;return WM(A1(nr(nr(nr({},ou.defaultProps),n),{},{ticks:di(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,r)},ss={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function wh(t){var e,r,n,i,o,a,s=w1(),l=_1(),u=uge(),c=nr(nr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ss.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ss.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ss.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ss.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:ss.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:ss.verticalFill,x:Q(t.x)?t.x:u.left,y:Q(t.y)?t.y:u.top,width:Q(t.width)?t.width:u.width,height:Q(t.height)?t.height:u.height}),d=c.x,p=c.y,m=c.width,w=c.height,g=c.syncWithTicks,y=c.horizontalValues,x=c.verticalValues,v=age(),_=sge();if(!Q(m)||m<=0||!Q(w)||w<=0||!Q(d)||d!==+d||!Q(p)||p!==+p)return null;var I=c.verticalCoordinatesGenerator||wye,b=c.horizontalCoordinatesGenerator||_ye,T=c.horizontalPoints,A=c.verticalPoints;if((!T||!T.length)&&ce(b)){var S=y&&y.length,P=b({yAxis:_?nr(nr({},_),{},{ticks:S?y:_.ticks}):void 0,width:s,height:l,offset:u},S?!0:g);xn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Fa(P),"]")),Array.isArray(P)&&(T=P)}if((!A||!A.length)&&ce(I)){var N=x&&x.length,O=I({xAxis:v?nr(nr({},v),{},{ticks:N?x:v.ticks}):void 0,width:s,height:l,offset:u},N?!0:g);xn(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Fa(O),"]")),Array.isArray(O)&&(A=O)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(gye,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),M.createElement(yye,ha({},c,{offset:u,horizontalPoints:T,xAxis:v,yAxis:_})),M.createElement(vye,ha({},c,{offset:u,verticalPoints:A,xAxis:v,yAxis:_})),M.createElement(bye,ha({},c,{horizontalPoints:T})),M.createElement(xye,ha({},c,{verticalPoints:A})))}wh.displayName="CartesianGrid";var Sye=["layout","type","stroke","connectNulls","isRange","ref"],Eye=["key"],Y$;function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function X$(t,e){if(t==null)return{};var r=Aye(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pa.apply(this,arguments)}function tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(r),!0).forEach(function(n){Cn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J$(n.key),n)}}function Pye(t,e,r){return e&&rk(t.prototype,e),r&&rk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iye(t,e,r){return e=sm(e),Oye(t,Q$()?Reflect.construct(e,r||[],sm(t).constructor):e.apply(t,r))}function Oye(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kye(t)}function kye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q$=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sm(t)}function Nye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cx(t,e)}function cx(t,e){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cx(t,e)}function Cn(t,e,r){return e=J$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J$(t){var e=jye(t,"string");return Il(e)=="symbol"?e:e+""}function jye(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fo=function(t){function e(){var r;Tye(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Iye(this,e,[].concat(i)),Cn(r,"state",{isAnimationFinished:!0}),Cn(r,"id",Jl("recharts-area-")),Cn(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ce(a)&&a()}),Cn(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ce(a)&&a()}),r}return Nye(e,t),Pye(e,[{key:"renderDots",value:function(n,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,p=se(this.props,!1),m=se(u,!0),w=c.map(function(y,x){var v=zi(zi(zi({key:"dot-".concat(x),r:3},p),m),{},{index:x,cx:y.x,cy:y.y,dataKey:d,value:y.value,payload:y.payload,points:c});return e.renderDotItem(u,v)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement(Te,pa({className:"recharts-area-dots"},g),w)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,c=n*Math.abs(l-u),d=io(a.map(function(p){return p.y||0}));return Q(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(io(o.map(function(p){return p.y||0})),d)),Q(d)?M.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,c=n*Math.abs(l-u),d=io(a.map(function(p){return p.x||0}));return Q(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(io(o.map(function(p){return p.x||0})),d)),Q(d)?M.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,a){var s=this.props,l=s.layout,u=s.type,c=s.stroke,d=s.connectNulls,p=s.isRange;s.ref;var m=X$(s,Sye);return M.createElement(Te,{clipPath:o?"url(#clipPath-".concat(a,")"):null},M.createElement(zs,pa({},se(m,!0),{points:n,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&M.createElement(zs,pa({},se(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:n})),c!=="none"&&p&&M.createElement(zs,pa({},se(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,p=a.animationEasing,m=a.animationId,w=this.state,g=w.prevPoints,y=w.prevBaseLine;return M.createElement(Gn,{begin:c,duration:d,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var v=x.t;if(g){var _=g.length/s.length,I=s.map(function(S,P){var N=Math.floor(P*_);if(g[N]){var O=g[N],C=gr(O.x,S.x),j=gr(O.y,S.y);return zi(zi({},S),{},{x:C(v),y:j(v)})}return S}),b;if(Q(l)&&typeof l=="number"){var T=gr(y,l);b=T(v)}else if(ye(l)||Ql(l)){var A=gr(y,0);b=A(v)}else b=l.map(function(S,P){var N=Math.floor(P*_);if(y[N]){var O=y[N],C=gr(O.x,S.x),j=gr(O.y,S.y);return zi(zi({},S),{},{x:C(v),y:j(v)})}return S});return o.renderAreaStatically(I,b,n,i)}return M.createElement(Te,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(v))),M.createElement(Te,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,p=u.totalLength;return l&&a&&a.length&&(!c&&p>0||!ml(c,a)||!ml(d,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(a,s,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,p=i.yAxis,m=i.width,w=i.height,g=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var x=this.state.isAnimationFinished,v=s.length===1,_=ve("recharts-area",l),I=d&&d.allowDataOverflow,b=p&&p.allowDataOverflow,T=I||b,A=ye(y)?this.id:y,S=(n=se(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=S.r,N=P===void 0?3:P,O=S.strokeWidth,C=O===void 0?2:O,j=iK(a)?a:{},L=j.clipDot,F=L===void 0?!0:L,B=N*2+C;return M.createElement(Te,{className:_},I||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(A)},M.createElement("rect",{x:I?c:c-m/2,y:b?u:u-w/2,width:I?m:m*2,height:b?w:w*2})),!F&&M.createElement("clipPath",{id:"clipPath-dots-".concat(A)},M.createElement("rect",{x:c-B/2,y:u-B/2,width:m+B,height:w+B}))):null,v?null:this.renderArea(T,A),(a||v)&&this.renderDots(T,F,A),(!g||x)&&yi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(D.PureComponent);Y$=Fo;Cn(Fo,"displayName","Area");Cn(Fo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ya.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Cn(Fo,"getBaseValue",function(t,e,r,n){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(Q(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Cn(Fo,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,p=t.offset,m=e.layout,w=u&&u.length,g=Y$.getBaseValue(e,r,n,i),y=m==="horizontal",x=!1,v=d.map(function(I,b){var T;w?T=u[c+b]:(T=At(I,l),Array.isArray(T)?x=!0:T=[g,T]);var A=T[1]==null||w&&At(I,l)==null;return y?{x:PI({axis:n,ticks:o,bandSize:s,entry:I,index:b}),y:A?null:i.scale(T[1]),value:T,payload:I}:{x:A?null:n.scale(T[1]),y:PI({axis:i,ticks:a,bandSize:s,entry:I,index:b}),value:T,payload:I}}),_;return w||x?_=v.map(function(I){var b=Array.isArray(I.value)?I.value[0]:null;return y?{x:I.x,y:b!=null&&I.y!=null?i.scale(b):null}:{x:b!=null?n.scale(b):null,y:I.y}}):_=y?i.scale(g):n.scale(g),zi({points:v,baseLine:_,layout:m,isRange:x},p)});Cn(Fo,"renderDotItem",function(t,e){var r;if(M.isValidElement(t))r=M.cloneElement(t,e);else if(ce(t))r=t(e);else{var n=ve("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=X$(e,Eye);r=M.createElement(Rg,pa({},o,{key:i,className:n}))}return r});function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Cye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tL(n.key),n)}}function Dye(t,e,r){return e&&Rye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mye(t,e,r){return e=lm(e),$ye(t,Z$()?Reflect.construct(e,r||[],lm(t).constructor):e.apply(t,r))}function $ye(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lye(t)}function Lye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z$=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lm(t)}function Vye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dx(t,e)}function eL(t,e,r){return e=tL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tL(t){var e=Fye(t,"string");return Ol(e)=="symbol"?e:e+""}function Fye(t,e){if(Ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fx.apply(this,arguments)}function Bye(t){var e=t.xAxisId,r=w1(),n=_1(),i=$$(e);return i==null?null:D.createElement(ou,fx({},i,{className:ve("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return di(a,!0)}}))}var xa=function(t){function e(){return Cye(this,e),Mye(this,e,arguments)}return Vye(e,t),Dye(e,[{key:"render",value:function(){return D.createElement(Bye,this.props)}}])}(D.Component);eL(xa,"displayName","XAxis");eL(xa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Uye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iL(n.key),n)}}function Wye(t,e,r){return e&&zye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gye(t,e,r){return e=um(e),qye(t,rL()?Reflect.construct(e,r||[],um(t).constructor):e.apply(t,r))}function qye(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hye(t)}function Hye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rL=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},um(t)}function Kye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hx(t,e)}function hx(t,e){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hx(t,e)}function nL(t,e,r){return e=iL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iL(t){var e=Yye(t,"string");return kl(e)=="symbol"?e:e+""}function Yye(t,e){if(kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},px.apply(this,arguments)}var Xye=function(e){var r=e.yAxisId,n=w1(),i=_1(),o=L$(r);return o==null?null:D.createElement(ou,px({},o,{className:ve("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return di(s,!0)}}))},wa=function(t){function e(){return Uye(this,e),Gye(this,e,arguments)}return Kye(e,t),Wye(e,[{key:"render",value:function(){return D.createElement(Xye,this.props)}}])}(D.Component);nL(wa,"displayName","YAxis");nL(wa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nk(t){return eve(t)||Zye(t)||Jye(t)||Qye()}function Qye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jye(t,e){if(t){if(typeof t=="string")return mx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mx(t,e)}}function Zye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eve(t){if(Array.isArray(t))return mx(t)}function mx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gx=function(e,r,n,i,o){var a=Qr(e,E1),s=Qr(e,zg),l=[].concat(nk(a),nk(s)),u=Qr(e,Gg),c="".concat(i,"Id"),d=i[0],p=r;if(l.length&&(p=l.reduce(function(g,y){if(y.props[c]===n&&Bn(y.props,"extendDomain")&&Q(y.props[d])){var x=y.props[d];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},p)),u.length){var m="".concat(d,"1"),w="".concat(d,"2");p=u.reduce(function(g,y){if(y.props[c]===n&&Bn(y.props,"extendDomain")&&Q(y.props[m])&&Q(y.props[w])){var x=y.props[m],v=y.props[w];return[Math.min(g[0],x,v),Math.max(g[1],x,v)]}return g},p)}return o&&o.length&&(p=o.reduce(function(g,y){return Q(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},p)),p},oL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,p),w=r?r+u:u;return l._events[w]?l._events[w].fn?l._events[w]=[l._events[w],m]:l._events[w].push(m):(l._events[w]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,w=new Array(m);p<m;p++)w[p]=d[p].fn;return w},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,p,m,w){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,v,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,p),!0;case 5:return y.fn.call(y.context,c,d,p,m),!0;case 6:return y.fn.call(y.context,c,d,p,m,w),!0}for(_=1,v=new Array(x-1);_<x;_++)v[_-1]=arguments[_];y.fn.apply(y.context,v)}else{var I=y.length,b;for(_=0;_<I;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),x){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,c);break;case 3:y[_].fn.call(y[_].context,c,d);break;case 4:y[_].fn.call(y[_].context,c,d,p);break;default:if(!v)for(b=1,v=new Array(x-1);b<x;b++)v[b-1]=arguments[b];y[_].fn.apply(y[_].context,v)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,p){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var w=this._events[m];if(w.fn)w.fn===c&&(!p||w.once)&&(!d||w.context===d)&&a(this,m);else{for(var g=0,y=[],x=w.length;g<x;g++)(w[g].fn!==c||p&&!w[g].once||d&&w[g].context!==d)&&y.push(w[g]);y.length?this._events[m]=y.length===1?y[0]:y:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&a(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(oL);var tve=oL.exports;const rve=De(tve);var wv=new rve,_v="recharts.syncMouseEvents";function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function nve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ive(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aL(n.key),n)}}function ove(t,e,r){return e&&ive(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sv(t,e,r){return e=aL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aL(t){var e=ave(t,"string");return Pd(e)=="symbol"?e:e+""}function ave(t,e){if(Pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sve=function(){function t(){nve(this,t),Sv(this,"activeIndex",0),Sv(this,"coordinateList",[]),Sv(this,"layout","horizontal")}return ove(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,a=r.container,s=a===void 0?null:a,l=r.layout,u=l===void 0?null:l,c=r.offset,d=c===void 0?null:c,p=r.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,c=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+u,p=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])}();function lve(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Q(n)&&Q(i))return!0}return!1}function uve(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function sL(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,a=qe(e,r,n,i),s=qe(e,r,n,o);return{points:[a,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function cve(t,e,r){var n,i,o,a;if(t==="horizontal")n=e.x,o=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,p=qe(s,l,u,d),m=qe(s,l,c,d);n=p.x,i=p.y,o=m.x,a=m.y}else return sL(e);return[{x:n,y:i},{x:o,y:a}]}function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(r),!0).forEach(function(n){dve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dve(t,e,r){return e=fve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fve(t){var e=hve(t,"string");return Id(e)=="symbol"?e:e+""}function hve(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pve(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,p=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!o||!a||p!=="ScatterChart"&&i!=="axis")return null;var w,g=zs;if(p==="ScatterChart")w=a,g=Mfe;else if(p==="BarChart")w=uve(d,a,l,c),g=y1;else if(d==="radial"){var y=sL(a),x=y.cx,v=y.cy,_=y.radius,I=y.startAngle,b=y.endAngle;w={cx:x,cy:v,startAngle:I,endAngle:b,innerRadius:_,outerRadius:_},g=t$}else w={points:cve(d,a,l)},g=zs;var T=Qf(Qf(Qf(Qf({stroke:"#ccc",pointerEvents:"none"},l),w),se(m,!1)),{},{payload:s,payloadIndex:u,className:ve("recharts-tooltip-cursor",m.className)});return D.isValidElement(m)?D.cloneElement(m,T):D.createElement(g,T)}var mve=["item"],gve=["children","className","width","height","style","compact","title","desc"];function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Is.apply(this,arguments)}function ok(t,e){return bve(t)||vve(t,e)||uL(t,e)||yve()}function yve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bve(t){if(Array.isArray(t))return t}function ak(t,e){if(t==null)return{};var r=xve(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cL(n.key),n)}}function Sve(t,e,r){return e&&_ve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eve(t,e,r){return e=cm(e),Ave(t,lL()?Reflect.construct(e,r||[],cm(t).constructor):e.apply(t,r))}function Ave(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tve(t)}function Tve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lL=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cm(t)}function Pve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yx(t,e)}function yx(t,e){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yx(t,e)}function jl(t){return kve(t)||Ove(t)||uL(t)||Ive()}function Ive(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uL(t,e){if(t){if(typeof t=="string")return vx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vx(t,e)}}function Ove(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kve(t){if(Array.isArray(t))return vx(t)}function vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(r),!0).forEach(function(n){ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ue(t,e,r){return e=cL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cL(t){var e=Nve(t,"string");return Nl(e)=="symbol"?e:e+""}function Nve(t,e){if(Nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jve={xAxis:["bottom","top"],yAxis:["left","right"]},Cve={width:"100%",height:"100%"},dL={x:0,y:0};function Jf(t){return t}var Rve=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Dve=function(e,r,n,i){var o=r.find(function(c){return c&&c.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return z(z(z({},i),qe(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return z(z(z({},i),qe(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return dL},qg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,a=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(jl(s),jl(u)):s},[]);return a.length>0?a:e&&e.length&&Q(i)&&Q(o)?e.slice(i,o+1):[]};function fL(t){return t==="number"?[0,"auto"]:void 0}var bx=function(e,r,n,i){var o=e.graphicalItems,a=e.tooltipAxis,s=qg(r,e);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var m=d===void 0?s:d;p=dp(m,a.dataKey,i)}else p=d&&d[n]||s[n];return p?[].concat(jl(l),[YM(u,p)]):l},[])},lk=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},a=Rve(o,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=oue(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,p=bx(e,r,c,d),m=Dve(n,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:p,activeCoordinate:m}}return null},Mve=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,d=e.children,p=e.stackOffset,m=zM(c,o);return n.reduce(function(w,g){var y,x=g.type.defaultProps!==void 0?z(z({},g.type.defaultProps),g.props):g.props,v=x.type,_=x.dataKey,I=x.allowDataOverflow,b=x.allowDuplicatedCategory,T=x.scale,A=x.ticks,S=x.includeHidden,P=x[a];if(w[P])return w;var N=qg(e.data,{graphicalItems:i.filter(function(X){var re,Se=a in X.props?X.props[a]:(re=X.type.defaultProps)===null||re===void 0?void 0:re[a];return Se===P}),dataStartIndex:l,dataEndIndex:u}),O=N.length,C,j,L;lve(x.domain,I,v)&&(C=Rb(x.domain,null,I),m&&(v==="number"||T!=="auto")&&(L=mc(N,_,"category")));var F=fL(v);if(!C||C.length===0){var B,G=(B=x.domain)!==null&&B!==void 0?B:F;if(_){if(C=mc(N,_,v),v==="category"&&m){var V=KH(C);b&&V?(j=C,C=Qp(0,O)):b||(C=NI(G,C,g).reduce(function(X,re){return X.indexOf(re)>=0?X:[].concat(jl(X),[re])},[]))}else if(v==="category")b?C=C.filter(function(X){return X!==""&&!ye(X)}):C=NI(G,C,g).reduce(function(X,re){return X.indexOf(re)>=0||re===""||ye(re)?X:[].concat(jl(X),[re])},[]);else if(v==="number"){var W=cue(N,i.filter(function(X){var re,Se,Ne=a in X.props?X.props[a]:(re=X.type.defaultProps)===null||re===void 0?void 0:re[a],rt="hide"in X.props?X.props.hide:(Se=X.type.defaultProps)===null||Se===void 0?void 0:Se.hide;return Ne===P&&(S||!rt)}),_,o,c);W&&(C=W)}m&&(v==="number"||T!=="auto")&&(L=mc(N,_,"category"))}else m?C=Qp(0,O):s&&s[P]&&s[P].hasStack&&v==="number"?C=p==="expand"?[0,1]:KM(s[P].stackGroups,l,u):C=UM(N,i.filter(function(X){var re=a in X.props?X.props[a]:X.type.defaultProps[a],Se="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return re===P&&(S||!Se)}),v,c,!0);if(v==="number")C=gx(d,C,P,o,A),G&&(C=Rb(G,C,I));else if(v==="category"&&G){var Y=G,ee=C.every(function(X){return Y.indexOf(X)>=0});ee&&(C=Y)}}return z(z({},w),{},ue({},P,z(z({},x),{},{axisType:o,domain:C,categoricalDomain:L,duplicateDomain:j,originalDomain:(y=x.domain)!==null&&y!==void 0?y:F,isCategorical:m,layout:c})))},{})},$ve=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,d=e.children,p=qg(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),m=p.length,w=zM(c,o),g=-1;return n.reduce(function(y,x){var v=x.type.defaultProps!==void 0?z(z({},x.type.defaultProps),x.props):x.props,_=v[a],I=fL("number");if(!y[_]){g++;var b;return w?b=Qp(0,m):s&&s[_]&&s[_].hasStack?(b=KM(s[_].stackGroups,l,u),b=gx(d,b,_,o)):(b=Rb(I,UM(p,n.filter(function(T){var A,S,P=a in T.props?T.props[a]:(A=T.type.defaultProps)===null||A===void 0?void 0:A[a],N="hide"in T.props?T.props.hide:(S=T.type.defaultProps)===null||S===void 0?void 0:S.hide;return P===_&&!N}),"number",c),i.defaultProps.allowDataOverflow),b=gx(d,b,_,o)),z(z({},y),{},ue({},_,z(z({axisType:o},i.defaultProps),{},{hide:!0,orientation:$r(jve,"".concat(o,".").concat(g%2),null),domain:b,originalDomain:I,isCategorical:w,layout:c})))}return y},{})},Lve=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,a=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.children,d="".concat(i,"Id"),p=Qr(c,o),m={};return p&&p.length?m=Mve(e,{axes:p,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=$ve(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},Vve=function(e){var r=Zi(e),n=di(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:W_(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Vp(r,n)}},uk=function(e){var r=e.children,n=e.defaultShowTooltip,i=Or(r,_l),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},Fve=function(e){return!e||!e.length?!1:e.some(function(r){var n=mi(r&&r.type);return n&&n.indexOf("Bar")>=0})},ck=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Bve=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,c=n.height,d=n.children,p=n.margin||{},m=Or(d,_l),w=Or(d,Fs),g=Object.keys(l).reduce(function(b,T){var A=l[T],S=A.orientation;return!A.mirror&&!A.hide?z(z({},b),{},ue({},S,b[S]+A.width)):b},{left:p.left||0,right:p.right||0}),y=Object.keys(a).reduce(function(b,T){var A=a[T],S=A.orientation;return!A.mirror&&!A.hide?z(z({},b),{},ue({},S,$r(b,"".concat(S))+A.height)):b},{top:p.top||0,bottom:p.bottom||0}),x=z(z({},y),g),v=x.bottom;m&&(x.bottom+=m.props.height||_l.defaultProps.height),w&&r&&(x=lue(x,i,n,r));var _=u-x.left-x.right,I=c-x.top-x.bottom;return z(z({brushBottom:v},x),{},{width:Math.max(_,0),height:Math.max(I,0)})},Uve=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},P1=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,p=function(x,v){var _=v.graphicalItems,I=v.stackGroups,b=v.offset,T=v.updateId,A=v.dataStartIndex,S=v.dataEndIndex,P=x.barSize,N=x.layout,O=x.barGap,C=x.barCategoryGap,j=x.maxBarSize,L=ck(N),F=L.numericAxisName,B=L.cateAxisName,G=Fve(_),V=[];return _.forEach(function(W,Y){var ee=qg(x.data,{graphicalItems:[W],dataStartIndex:A,dataEndIndex:S}),X=W.type.defaultProps!==void 0?z(z({},W.type.defaultProps),W.props):W.props,re=X.dataKey,Se=X.maxBarSize,Ne=X["".concat(F,"Id")],rt=X["".concat(B,"Id")],Dt={},Gt=l.reduce(function(Pn,Xn){var Bo=v["".concat(Xn.axisType,"Map")],Za=X["".concat(Xn.axisType,"Id")];Bo&&Bo[Za]||Xn.axisType==="zAxis"||Va();var au=Bo[Za];return z(z({},Pn),{},ue(ue({},Xn.axisType,au),"".concat(Xn.axisType,"Ticks"),di(au)))},Dt),te=Gt[B],fe=Gt["".concat(B,"Ticks")],pe=I&&I[Ne]&&I[Ne].hasStack&&bue(W,I[Ne].stackGroups),H=mi(W.type).indexOf("Bar")>=0,Be=Vp(te,fe),xe=[],nt=G&&aue({barSize:P,stackGroups:I,totalSize:Uve(Gt,B)});if(H){var ut,qt,Tn=ye(Se)?j:Se,Yn=(ut=(qt=Vp(te,fe,!0))!==null&&qt!==void 0?qt:Tn)!==null&&ut!==void 0?ut:0;xe=sue({barGap:O,barCategoryGap:C,bandSize:Yn!==Be?Yn:Be,sizeList:nt[rt],maxBarSize:Tn}),Yn!==Be&&(xe=xe.map(function(Pn){return z(z({},Pn),{},{position:z(z({},Pn.position),{},{offset:Pn.position.offset-Yn/2})})}))}var $i=W&&W.type&&W.type.getComposedData;$i&&V.push({props:z(z({},$i(z(z({},Gt),{},{displayedData:ee,props:x,dataKey:re,item:W,bandSize:Be,barPosition:xe,offset:b,stackedData:pe,layout:N,dataStartIndex:A,dataEndIndex:S}))),{},ue(ue(ue({key:W.key||"item-".concat(Y)},F,Gt[F]),B,Gt[B]),"animationId",T)),childIndex:sK(W,x.children),item:W})}),V},m=function(x,v){var _=x.props,I=x.dataStartIndex,b=x.dataEndIndex,T=x.updateId;if(!ET({props:_}))return null;var A=_.children,S=_.layout,P=_.stackOffset,N=_.data,O=_.reverseStackOrder,C=ck(S),j=C.numericAxisName,L=C.cateAxisName,F=Qr(A,n),B=yue(N,F,"".concat(j,"Id"),"".concat(L,"Id"),P,O),G=l.reduce(function(X,re){var Se="".concat(re.axisType,"Map");return z(z({},X),{},ue({},Se,Lve(_,z(z({},re),{},{graphicalItems:F,stackGroups:re.axisType===j&&B,dataStartIndex:I,dataEndIndex:b}))))},{}),V=Bve(z(z({},G),{},{props:_,graphicalItems:F}),v==null?void 0:v.legendBBox);Object.keys(G).forEach(function(X){G[X]=c(_,G[X],V,X.replace("Map",""),r)});var W=G["".concat(L,"Map")],Y=Vve(W),ee=p(_,z(z({},G),{},{dataStartIndex:I,dataEndIndex:b,updateId:T,graphicalItems:F,stackGroups:B,offset:V}));return z(z({formattedGraphicalItems:ee,graphicalItems:F,offset:V,stackGroups:B},Y),G)},w=function(y){function x(v){var _,I,b;return wve(this,x),b=Eve(this,x,[v]),ue(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ue(b,"accessibilityManager",new sve),ue(b,"handleLegendBBoxUpdate",function(T){if(T){var A=b.state,S=A.dataStartIndex,P=A.dataEndIndex,N=A.updateId;b.setState(z({legendBBox:T},m({props:b.props,dataStartIndex:S,dataEndIndex:P,updateId:N},z(z({},b.state),{},{legendBBox:T}))))}}),ue(b,"handleReceiveSyncEvent",function(T,A,S){if(b.props.syncId===T){if(S===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(A)}}),ue(b,"handleBrushChange",function(T){var A=T.startIndex,S=T.endIndex;if(A!==b.state.dataStartIndex||S!==b.state.dataEndIndex){var P=b.state.updateId;b.setState(function(){return z({dataStartIndex:A,dataEndIndex:S},m({props:b.props,dataStartIndex:A,dataEndIndex:S,updateId:P},b.state))}),b.triggerSyncEvent({dataStartIndex:A,dataEndIndex:S})}}),ue(b,"handleMouseEnter",function(T){var A=b.getMouseInfo(T);if(A){var S=z(z({},A),{},{isTooltipActive:!0});b.setState(S),b.triggerSyncEvent(S);var P=b.props.onMouseEnter;ce(P)&&P(S,T)}}),ue(b,"triggeredAfterMouseMove",function(T){var A=b.getMouseInfo(T),S=A?z(z({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(S),b.triggerSyncEvent(S);var P=b.props.onMouseMove;ce(P)&&P(S,T)}),ue(b,"handleItemMouseEnter",function(T){b.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),ue(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),ue(b,"handleMouseMove",function(T){T.persist(),b.throttleTriggeredAfterMouseMove(T)}),ue(b,"handleMouseLeave",function(T){b.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};b.setState(A),b.triggerSyncEvent(A);var S=b.props.onMouseLeave;ce(S)&&S(A,T)}),ue(b,"handleOuterEvent",function(T){var A=aK(T),S=$r(b.props,"".concat(A));if(A&&ce(S)){var P,N;/.*touch.*/i.test(A)?N=b.getMouseInfo(T.changedTouches[0]):N=b.getMouseInfo(T),S((P=N)!==null&&P!==void 0?P:{},T)}}),ue(b,"handleClick",function(T){var A=b.getMouseInfo(T);if(A){var S=z(z({},A),{},{isTooltipActive:!0});b.setState(S),b.triggerSyncEvent(S);var P=b.props.onClick;ce(P)&&P(S,T)}}),ue(b,"handleMouseDown",function(T){var A=b.props.onMouseDown;if(ce(A)){var S=b.getMouseInfo(T);A(S,T)}}),ue(b,"handleMouseUp",function(T){var A=b.props.onMouseUp;if(ce(A)){var S=b.getMouseInfo(T);A(S,T)}}),ue(b,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),ue(b,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&b.handleMouseDown(T.changedTouches[0])}),ue(b,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&b.handleMouseUp(T.changedTouches[0])}),ue(b,"handleDoubleClick",function(T){var A=b.props.onDoubleClick;if(ce(A)){var S=b.getMouseInfo(T);A(S,T)}}),ue(b,"handleContextMenu",function(T){var A=b.props.onContextMenu;if(ce(A)){var S=b.getMouseInfo(T);A(S,T)}}),ue(b,"triggerSyncEvent",function(T){b.props.syncId!==void 0&&wv.emit(_v,b.props.syncId,T,b.eventEmitterSymbol)}),ue(b,"applySyncEvent",function(T){var A=b.props,S=A.layout,P=A.syncMethod,N=b.state.updateId,O=T.dataStartIndex,C=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)b.setState(z({dataStartIndex:O,dataEndIndex:C},m({props:b.props,dataStartIndex:O,dataEndIndex:C,updateId:N},b.state)));else if(T.activeTooltipIndex!==void 0){var j=T.chartX,L=T.chartY,F=T.activeTooltipIndex,B=b.state,G=B.offset,V=B.tooltipTicks;if(!G)return;if(typeof P=="function")F=P(V,T);else if(P==="value"){F=-1;for(var W=0;W<V.length;W++)if(V[W].value===T.activeLabel){F=W;break}}var Y=z(z({},G),{},{x:G.left,y:G.top}),ee=Math.min(j,Y.x+Y.width),X=Math.min(L,Y.y+Y.height),re=V[F]&&V[F].value,Se=bx(b.state,b.props.data,F),Ne=V[F]?{x:S==="horizontal"?V[F].coordinate:ee,y:S==="horizontal"?X:V[F].coordinate}:dL;b.setState(z(z({},T),{},{activeLabel:re,activeCoordinate:Ne,activePayload:Se,activeTooltipIndex:F}))}else b.setState(T)}),ue(b,"renderCursor",function(T){var A,S=b.state,P=S.isTooltipActive,N=S.activeCoordinate,O=S.activePayload,C=S.offset,j=S.activeTooltipIndex,L=S.tooltipAxisBandSize,F=b.getTooltipEventType(),B=(A=T.props.active)!==null&&A!==void 0?A:P,G=b.props.layout,V=T.key||"_recharts-cursor";return M.createElement(pve,{key:V,activeCoordinate:N,activePayload:O,activeTooltipIndex:j,chartName:r,element:T,isActive:B,layout:G,offset:C,tooltipAxisBandSize:L,tooltipEventType:F})}),ue(b,"renderPolarAxis",function(T,A,S){var P=$r(T,"type.axisType"),N=$r(b.state,"".concat(P,"Map")),O=T.type.defaultProps,C=O!==void 0?z(z({},O),T.props):T.props,j=N&&N[C["".concat(P,"Id")]];return D.cloneElement(T,z(z({},j),{},{className:ve(P,j.className),key:T.key||"".concat(A,"-").concat(S),ticks:di(j,!0)}))}),ue(b,"renderPolarGrid",function(T){var A=T.props,S=A.radialLines,P=A.polarAngles,N=A.polarRadius,O=b.state,C=O.radiusAxisMap,j=O.angleAxisMap,L=Zi(C),F=Zi(j),B=F.cx,G=F.cy,V=F.innerRadius,W=F.outerRadius;return D.cloneElement(T,{polarAngles:Array.isArray(P)?P:di(F,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(N)?N:di(L,!0).map(function(Y){return Y.coordinate}),cx:B,cy:G,innerRadius:V,outerRadius:W,key:T.key||"polar-grid",radialLines:S})}),ue(b,"renderLegend",function(){var T=b.state.formattedGraphicalItems,A=b.props,S=A.children,P=A.width,N=A.height,O=b.props.margin||{},C=P-(O.left||0)-(O.right||0),j=FM({children:S,formattedGraphicalItems:T,legendWidth:C,legendContent:u});if(!j)return null;var L=j.item,F=ak(j,mve);return D.cloneElement(L,z(z({},F),{},{chartWidth:P,chartHeight:N,margin:O,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),ue(b,"renderTooltip",function(){var T,A=b.props,S=A.children,P=A.accessibilityLayer,N=Or(S,kr);if(!N)return null;var O=b.state,C=O.isTooltipActive,j=O.activeCoordinate,L=O.activePayload,F=O.activeLabel,B=O.offset,G=(T=N.props.active)!==null&&T!==void 0?T:C;return D.cloneElement(N,{viewBox:z(z({},B),{},{x:B.left,y:B.top}),active:G,label:F,payload:G?L:[],coordinate:j,accessibilityLayer:P})}),ue(b,"renderBrush",function(T){var A=b.props,S=A.margin,P=A.data,N=b.state,O=N.offset,C=N.dataStartIndex,j=N.dataEndIndex,L=N.updateId;return D.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Hf(b.handleBrushChange,T.props.onChange),data:P,x:Q(T.props.x)?T.props.x:O.left,y:Q(T.props.y)?T.props.y:O.top+O.height+O.brushBottom-(S.bottom||0),width:Q(T.props.width)?T.props.width:O.width,startIndex:C,endIndex:j,updateId:"brush-".concat(L)})}),ue(b,"renderReferenceElement",function(T,A,S){if(!T)return null;var P=b,N=P.clipPathId,O=b.state,C=O.xAxisMap,j=O.yAxisMap,L=O.offset,F=T.type.defaultProps||{},B=T.props,G=B.xAxisId,V=G===void 0?F.xAxisId:G,W=B.yAxisId,Y=W===void 0?F.yAxisId:W;return D.cloneElement(T,{key:T.key||"".concat(A,"-").concat(S),xAxis:C[V],yAxis:j[Y],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:N})}),ue(b,"renderActivePoints",function(T){var A=T.item,S=T.activePoint,P=T.basePoint,N=T.childIndex,O=T.isRange,C=[],j=A.props.key,L=A.item.type.defaultProps!==void 0?z(z({},A.item.type.defaultProps),A.item.props):A.item.props,F=L.activeDot,B=L.dataKey,G=z(z({index:N,dataKey:B,cx:S.x,cy:S.y,r:4,fill:g1(A.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},se(F,!1)),fp(F));return C.push(x.renderActiveDot(F,G,"".concat(j,"-activePoint-").concat(N))),P?C.push(x.renderActiveDot(F,z(z({},G),{},{cx:P.x,cy:P.y}),"".concat(j,"-basePoint-").concat(N))):O&&C.push(null),C}),ue(b,"renderGraphicChild",function(T,A,S){var P=b.filterFormatItem(T,A,S);if(!P)return null;var N=b.getTooltipEventType(),O=b.state,C=O.isTooltipActive,j=O.tooltipAxis,L=O.activeTooltipIndex,F=O.activeLabel,B=b.props.children,G=Or(B,kr),V=P.props,W=V.points,Y=V.isRange,ee=V.baseLine,X=P.item.type.defaultProps!==void 0?z(z({},P.item.type.defaultProps),P.item.props):P.item.props,re=X.activeDot,Se=X.hide,Ne=X.activeBar,rt=X.activeShape,Dt=!!(!Se&&C&&G&&(re||Ne||rt)),Gt={};N!=="axis"&&G&&G.props.trigger==="click"?Gt={onClick:Hf(b.handleItemMouseEnter,T.props.onClick)}:N!=="axis"&&(Gt={onMouseLeave:Hf(b.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Hf(b.handleItemMouseEnter,T.props.onMouseEnter)});var te=D.cloneElement(T,z(z({},P.props),Gt));function fe(Xn){return typeof j.dataKey=="function"?j.dataKey(Xn.payload):null}if(Dt)if(L>=0){var pe,H;if(j.dataKey&&!j.allowDuplicatedCategory){var Be=typeof j.dataKey=="function"?fe:"payload.".concat(j.dataKey.toString());pe=dp(W,Be,F),H=Y&&ee&&dp(ee,Be,F)}else pe=W==null?void 0:W[L],H=Y&&ee&&ee[L];if(rt||Ne){var xe=T.props.activeIndex!==void 0?T.props.activeIndex:L;return[D.cloneElement(T,z(z(z({},P.props),Gt),{},{activeIndex:xe})),null,null]}if(!ye(pe))return[te].concat(jl(b.renderActivePoints({item:P,activePoint:pe,basePoint:H,childIndex:L,isRange:Y})))}else{var nt,ut=(nt=b.getItemByXY(b.state.activeCoordinate))!==null&&nt!==void 0?nt:{graphicalItem:te},qt=ut.graphicalItem,Tn=qt.item,Yn=Tn===void 0?T:Tn,$i=qt.childIndex,Pn=z(z(z({},P.props),Gt),{},{activeIndex:$i});return[D.cloneElement(Yn,Pn),null,null]}return Y?[te,null,null]:[te,null]}),ue(b,"renderCustomized",function(T,A,S){return D.cloneElement(T,z(z({key:"recharts-customized-".concat(S)},b.props),b.state))}),ue(b,"renderMap",{CartesianGrid:{handler:Jf,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Jf},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Jf},YAxis:{handler:Jf},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((_=v.id)!==null&&_!==void 0?_:Jl("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=VD(b.triggeredAfterMouseMove,(I=v.throttleDelay)!==null&&I!==void 0?I:1e3/60),b.state={},b}return Pve(x,y),Sve(x,[{key:"componentDidMount",value:function(){var _,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,I=_.children,b=_.data,T=_.height,A=_.layout,S=Or(I,kr);if(S){var P=S.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,O=bx(this.state,b,P,N),C=this.state.tooltipTicks[P].coordinate,j=(this.state.offset.top+T)/2,L=A==="horizontal",F=L?{x:C,y:j}:{y:C,x:j},B=this.state.formattedGraphicalItems.find(function(V){var W=V.item;return W.type.name==="Scatter"});B&&(F=z(z({},F),B.props.points[P].tooltipPosition),O=B.props.points[P].tooltipPayload);var G={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:N,activePayload:O,activeCoordinate:F};this.setState(G),this.renderCursor(S),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var b,T;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(_){Y0([Or(_.children,kr)],[Or(this.props.children,kr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Or(this.props.children,kr);if(_&&typeof _.props.shared=="boolean"){var I=_.props.shared?"axis":"item";return s.indexOf(I)>=0?I:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var I=this.container,b=I.getBoundingClientRect(),T=Cie(b),A={chartX:Math.round(_.pageX-T.left),chartY:Math.round(_.pageY-T.top)},S=b.width/I.offsetWidth||1,P=this.inRange(A.chartX,A.chartY,S);if(!P)return null;var N=this.state,O=N.xAxisMap,C=N.yAxisMap,j=this.getTooltipEventType(),L=lk(this.state,this.props.data,this.props.layout,P);if(j!=="axis"&&O&&C){var F=Zi(O).scale,B=Zi(C).scale,G=F&&F.invert?F.invert(A.chartX):null,V=B&&B.invert?B.invert(A.chartY):null;return z(z({},A),{},{xValue:G,yValue:V},L)}return L?z(z({},A),L):null}},{key:"inRange",value:function(_,I){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,A=_/b,S=I/b;if(T==="horizontal"||T==="vertical"){var P=this.state.offset,N=A>=P.left&&A<=P.left+P.width&&S>=P.top&&S<=P.top+P.height;return N?{x:A,y:S}:null}var O=this.state,C=O.angleAxisMap,j=O.radiusAxisMap;if(C&&j){var L=Zi(C);return RI({x:A,y:S},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,I=this.getTooltipEventType(),b=Or(_,kr),T={};b&&I==="axis"&&(b.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=fp(this.props,this.handleOuterEvent);return z(z({},A),T)}},{key:"addListener",value:function(){wv.on(_v,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wv.removeListener(_v,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,I,b){for(var T=this.state.formattedGraphicalItems,A=0,S=T.length;A<S;A++){var P=T[A];if(P.item===_||P.props.key===_.key||I===mi(P.item.type)&&b===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,I=this.state.offset,b=I.left,T=I.top,A=I.height,S=I.width;return M.createElement("defs",null,M.createElement("clipPath",{id:_},M.createElement("rect",{x:b,y:T,height:A,width:S})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(I,b){var T=ok(b,2),A=T[0],S=T[1];return z(z({},I),{},ue({},A,S.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(I,b){var T=ok(b,2),A=T[0],S=T[1];return z(z({},I),{},ue({},A,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[_])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(_){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[_])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(_){var I=this.state,b=I.formattedGraphicalItems,T=I.activeItem;if(b&&b.length)for(var A=0,S=b.length;A<S;A++){var P=b[A],N=P.props,O=P.item,C=O.type.defaultProps!==void 0?z(z({},O.type.defaultProps),O.props):O.props,j=mi(O.type);if(j==="Bar"){var L=(N.data||[]).find(function(V){return gfe(_,V)});if(L)return{graphicalItem:P,payload:L}}else if(j==="RadialBar"){var F=(N.data||[]).find(function(V){return RI(_,V)});if(F)return{graphicalItem:P,payload:F}}else if(Vg(P,T)||Fg(P,T)||_d(P,T)){var B=ipe({graphicalItem:P,activeTooltipItem:T,itemData:C.data}),G=C.activeIndex===void 0?B:C.activeIndex;return{graphicalItem:z(z({},P),{},{childIndex:G}),payload:_d(P,T)?C.data[B]:P.props.data[B]}}}return null}},{key:"render",value:function(){var _=this;if(!ET(this))return null;var I=this.props,b=I.children,T=I.className,A=I.width,S=I.height,P=I.style,N=I.compact,O=I.title,C=I.desc,j=ak(I,gve),L=se(j,!1);if(N)return M.createElement(UO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Q0,Is({},L,{width:A,height:S,title:O,desc:C}),this.renderClipPath(),TT(b,this.renderMap)));if(this.props.accessibilityLayer){var F,B;L.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,L.role=(B=this.props.role)!==null&&B!==void 0?B:"application",L.onKeyDown=function(V){_.accessibilityManager.keyboardEvent(V)},L.onFocus=function(){_.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return M.createElement(UO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Is({className:ve("recharts-wrapper",T),style:z({position:"relative",cursor:"default",width:A,height:S},P)},G,{ref:function(W){_.container=W}}),M.createElement(Q0,Is({},L,{width:A,height:S,title:O,desc:C,style:Cve}),this.renderClipPath(),TT(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);ue(w,"displayName",r),ue(w,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ue(w,"getDerivedStateFromProps",function(y,x){var v=y.dataKey,_=y.data,I=y.children,b=y.width,T=y.height,A=y.layout,S=y.stackOffset,P=y.margin,N=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var C=uk(y);return z(z(z({},C),{},{updateId:0},m(z(z({props:y},C),{},{updateId:0}),x)),{},{prevDataKey:v,prevData:_,prevWidth:b,prevHeight:T,prevLayout:A,prevStackOffset:S,prevMargin:P,prevChildren:I})}if(v!==x.prevDataKey||_!==x.prevData||b!==x.prevWidth||T!==x.prevHeight||A!==x.prevLayout||S!==x.prevStackOffset||!Vs(P,x.prevMargin)){var j=uk(y),L={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=z(z({},lk(x,_,A)),{},{updateId:x.updateId+1}),B=z(z(z({},j),L),F);return z(z(z({},B),m(z({props:y},B),x)),{},{prevDataKey:v,prevData:_,prevWidth:b,prevHeight:T,prevLayout:A,prevStackOffset:S,prevMargin:P,prevChildren:I})}if(!Y0(I,x.prevChildren)){var G,V,W,Y,ee=Or(I,_l),X=ee&&(G=(V=ee.props)===null||V===void 0?void 0:V.startIndex)!==null&&G!==void 0?G:N,re=ee&&(W=(Y=ee.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&W!==void 0?W:O,Se=X!==N||re!==O,Ne=!ye(_),rt=Ne&&!Se?x.updateId:x.updateId+1;return z(z({updateId:rt},m(z(z({props:y},x),{},{updateId:rt,dataStartIndex:X,dataEndIndex:re}),x)),{},{prevChildren:I,dataStartIndex:X,dataEndIndex:re})}return null}),ue(w,"renderActiveDot",function(y,x,v){var _;return D.isValidElement(y)?_=D.cloneElement(y,x):ce(y)?_=y(x):_=M.createElement(Rg,x),M.createElement(Te,{className:"recharts-active-dot",key:v},_)});var g=D.forwardRef(function(x,v){return M.createElement(w,Is({},x,{ref:v}))});return g.displayName=w.displayName,g},dk=P1({chartName:"BarChart",GraphicalChild:To,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xa},{axisType:"yAxis",AxisComp:wa}],formatAxisMap:O$}),zve=P1({chartName:"PieChart",GraphicalChild:Mi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Lg},{axisType:"radiusAxis",AxisComp:Mg}],formatAxisMap:Oue,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Wve=P1({chartName:"AreaChart",GraphicalChild:Fo,axisComponents:[{axisType:"xAxis",AxisComp:xa},{axisType:"yAxis",AxisComp:wa}],formatAxisMap:O$});function Gve(){const[t,e]=D.useState([]),[r,n]=D.useState([]),[i,o]=D.useState([]),[a,s]=D.useState(!0),[l,u]=D.useState("30d"),c=Ni(),{user:d}=qn(),p=za.analytics;D.useEffect(()=>{(async()=>{if(d)try{s(!0);const[P,N,O]=await Promise.all([kn.getAll(d.id),qi.getAll(d.id),SR.getAll(d.id)]);e(P),n(N),o(O)}catch(P){console.error("Error loading analytics data:",P)}finally{s(!1)}})()},[d]);const m=(S,P)=>{const N=new Date,O=l==="7d"?7:l==="30d"?30:l==="90d"?90:365;return S.filter(C=>{const j=new Date(C[P]);return(N.getTime()-j.getTime())/(1e3*3600*24)<=O})},w=()=>m(t,"startedAt").filter(N=>N.status==="completed").sort((N,O)=>N.startedAt.getTime()-O.startedAt.getTime()).map(N=>({date:N.startedAt.toLocaleDateString(),duration:N.duration||0,exercises:N.exercises.length,totalSets:N.exercises.reduce((O,C)=>O+C.sets.length,0)})),g=()=>{const S=m(r,"createdAt"),P={total:S.length,completed:S.filter(N=>N.status==="completed").length,active:S.filter(N=>N.status==="active").length,paused:S.filter(N=>N.status==="paused").length};return[{name:"Completed",value:P.completed,color:p.chartPrimary},{name:"Active",value:P.active,color:p.chartSecondary},{name:"Paused",value:P.paused,color:p.chartTertiary}].filter(N=>N.value>0)},y=()=>{const P=m(i,"dateAchieved").reduce((N,O)=>(N[O.recordType]||(N[O.recordType]=[]),N[O.recordType].push(O),N),{});return Object.entries(P).map(([N,O])=>{var C;return{type:N.replace("_"," ").replace(/\b\w/g,j=>j.toUpperCase()),count:O.length,latest:(C=O.sort((j,L)=>L.dateAchieved.getTime()-j.dateAchieved.getTime())[0])==null?void 0:C.dateAchieved.toLocaleDateString()}})},x=()=>{const S=m(t,"startedAt"),P={};return S.forEach(N=>{const O=new Date(N.startedAt);O.setDate(O.getDate()-O.getDay());const C=O.toLocaleDateString();P[C]=(P[C]||0)+1}),Object.entries(P).sort(([N],[O])=>new Date(N).getTime()-new Date(O).getTime()).map(([N,O])=>({week:N,workouts:O}))},v=()=>{const S=m(t,"startedAt"),P={};return S.forEach(N=>{N.exercises.forEach(O=>{P[O.exerciseName]||(P[O.exerciseName]={totalWeight:0,totalReps:0,sessions:0}),O.sets.forEach(C=>{P[O.exerciseName].totalWeight+=C.weight||0,P[O.exerciseName].totalReps+=C.reps}),P[O.exerciseName].sessions+=1})}),Object.entries(P).map(([N,O])=>({exercise:N,avgWeight:Math.round(O.totalWeight/O.sessions),totalReps:O.totalReps,sessions:O.sessions})).sort((N,O)=>O.sessions-N.sessions).slice(0,10)};if(a)return f.jsxs("div",{className:"min-h-screen hero-gradient relative flex items-center justify-center",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}20`}}),f.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.primary[500]}20`}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}10`}})]}),f.jsxs("div",{className:"text-center relative z-10",children:[f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500 mx-auto"}),f.jsx("p",{className:"mt-4 text-gray-300",children:"Loading analytics..."})]})]});const _=w(),I=g(),b=y(),T=x(),A=v();return f.jsxs("div",{className:"min-h-screen hero-gradient relative p-6",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}20`}}),f.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${et.primary[500]}20`}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl",style:{backgroundColor:`${et.secondary[500]}10`}})]}),f.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("button",{onClick:()=>c("/dashboard"),className:"flex items-center gap-2 transition-colors nav-button text-white hover:text-gray-300",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),f.jsx("div",{className:"text-sm text-secondary",children:"Analytics & Insights"})]})}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-2 text-primary",children:"Analytics Dashboard"}),f.jsx("p",{className:"text-secondary",children:"Track your fitness progress and performance insights"})]}),f.jsx("div",{className:"mb-8 flex justify-center",children:f.jsx("div",{className:"glassmorphism rounded-lg p-1",children:[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"}].map(S=>f.jsx("button",{onClick:()=>u(S.value),className:`px-4 py-2 rounded-md transition-colors ${l===S.value?"bg-accent-primary text-white":"text-gray-300 hover:text-white hover:glassmorphism"}`,children:S.label},S.value))})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[f.jsx("div",{className:"glassmorphism rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:f.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--glassmorphism-text)"},children:t.filter(S=>S.status==="completed").length}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:"Total Workouts"})]})]})}),f.jsx("div",{className:"glassmorphism rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--glassmorphism-text)"},children:r.filter(S=>S.status==="completed").length}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:"Goals Achieved"})]})]})}),f.jsx("div",{className:"glassmorphism rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:f.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--glassmorphism-text)"},children:i.length}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:"Personal Records"})]})]})}),f.jsx("div",{className:"glassmorphism rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:f.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsxs("p",{className:"text-2xl font-bold",style:{color:"var(--glassmorphism-text)"},children:[Math.round(t.filter(S=>S.status==="completed").reduce((S,P)=>S+(P.duration||0),0)/60),"h"]}),f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:"Total Training Time"})]})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[f.jsxs("div",{className:"glassmorphism rounded-lg p-6",children:[f.jsx("h3",{className:"text-xl font-semibold mb-4",style:{color:"var(--glassmorphism-text)"},children:"Workout Progress"}),f.jsx(Uf,{width:"100%",height:300,children:f.jsxs(Wve,{data:_,children:[f.jsx(wh,{strokeDasharray:"3 3",stroke:p.gridLines}),f.jsx(xa,{dataKey:"date",stroke:p.axisText,fontSize:12}),f.jsx(wa,{stroke:p.axisText,fontSize:12}),f.jsx(kr,{contentStyle:{backgroundColor:"var(--glassmorphism-bg)",border:"1px solid var(--glassmorphism-border)",borderRadius:"8px"}}),f.jsx(Fo,{type:"monotone",dataKey:"duration",stroke:p.chartPrimary,fill:p.chartPrimary,fillOpacity:.3,name:"Duration (min)"})]})})]}),f.jsxs("div",{className:"glassmorphism rounded-lg p-6",children:[f.jsx("h3",{className:"text-xl font-semibold mb-4",style:{color:"var(--glassmorphism-text)"},children:"Weekly Workout Frequency"}),f.jsx(Uf,{width:"100%",height:300,children:f.jsxs(dk,{data:T,children:[f.jsx(wh,{strokeDasharray:"3 3",stroke:p.gridLines}),f.jsx(xa,{dataKey:"week",stroke:p.axisText,fontSize:12}),f.jsx(wa,{stroke:p.axisText,fontSize:12}),f.jsx(kr,{contentStyle:{backgroundColor:"var(--glassmorphism-bg)",border:"1px solid var(--glassmorphism-border)",borderRadius:"8px"}}),f.jsx(To,{dataKey:"workouts",fill:p.chartSecondary,name:"Workouts"})]})})]}),f.jsxs("div",{className:"glassmorphism rounded-lg p-6",children:[f.jsx("h3",{className:"text-xl font-semibold mb-4",style:{color:"var(--glassmorphism-text)"},children:"Goal Status Distribution"}),f.jsx(Uf,{width:"100%",height:300,children:f.jsxs(zve,{children:[f.jsx(Mi,{data:I,cx:"50%",cy:"50%",labelLine:!1,label:({name:S,percent:P})=>`${S} ${(P*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:I.map((S,P)=>f.jsx(_g,{fill:S.color},`cell-${P}`))}),f.jsx(kr,{})]})})]}),f.jsxs("div",{className:"glassmorphism rounded-lg p-6",children:[f.jsx("h3",{className:"text-xl font-semibold mb-4",style:{color:"var(--glassmorphism-text)"},children:"Top Exercises by Sessions"}),f.jsx(Uf,{width:"100%",height:300,children:f.jsxs(dk,{data:A,layout:"horizontal",children:[f.jsx(wh,{strokeDasharray:"3 3",stroke:p.gridLines}),f.jsx(xa,{type:"number",stroke:p.axisText,fontSize:12}),f.jsx(wa,{dataKey:"exercise",type:"category",stroke:p.axisText,fontSize:12,width:100}),f.jsx(kr,{contentStyle:{backgroundColor:"var(--glassmorphism-bg)",border:"1px solid var(--glassmorphism-border)",borderRadius:"8px"}}),f.jsx(To,{dataKey:"sessions",fill:p.chartTertiary,name:"Sessions"})]})})]})]}),f.jsxs("div",{className:"glassmorphism rounded-lg p-6 mb-8",children:[f.jsx("h3",{className:"text-xl font-semibold mb-4",style:{color:"var(--glassmorphism-text)"},children:"Personal Records Summary"}),b.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{style:{borderBottom:"1px solid var(--glassmorphism-border)"},children:[f.jsx("th",{className:"text-left py-2",style:{color:"var(--glassmorphism-text-secondary)"},children:"Record Type"}),f.jsx("th",{className:"text-left py-2",style:{color:"var(--glassmorphism-text-secondary)"},children:"Count"}),f.jsx("th",{className:"text-left py-2",style:{color:"var(--glassmorphism-text-secondary)"},children:"Latest Achievement"})]})}),f.jsx("tbody",{children:b.map((S,P)=>f.jsxs("tr",{style:{borderBottom:"1px solid var(--glassmorphism-border)"},children:[f.jsx("td",{className:"py-3",style:{color:"var(--glassmorphism-text)"},children:S.type}),f.jsx("td",{className:"py-3",style:{color:"var(--glassmorphism-text)"},children:S.count}),f.jsx("td",{className:"py-3",style:{color:"var(--glassmorphism-text-secondary)"},children:S.latest})]},P))})]})}):f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:"No personal records yet. Keep training to set your first records!"})]}),f.jsxs("div",{className:"glassmorphism rounded-lg p-6",children:[f.jsx("h3",{className:"text-xl font-semibold mb-4",style:{color:"var(--glassmorphism-text)"},children:"Recent Achievements"}),f.jsxs("div",{className:"space-y-4",children:[r.filter(S=>S.status==="completed").slice(0,5).map(S=>{var P;return f.jsxs("div",{className:"flex items-center justify-between p-3 glassmorphism rounded-lg",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium",style:{color:"var(--glassmorphism-text)"},children:S.title}),f.jsxs("p",{className:"text-sm",style:{color:"var(--glassmorphism-text-secondary)"},children:["Completed on ",(P=S.completedAt)==null?void 0:P.toLocaleDateString()]})]}),f.jsx("div",{className:"text-2xl",children:"🏆"})]},S.id)}),r.filter(S=>S.status==="completed").length===0&&f.jsx("p",{style:{color:"var(--glassmorphism-text-secondary)"},children:"No completed goals yet. Keep working towards your targets!"})]})]})]})]})}function qve({profile:t,onChange:e}){const[r,n]=D.useState(!1),[i,o]=D.useState(t.profilePicture||null),[a,s]=D.useState(""),[l,u]=D.useState(!1),c=D.useRef(null),d=y=>{if(!y.type.startsWith("image/")){s("Please select a valid image file");return}if(y.size>5*1024*1024){s("Image size must be less than 5MB");return}s(""),u(!0);const x=new FileReader;x.onload=v=>{var I;const _=(I=v.target)==null?void 0:I.result;o(_),e("profilePicture",_),u(!1)},x.onerror=()=>{s("Error reading file. Please try again."),u(!1)},x.readAsDataURL(y)},p=y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?n(!0):y.type==="dragleave"&&n(!1)},m=y=>{y.preventDefault(),y.stopPropagation(),n(!1),y.dataTransfer.files&&y.dataTransfer.files[0]&&d(y.dataTransfer.files[0])},w=y=>{y.target.files&&y.target.files[0]&&d(y.target.files[0])},g=()=>{o(null),e("profilePicture",""),c.current&&(c.current.value="")};return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"Personal Information"}),f.jsxs("div",{className:"bg-card-bg border border-card-border rounded-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Profile Picture"}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsxs("div",{className:"relative w-32 h-32",children:[l?f.jsx("div",{className:"w-full h-full rounded-full bg-gray-300 flex items-center justify-center border-4 border-card-border",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-primary"})}):i?f.jsx("img",{src:i,alt:"Profile",className:"w-full h-full rounded-full object-cover border-4 border-card-border shadow-lg"}):f.jsx("div",{className:"w-full h-full rounded-full bg-gray-300 flex items-center justify-center border-4 border-card-border",children:f.jsx("svg",{className:"w-16 h-16 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),i&&!l&&f.jsx("button",{onClick:g,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Remove image",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${r?"border-accent-primary bg-accent-primary/10":"border-card-border hover:border-accent-primary/50"}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:m,children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"mx-auto w-12 h-12 text-accent-primary",children:f.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-text-primary font-medium",children:r?"Drop your image here":"Upload a profile picture"}),f.jsx("p",{className:"text-text-muted text-sm mt-1",children:"Drag and drop an image, or click to browse"}),f.jsx("p",{className:"text-text-muted text-xs mt-2",children:"PNG, JPG, GIF up to 5MB"})]}),f.jsx("button",{onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},disabled:l,className:"bg-btn-primary-bg text-btn-primary-text px-4 py-2 rounded-lg hover:bg-btn-primary-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Uploading...":"Choose File"}),f.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:w,className:"hidden"})]})}),a&&f.jsx("div",{className:"mt-3 p-3 bg-red-500/20 border border-red-500/30 text-red-200 rounded-lg text-sm",children:a})]})]})]}),f.jsxs("div",{className:"bg-card-bg border border-card-border rounded-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Basic Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Full Name"}),f.jsx("input",{type:"text",value:t.name||"",onChange:y=>e("name",y.target.value),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",placeholder:"Enter your full name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Email Address"}),f.jsx("input",{type:"email",value:t.email||"",onChange:y=>e("email",y.target.value),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",placeholder:"Enter your email"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Date of Birth"}),f.jsx("input",{type:"date",value:t.dateOfBirth||"",onChange:y=>e("dateOfBirth",y.target.value),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Gender"}),f.jsxs("select",{value:t.gender||"",onChange:y=>e("gender",y.target.value),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",children:[f.jsx("option",{value:"",children:"Select gender"}),f.jsx("option",{value:"male",children:"Male"}),f.jsx("option",{value:"female",children:"Female"}),f.jsx("option",{value:"other",children:"Other"}),f.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Height (cm)"}),f.jsx("input",{type:"number",value:t.height||"",onChange:y=>e("height",parseInt(y.target.value)||0),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",placeholder:"Enter your height",min:"100",max:"250"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Weight (kg)"}),f.jsx("input",{type:"number",value:t.weight||"",onChange:y=>e("weight",parseFloat(y.target.value)||0),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",placeholder:"Enter your weight",min:"30",max:"300",step:"0.1"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Bio"}),f.jsx("textarea",{value:t.bio||"",onChange:y=>e("bio",y.target.value),rows:4,className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",placeholder:"Tell us about yourself...",maxLength:500}),f.jsxs("p",{className:"text-xs text-text-muted mt-1",children:[(t.bio||"").length,"/500 characters"]})]})]})]})]})}function Hve({profile:t,onChange:e}){const[r,n]=D.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[i,o]=D.useState([]),[a,s]=D.useState(!1),l=c=>{const d=[];return c.length<8&&d.push("Password must be at least 8 characters long"),/(?=.*[a-z])/.test(c)||d.push("Password must contain at least one lowercase letter"),/(?=.*[A-Z])/.test(c)||d.push("Password must contain at least one uppercase letter"),/(?=.*\d)/.test(c)||d.push("Password must contain at least one number"),/(?=.*[@$!%*?&])/.test(c)||d.push("Password must contain at least one special character (@$!%*?&)"),d},u=async()=>{const c=[];r.currentPassword||c.push("Current password is required");const d=l(r.newPassword);if(c.push(...d),r.newPassword!==r.confirmPassword&&c.push("New passwords do not match"),r.currentPassword===r.newPassword&&c.push("New password must be different from current password"),o(c),!(c.length>0)){s(!0);try{await new Promise(p=>setTimeout(p,1e3)),console.log("Password changed successfully"),n({currentPassword:"",newPassword:"",confirmPassword:""}),o([]),alert("Password changed successfully!")}catch(p){console.error("Error changing password:",p),o(["Failed to change password. Please try again."])}finally{s(!1)}}};return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"Security Settings"}),f.jsxs("div",{className:"bg-card-bg border border-card-border rounded-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Change Password"}),i.length>0&&f.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/30 text-red-200 rounded-lg text-sm",children:f.jsx("ul",{className:"list-disc list-inside space-y-1",children:i.map((c,d)=>f.jsx("li",{children:c},d))})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Current Password"}),f.jsx("input",{type:"password",value:r.currentPassword,onChange:c=>n(d=>({...d,currentPassword:c.target.value})),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",placeholder:"Enter your current password"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"New Password"}),f.jsx("input",{type:"password",value:r.newPassword,onChange:c=>n(d=>({...d,newPassword:c.target.value})),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",placeholder:"Enter your new password"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Confirm New Password"}),f.jsx("input",{type:"password",value:r.confirmPassword,onChange:c=>n(d=>({...d,confirmPassword:c.target.value})),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",placeholder:"Confirm your new password"})]}),f.jsxs("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-lg p-4",children:[f.jsx("h4",{className:"font-medium text-blue-200 mb-2",children:"Password Requirements:"}),f.jsxs("ul",{className:"text-sm text-blue-200 space-y-1",children:[f.jsx("li",{children:"• At least 8 characters long"}),f.jsx("li",{children:"• Contains uppercase and lowercase letters"}),f.jsx("li",{children:"• Contains at least one number"}),f.jsx("li",{children:"• Contains at least one special character (@$!%*?&)"})]})]}),f.jsx("button",{onClick:u,disabled:a||!r.currentPassword||!r.newPassword||!r.confirmPassword,className:"w-full bg-btn-primary-bg text-btn-primary-text py-2 px-4 rounded-lg hover:bg-btn-primary-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Changing Password...":"Change Password"})]})]}),f.jsxs("div",{className:"bg-card-bg border border-card-border rounded-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Account Security"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 bg-card-bg rounded-lg border border-card-border",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-text-primary",children:"Two-Factor Authentication"}),f.jsx("p",{className:"text-sm text-text-muted",children:"Add an extra layer of security to your account"})]}),f.jsx("button",{className:"px-4 py-2 bg-btn-secondary-bg text-btn-secondary-text rounded-lg hover:bg-btn-secondary-hover transition-colors",children:"Enable"})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 bg-card-bg rounded-lg border border-card-border",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-text-primary",children:"Login Sessions"}),f.jsx("p",{className:"text-sm text-text-muted",children:"Manage your active login sessions"})]}),f.jsx("button",{className:"px-4 py-2 bg-btn-secondary-bg text-btn-secondary-text rounded-lg hover:bg-btn-secondary-hover transition-colors",children:"View Sessions"})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 bg-card-bg rounded-lg border border-card-border",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-text-primary",children:"Account Deletion"}),f.jsx("p",{className:"text-sm text-text-muted",children:"Permanently delete your account and all data"})]}),f.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Account"})]})]})]})]})}function Kve(){var y;const{user:t,logout:e}=qn(),r=Ni(),[n,i]=D.useState(null),[o,a]=D.useState(!0),[s,l]=D.useState(!1),[u,c]=D.useState(""),[d,p]=D.useState("personal"),m=za.profile||{headerBg:"var(--bg-tertiary)",headerText:"var(--text-primary)"};D.useEffect(()=>{(async()=>{if(t)try{a(!0);const v={id:t.id,email:t.email,name:t.name,profilePicture:t.profilePicture,createdAt:new Date,updatedAt:new Date};i(v)}catch(v){console.error("Error loading profile:",v)}finally{a(!1)}})()},[t]);const w=async()=>{if(n){l(!0),c("");try{console.log("Profile saved:",n),c("Profile saved successfully! (Note: Firebase integration pending)"),setTimeout(()=>c(""),3e3)}catch(x){console.error("Error saving profile:",x),c("Error saving profile. Please try again."),setTimeout(()=>c(""),3e3)}finally{l(!1)}}},g=(x,v)=>{if(n)if(x.includes(".")){const[_,I]=x.split(".");i(b=>b?{...b,[_]:{...b[_],[I]:v}}:null)}else i(_=>_?{..._,[x]:v}:null)};return o?f.jsx("div",{className:"min-h-screen hero-gradient flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-primary mx-auto mb-4"}),f.jsx("p",{className:"text-gray-300",children:"Loading profile..."})]})}):n?f.jsx("div",{className:"min-h-screen hero-gradient p-6",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 transition-colors nav-button text-white hover:text-gray-300",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),f.jsx("div",{className:"text-sm text-gray-300",children:"Profile Settings"})]})}),f.jsx("div",{className:"mb-8",style:{backgroundColor:m.headerBg,color:m.headerText},children:f.jsx("div",{className:"p-8 rounded-lg",children:f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsxs("div",{className:"relative",children:[n.profilePicture?f.jsx("img",{src:n.profilePicture,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white/20"}):f.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center border-4 border-white/20",children:f.jsx("svg",{className:"w-12 h-12 text-white/70",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),f.jsx("button",{onClick:()=>{var x;return(x=document.getElementById("header-profile-picture-upload"))==null?void 0:x.click()},className:"absolute bottom-0 right-0 bg-accent-primary text-white rounded-full p-2 hover:bg-accent-primary/80 transition-colors",title:"Change profile picture",children:f.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),f.jsx("input",{id:"header-profile-picture-upload",type:"file",accept:"image/*",onChange:x=>{if(x.target.files&&x.target.files[0]){const v=x.target.files[0];if(v.type.startsWith("image/")&&v.size<=5*1024*1024){const _=new FileReader;_.onload=I=>{var b;(b=I.target)!=null&&b.result&&g("profilePicture",I.target.result)},_.readAsDataURL(v)}}},className:"hidden"})]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold mb-2 text-primary",children:n.name}),f.jsx("p",{className:"text-secondary",children:n.email}),f.jsxs("p",{className:"text-muted text-sm mt-1",children:["Member since ",(y=n.createdAt)==null?void 0:y.toLocaleDateString()]})]})]})})}),f.jsx("div",{className:"mb-8",children:f.jsx("div",{className:"flex space-x-1 glassmorphism rounded-lg p-1",children:[{id:"personal",label:"Personal Info",icon:"👤"},{id:"fitness",label:"Fitness",icon:"💪"},{id:"preferences",label:"Preferences",icon:"⚙️"},{id:"privacy",label:"Privacy",icon:"🔒"},{id:"security",label:"Security",icon:"🔐"}].map(x=>f.jsxs("button",{onClick:()=>p(x.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-md transition-colors ${d===x.id?"bg-accent-primary text-white":"text-gray-300 hover:text-white hover:glassmorphism"}`,children:[f.jsx("span",{children:x.icon}),f.jsx("span",{className:"hidden sm:inline",children:x.label})]},x.id))})}),f.jsxs("div",{className:"glassmorphism rounded-lg p-6",children:[d==="personal"&&f.jsx(qve,{profile:n,onChange:g}),d==="fitness"&&f.jsx(Yve,{profile:n,onChange:g}),d==="preferences"&&f.jsx(Xve,{profile:n,onChange:g}),d==="privacy"&&f.jsx(Qve,{profile:n,onChange:g}),d==="security"&&f.jsx(Hve,{profile:n,onChange:g})]}),u&&f.jsx("div",{className:`mt-6 p-3 rounded-lg text-sm ${u.includes("successfully")?"bg-green-500/20 border border-green-500/30 text-green-200":"bg-red-500/20 border border-red-500/30 text-red-200"}`,children:u}),f.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[f.jsx("button",{onClick:()=>r("/dashboard"),className:"px-6 py-2 border border-card-border text-white rounded-lg hover:glassmorphism transition-colors",children:"Cancel"}),f.jsx("button",{onClick:w,disabled:s,className:"px-6 py-2 bg-btn-primary-bg text-btn-primary-text rounded-lg hover:bg-btn-primary-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Save Changes"})]})]})}):f.jsx("div",{className:"min-h-screen hero-gradient flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-gray-300",children:"Profile not found"}),f.jsx("button",{onClick:()=>r("/dashboard"),className:"mt-4 bg-btn-primary-bg text-btn-primary-text px-6 py-2 rounded-lg hover:bg-btn-primary-hover transition-colors",children:"Back to Dashboard"})]})})}function Yve({profile:t,onChange:e}){var i,o,a;const r=[{id:"weight_loss",label:"Weight Loss"},{id:"weight_gain",label:"Weight Gain"},{id:"muscle_gain",label:"Muscle Gain"},{id:"strength",label:"Strength"},{id:"endurance",label:"Endurance"},{id:"flexibility",label:"Flexibility"},{id:"general_fitness",label:"General Fitness"}],n=["dumbbells","barbell","bench","kettlebell","resistance_bands","pull_up_bar","treadmill","bike","rower","yoga_mat"];return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--glassmorphism-text)"},children:"Fitness Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Fitness Level"}),f.jsxs("select",{value:t.fitnessLevel||"",onChange:s=>e("fitnessLevel",s.target.value),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",children:[f.jsx("option",{value:"",children:"Select level"}),f.jsx("option",{value:"beginner",children:"Beginner"}),f.jsx("option",{value:"intermediate",children:"Intermediate"}),f.jsx("option",{value:"advanced",children:"Advanced"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred Workout Duration (minutes)"}),f.jsx("input",{type:"number",value:((i=t.workoutPreferences)==null?void 0:i.duration)||"",onChange:s=>e("workoutPreferences.duration",parseInt(s.target.value)),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",min:"15",max:"180"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Workouts per Week"}),f.jsx("input",{type:"number",value:((o=t.workoutPreferences)==null?void 0:o.frequency)||"",onChange:s=>e("workoutPreferences.frequency",parseInt(s.target.value)),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",min:"1",max:"7"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred Time of Day"}),f.jsxs("select",{value:((a=t.workoutPreferences)==null?void 0:a.timeOfDay)||"",onChange:s=>e("workoutPreferences.timeOfDay",s.target.value),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",children:[f.jsx("option",{value:"",children:"Select time"}),f.jsx("option",{value:"morning",children:"Morning"}),f.jsx("option",{value:"afternoon",children:"Afternoon"}),f.jsx("option",{value:"evening",children:"Evening"}),f.jsx("option",{value:"any",children:"Any time"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-3",children:"Primary Goals"}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:r.map(s=>{var l;return f.jsxs("label",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"checkbox",checked:((l=t.primaryGoals)==null?void 0:l.includes(s.id))||!1,onChange:u=>{const c=t.primaryGoals||[];u.target.checked?e("primaryGoals",[...c,s.id]):e("primaryGoals",c.filter(d=>d!==s.id))},className:"rounded border-input-border text-accent-primary focus:ring-border-focus"}),f.jsx("span",{className:"text-sm style={{ color: 'var(--glassmorphism-text)' }}",children:s.label})]},s.id)})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium style={{ color: 'var(--glassmorphism-text-secondary)' }} mb-3",children:"Available Equipment"}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.map(s=>{var l,u;return f.jsxs("label",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"checkbox",checked:((u=(l=t.workoutPreferences)==null?void 0:l.equipment)==null?void 0:u.includes(s))||!1,onChange:c=>{var p;const d=((p=t.workoutPreferences)==null?void 0:p.equipment)||[];c.target.checked?e("workoutPreferences.equipment",[...d,s]):e("workoutPreferences.equipment",d.filter(m=>m!==s))},className:"rounded border-input-border text-accent-primary focus:ring-border-focus"}),f.jsx("span",{className:"text-sm style={{ color: 'var(--glassmorphism-text)' }} capitalize",children:s.replace("_"," ")})]},s)})})]})]})}function Xve({profile:t,onChange:e}){return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--glassmorphism-text)"},children:"Notification Preferences"}),f.jsx("div",{className:"space-y-4",children:[{key:"email",label:"Email Notifications",description:"Receive updates via email"},{key:"push",label:"Push Notifications",description:"Receive push notifications on your device"},{key:"workoutReminders",label:"Workout Reminders",description:"Get reminded about scheduled workouts"},{key:"goalUpdates",label:"Goal Updates",description:"Get notified about goal progress"}].map(r=>{var n;return f.jsxs("div",{className:"flex items-center justify-between p-4 glassmorphism rounded-lg border border-card-border",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium style={{ color: 'var(--glassmorphism-text)' }}",children:r.label}),f.jsx("p",{className:"text-sm style={{ color: 'var(--glassmorphism-text-muted)' }}",children:r.description})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:((n=t.notifications)==null?void 0:n[r.key])||!1,onChange:i=>e(`notifications.${r.key}`,i.target.checked),className:"sr-only peer"}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]},r.key)})})]})}function Qve({profile:t,onChange:e}){var r;return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--glassmorphism-text)"},children:"Privacy Settings"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Profile Visibility"}),f.jsxs("select",{value:((r=t.privacy)==null?void 0:r.profileVisibility)||"public",onChange:n=>e("privacy.profileVisibility",n.target.value),className:"w-full px-3 py-2 bg-input-bg border border-input-border text-input-text rounded-md focus:outline-none focus:ring-2 focus:ring-border-focus",children:[f.jsx("option",{value:"public",children:"Public - Anyone can see your profile"}),f.jsx("option",{value:"friends",children:"Friends - Only friends can see your profile"}),f.jsx("option",{value:"private",children:"Private - Only you can see your profile"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium style={{ color: 'var(--glassmorphism-text)' }}",children:"Data Sharing"}),[{key:"showProgress",label:"Show Progress",description:"Allow others to see your fitness progress"},{key:"showWorkouts",label:"Show Workouts",description:"Allow others to see your workout history"}].map(n=>{var i;return f.jsxs("div",{className:"flex items-center justify-between p-4 glassmorphism rounded-lg border border-card-border",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium style={{ color: 'var(--glassmorphism-text)' }}",children:n.label}),f.jsx("p",{className:"text-sm style={{ color: 'var(--glassmorphism-text-muted)' }}",children:n.description})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:((i=t.privacy)==null?void 0:i[n.key])||!1,onChange:o=>e(`privacy.${n.key}`,o.target.checked),className:"sr-only peer"}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]},n.key)})]})]})]})}function Jve(){return D.useEffect(()=>{const t=localStorage.getItem("theme")||"light";x0(t)},[]),f.jsx(_6,{children:f.jsx(w6,{children:f.jsx(KW,{children:f.jsx(A6,{children:f.jsx(f6,{children:f.jsx(r7,{children:f.jsxs(o6,{children:[f.jsx(ln,{path:"/",element:f.jsx(cT,{})}),f.jsx(ln,{path:"/login",element:f.jsx(cT,{})}),f.jsx(ln,{path:"/signup",element:f.jsx(i7,{})}),f.jsx(ln,{path:"/dashboard",element:f.jsx(qo,{children:f.jsx(o7,{})})}),f.jsx(ln,{path:"/plans",element:f.jsx(qo,{children:f.jsx(a7,{})})}),f.jsx(ln,{path:"/track",element:f.jsx(qo,{children:f.jsx(c7,{})})}),f.jsx(ln,{path:"/goals",element:f.jsx(qo,{children:f.jsx(h7,{})})}),f.jsx(ln,{path:"/records",element:f.jsx(qo,{children:f.jsx(m7,{})})}),f.jsx(ln,{path:"/analytics",element:f.jsx(qo,{children:f.jsx(Gve,{})})}),f.jsx(ln,{path:"/profile",element:f.jsx(qo,{children:f.jsx(Kve,{})})})]})})})})})})})}Ev.createRoot(document.getElementById("root")).render(f.jsx(M.StrictMode,{children:f.jsx(Jve,{})}));
